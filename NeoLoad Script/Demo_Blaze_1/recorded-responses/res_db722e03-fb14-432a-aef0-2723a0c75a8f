(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{"5lkF":function(e,t,n){"use strict";n.r(t),n.d(t,"CountryScreen",(function(){return P}));n("2G9S"),n("KqXw"),n("MvUL");var r=n("1Pcy"),a=n.n(r),o=n("W/Kd"),c=n.n(o),l=n("KEM+"),i=n.n(l),s=n("ERkP"),u=n("zh9S"),d=n("P1r1"),h=n("oEGd"),p=n("0KEI"),b=n("hqKg"),g=(n("LW0h"),n("7xRU"),n("z84I"),n("tQbP"),n("+KXO"),[]),f={},m=n("O0uF"),y=n("RqPI"),E=n("S/HT"),S=[],v=Object(b.createSelector)(d.i,(function(e){var t=Object(m.e)(e,"account_country_setting_countries_whitelist"),n=Object(E.c)(e);return Array.isArray(t)?function(e,t){if(!e.length||0===Object.keys(t).length)return g;var n=e.join();return f[n]||(f[n]=e.map((function(e){return{label:t[e.toUpperCase()],value:e}})).filter((function(e){return e.label})).sort((function(e,t){return e.label.localeCompare(t.label)}))),f[n]}(t,n):S}),(function(e,t){return t.location&&t.location.query&&t.location.query.flow_status}),y.f,(function(e,t,n,r){return{countryCode:e,countryList:t,changeCountryFlowStatus:n,lang:r}})),C={createLocalApiErrorHandler:Object(p.d)("SETTINGS_COUNTRY_SCREEN"),fetchCountryNamesIfNeeded:E.a,googleAnalyticsPageView:u.a,scribePageImpression:u.d,updateSettings:d.E,fetchSettings:d.d},w=Object(h.g)(v,C),L=n("q82E"),F=n("7FtF"),I=n("WFkI"),A="Settings_Country_Selector",O=n("3xO4"),_=n.n(O),B=n("t62R"),T=n("6XNv"),R=n("rHpw"),N=n("3XMw"),k=n.n(N),x=k.a.c21037d0,D=k.a.i2209530,j=k.a.j924d222,G={page:"settings",section:"country"},P=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,i()(a()(t),"_handleCountryChange",(function(e){t.props.history.replace({pathname:"/i/flow/settings/change_country",query:{return_path:"/settings/country"},state:{input:{country_code:e}}})})),t}c()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.changeCountryFlowStatus,n=e.createLocalApiErrorHandler,r=e.fetchCountryNamesIfNeeded,a=e.fetchSettings,o=e.googleAnalyticsPageView,c=e.lang,l=e.scribePageImpression;t===L.d.Success&&a().catch(n()),r(c||""),o(G),l(G)},n.componentDidUpdate=function(){var e=this.props,t=e.changeCountryFlowStatus,n=e.createLocalApiErrorHandler,r=e.fetchSettings;t===L.d.Success&&r().catch(n())},n.render=function(){var e=this.props,t=e.location,n=e.countryCode,r=e.countryList,a=s.createElement(k.a.I18NFormatMessage,{$i18n:"bb988422"},s.createElement(B.c,{link:"https://support.twitter.com/articles/20169220"},k.a.a3c3beb4));return s.createElement(F.a,{location:t,submitLabel:D,title:j},s.createElement(I.a,null,s.createElement(_.a,{style:U.countrySelector},s.createElement(T.a,{helperText:a,label:x,onChange:this._handleCountryChange,options:r,testID:A,value:n||""}))))},t}(s.Component),U=R.a.create((function(e){return{countrySelector:{margin:e.spaces.medium}}}));t.default=w(P)},"6XNv":function(e,t,n){"use strict";n("2G9S"),n("z84I"),n("IAdD"),n("uFXj");var r=n("1Pcy"),a=n.n(r),o=n("W/Kd"),c=n.n(o),l=n("KEM+"),i=n.n(l),s=n("ERkP"),u=n("t62R"),d=n("SKmd"),h=n.n(d),p=n("rHpw"),b=(n("aWzz"),n("7DT3")),g=n.n(b),f=n("3xO4"),m=n.n(f),y=s.forwardRef((function(e,t){return g()("select",Object.assign({},e,{ref:t}))})),E=function(e){return g()("option",e)},S=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,i()(a()(t),"_selectRef",s.createRef()),i()(a()(t),"state",{isFocused:!1}),i()(a()(t),"_handleChange",(function(e){var n=t.props,r=n.onChange,a=n.withEmptyOption,o=e.target,c=o.selectedIndex,l=o.value;r&&r(l,c-(a?1:0))})),i()(a()(t),"_handleBlur",(function(e){var n=t.props.onBlur;t.setState({isFocused:!1}),n&&n()})),i()(a()(t),"_handleFocus",(function(e){var n=t.props.onFocus;t.setState({isFocused:!0}),n&&n()})),t}c()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.autofocus&&this._selectRef&&this._selectRef.current&&this._selectRef.current.focus()},n.render=function(){var e=this.props,t=e.style,n=e.disabled,r=e.options,a=e.value,o=e.label,c=e.hasError,l=e.helperText,i=e.testID,u=e.withEmptyOption,d=this.state.isFocused;return s.createElement(s.Fragment,null,s.createElement(m.a,{style:[v.container,n&&v.disabled,v.bottomBorder,n&&v.bottomBorderDisabled,d&&v.bottomBorderFocused,c&&v.bottomBorderError,t]},this._renderLabel(),s.createElement(m.a,{style:v.dropdownContainer},s.createElement(y,{accessibilityLabel:o,disabled:n,onBlur:this._handleBlur,onChange:this._handleChange,onFocus:this._handleFocus,ref:this._selectRef,style:[v.select,o&&v.selectWithLabel,n&&v.disabled],testID:i||"",value:a},u?s.createElement(E,{disabled:!0,style:v.option,value:""}):null,r.map((function(e){var t=e.disabled,n=e.label,r=e.value;return s.createElement(E,{disabled:t,key:n+"-"+r,style:v.option,value:r},n)}))),s.createElement(h.a,{style:[v.dropdownCaret,d&&v.dropdownCaretFocused,c&&v.dropdownCaretError]}))),l?this._renderHelperText():null)},n._renderLabel=function(){var e=this.props,t=e.hasError,n=e.label,r=this.state.isFocused;return s.createElement(u.c,{color:t?"red":r?"primary":"deepGray",style:v.label},n)},n._renderHelperText=function(){return s.createElement(m.a,{accessibilityLiveRegion:"polite"},s.createElement(u.c,{color:"deepGray",style:v.helperText},this.props.helperText))},t}(s.PureComponent);i()(S,"defaultProps",{disabled:!1,autofocus:!1,withEmptyOption:!1}),S.propTypes={};var v=p.a.create((function(e){return{container:{backgroundColor:e.colors.faintGray,paddingHorizontal:e.spaces.xSmall,borderWidth:e.borderWidths.none},disabled:{cursor:"default",opacity:.5},dropdownCaret:{color:e.colors.deepGray,height:"1.5em",pointerEvents:"none",position:"absolute",marginTop:"-0.75em",top:"50%",right:0},dropdownCaretFocused:{color:e.colors.primary},dropdownContainer:{position:"relative"},bottomBorder:{borderBottomWidth:e.borderWidths.medium,borderBottomColor:e.colors.deepGray,borderRadius:e.borderWidths.medium},bottomBorderFocused:{borderBottomColor:e.colors.primary},bottomBorderDisabled:{borderBottomColor:e.colors.transparent},dropdownCaretError:{color:e.colors.red},bottomBorderError:{borderBottomColor:e.colors.red},label:{alignSelf:"flex-start",paddingTop:e.spaces.xxSmall},option:{backgroundColor:e.colors.navigationBackground},select:{appearance:"none",backgroundColor:"transparent",borderRadius:0,borderWidth:e.borderWidths.none,color:e.colors.text,cursor:"pointer",fontSize:e.fontSizes.large,margin:0,outlineStyle:"none",padding:0,paddingRight:"1.5em",paddingVertical:e.spaces.small},selectWithLabel:{paddingBottom:e.spaces.xxSmall,paddingTop:e.spaces.micro},helperText:{alignSelf:"flex-start",paddingHorizontal:e.spaces.xSmall,paddingTop:e.spaces.xxSmall}}}));t.a=S},"7FtF":function(e,t,n){"use strict";n("2G9S");var r=n("1Pcy"),a=n.n(r),o=n("W/Kd"),c=n.n(o),l=n("KEM+"),i=n.n(l),s=n("ERkP"),u=n("P1r1"),d=n("oEGd"),h=n("0KEI"),p=n("hqKg"),b=n("G6rE"),g=Object(p.createSelector)(u.m,b.e.selectLoggedInUser,(function(e,t){return{fetchStatus:e,loggedInUser:t}})),f={fetchSettingsIfNeeded:u.e,createLocalApiErrorHandler:Object(h.d)("SETTINGS_LOADER")},m=Object(d.g)(g,f),y=n("v//M"),E=n("3XMw"),S=n.n(E),v=n("M2mT"),C="settingsDetailSave",w=n("mw9i"),L=n("0yYu"),F=n("/yvb"),I=n("rHpw"),A=S.a.i2209530,O=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,i()(a()(t),"_renderWithFetchSettings",(function(){var e=t.props.fetchStatus;return s.createElement(y.a,{fetchStatus:e,onRequestRetry:t._handleFetch,render:t._render})})),i()(a()(t),"_render",(function(){var e=t.props,n=e.children,r=e.onSubmit,a=e.submitDisabled,o=e.submitLabel,c=e.submitType,l=e.withMarginBottom;return s.createElement(w.a,{style:[_.contentRoot,l&&_.withMarginBottom]},n,r?s.createElement(s.Fragment,null,s.createElement(L.a,null),s.createElement(w.a,{style:[_.buttonContainer]},s.createElement(F.a,{disabled:a,onPress:r,style:_.button,testID:C,type:c},o))):null)})),i()(a()(t),"_handleFetch",(function(){var e=t.props,n=e.createLocalApiErrorHandler;(0,e.fetchSettingsIfNeeded)().catch(n())})),t}c()(t,e);var n=t.prototype;return n.UNSAFE_componentWillMount=function(){this._handleFetch()},n.getBackLocation=function(){var e=this.props,t=e.location,n=e.loggedInUser?"/settings":"/settings/account/personalization";return t&&t.pathname===n?"/":n},n.render=function(){var e=this.props,t=e.screenType,n=e.loggedInUser,r=e.rightControl,a=e.secondaryBar,o=e.title,c=this.getBackLocation(),l=n?"@"+n.screen_name:void 0;return s.createElement(v.a,{backLocation:c,rightControl:r,screenType:t,secondaryBar:a,showSubtitleOnWideDetail:!1,subtitle:l,title:o},n?this._renderWithFetchSettings():this._render())},t}(s.Component);i()(O,"defaultProps",{submitLabel:A,submitType:"primary",withMarginBottom:!0});var _=I.a.create((function(e){return{contentRoot:{backgroundColor:e.colors.cellBackground,backgroundClip:"content-box",justifyContent:"flex-start"},buttonContainer:{backgroundColor:e.colors.cellBackground,flexDirection:"row",justifyContent:"flex-end",marginVertical:0,marginHorizontal:"auto",paddingVertical:e.spaces.xSmall,paddingHorizontal:0},button:{marginVertical:0,marginHorizontal:e.spaces.xSmall},withMarginBottom:{marginBottom:e.spaces.jumbo}}}));t.a=m(O)},FDFL:function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return g}));n("hBpG"),n("tQbP"),n("ho0z"),n("IAdD"),n("7x/C"),n("JtPf");var r,a=n("oEOe"),o=n("kGix"),c=n("ikiw"),l=n.n(c),i=n("Ssj5"),s=n("RqPI"),u=a.a("rweb/availableLanguages","FETCH_AVAILABLE_LANGUAGES"),d={fetchStatus:o.a.NONE,languages:[]};function h(e,t){void 0===e&&(e=d),void 0===t&&(t={});var n=t.meta&&t.meta.lang?t.meta.lang:"en",r=void 0!==window.Intl&&window.Intl.Collator&&new window.Intl.Collator(n),a=r?function(e,t){return r.compare(e.name,t.name)}:void 0;switch(t.type){case u.REQUEST:return Object.assign({},e,{fetchStatus:o.a.LOADING});case u.FAILURE:return Object.assign({},e,{error:t.payload,fetchStatus:o.a.FAILED});case u.SUCCESS:return Object.assign({},e,{languages:t.payload.sort(a),fetchStatus:o.a.LOADED});default:return e}}i.a.register(((r={}).availableLanguages=h,r));var p=function(e){return e.availableLanguages.languages},b=function(e,t){var n=l.a.getTwitterLocale(t).toLowerCase(),r=e.availableLanguages.languages.find((function(e){return e.code===n}));return r?r.name:null},g=function(){return function(e,t){return t().availableLanguages.fetchStatus===o.a.LOADED?Promise.resolve():e(f())}},f=function(e){return function(t,n,r){var o=r.api;return a.b(t,{params:e,meta:{lang:Object(s.f)(n())},request:o.FeatureSwitch.fetchLanguages})({actionTypes:u,context:"FETCH_AVAILABLE_LANGUAGES"})}}},"S/HT":function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));n("IAdD"),n("7x/C"),n("JtPf");var r,a=n("kGix"),o=n("Ssj5"),c={fetchStatus:a.a.NONE,countries:{}},l={REQUEST:"countryNames_REQUEST",FAILURE:"countryNames_FAILURE",SUCCESS:"countryNames_SUCCESS"},i=function(e,t){switch(void 0===e&&(e=c),t.type){case l.REQUEST:return Object.assign({},e,{fetchStatus:a.a.LOADING});case l.FAILURE:return Object.assign({},e,{fetchStatus:a.a.NONE});case l.SUCCESS:return Object.assign({},e,{countries:t.payload,fetchStatus:a.a.LOADED});default:return e}};o.a.register(((r={}).countryNames=i,r));var s=function(e){return e.countryNames.countries},u=function(e,t){var n=t&&t.toUpperCase();return e.countryNames.countries[n]},d=function e(t){return function(r,o){return o().countryNames.fetchStatus===a.a.LOADED?Promise.resolve():(r({type:l.REQUEST}),function(e){switch(e){case"ar":return n.e(220).then(n.t.bind(null,"heBS",3));case"bg":return n.e(221).then(n.t.bind(null,"9kpF",3));case"bn":return n.e(222).then(n.t.bind(null,"GG9y",3));case"ca":return n.e(223).then(n.t.bind(null,"icrD",3));case"cs":return n.e(224).then(n.t.bind(null,"rxOR",3));case"da":return n.e(225).then(n.t.bind(null,"6Nxr",3));case"de":return n.e(226).then(n.t.bind(null,"zSOo",3));case"el":return n.e(227).then(n.t.bind(null,"MOmn",3));case"en-GB":return n.e(229).then(n.t.bind(null,"vzeG",3));case"en":return n.e(228).then(n.t.bind(null,"WqZ6",3));case"es":return n.e(230).then(n.t.bind(null,"v4/g",3));case"eu":return n.e(231).then(n.t.bind(null,"KXIK",3));case"fa":return n.e(232).then(n.t.bind(null,"vzCi",3));case"fi":return n.e(233).then(n.t.bind(null,"YthM",3));case"fil":return n.e(234).then(n.t.bind(null,"AcRS",3));case"fr":return n.e(235).then(n.t.bind(null,"PuNY",3));case"ga":return n.e(236).then(n.t.bind(null,"FSy8",3));case"gl":return n.e(237).then(n.t.bind(null,"igcB",3));case"gu":return n.e(238).then(n.t.bind(null,"DaQw",3));case"he":return n.e(239).then(n.t.bind(null,"8mgg",3));case"hi":return n.e(240).then(n.t.bind(null,"w88S",3));case"hr":return n.e(241).then(n.t.bind(null,"dvLs",3));case"hu":return n.e(242).then(n.t.bind(null,"9fGX",3));case"id":return n.e(243).then(n.t.bind(null,"elf3",3));case"it":return n.e(244).then(n.t.bind(null,"sxFK",3));case"ja":return n.e(245).then(n.t.bind(null,"1/Dg",3));case"kn":return n.e(246).then(n.t.bind(null,"nFOI",3));case"ko":return n.e(247).then(n.t.bind(null,"RRUG",3));case"mr":return n.e(248).then(n.t.bind(null,"EpxJ",3));case"ms":return n.e(249).then(n.t.bind(null,"cSS2",3));case"nb":return n.e(250).then(n.t.bind(null,"bg3k",3));case"nl":return n.e(251).then(n.t.bind(null,"eXnI",3));case"pl":return n.e(252).then(n.t.bind(null,"ACpo",3));case"pt":return n.e(253).then(n.t.bind(null,"J0At",3));case"ro":return n.e(254).then(n.t.bind(null,"hxXa",3));case"ru":return n.e(255).then(n.t.bind(null,"gXfs",3));case"sk":return n.e(256).then(n.t.bind(null,"fy2h",3));case"sr":return n.e(257).then(n.t.bind(null,"FmvU",3));case"sv":return n.e(258).then(n.t.bind(null,"prb2",3));case"ta":return n.e(259).then(n.t.bind(null,"8KkY",3));case"th":return n.e(260).then(n.t.bind(null,"g4c5",3));case"tr":return n.e(261).then(n.t.bind(null,"NngR",3));case"uk":return n.e(262).then(n.t.bind(null,"62bs",3));case"ur":return n.e(263).then(n.t.bind(null,"aKQ3",3));case"zh-Hant":return n.e(265).then(n.t.bind(null,"Wk8C",3));case"zh":return n.e(264).then(n.t.bind(null,"YXaK",3));default:return Promise.reject(new Error("Tried to import country names for unknown language key: "+e))}}(t).then((function(e){var n=e.main[t].localeDisplayNames.territories;r({type:l.SUCCESS,payload:n})})).catch((function(){r("en"===t?{type:l.FAILURE}:e("en"))})))}}},WFkI:function(e,t,n){"use strict";var r=n("W/Kd"),a=n.n(r),o=n("KEM+"),c=n.n(o),l=n("ERkP"),i=n("rHpw"),s=n("3xO4"),u=n.n(s),d=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.withBottomBorder,r=e.withTopBorder;return l.createElement(u.a,{style:[n&&h.bottomBorder,r&&h.topBorder]},t)},t}(l.PureComponent);c()(d,"defaultProps",{withBottomBorder:!1,withTopBorder:!1});var h=i.a.create((function(e){return{bottomBorder:{borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:e.colors.borderColor},topBorder:{borderTopWidth:1,borderTopStyle:"solid",borderTopColor:e.colors.borderColor}}}));t.a=d},oK9f:function(e,t,n){"use strict";n.r(t),n.d(t,"LanguageScreen",(function(){return R}));n("IAdD");var r=n("ERkP"),a=(n("z84I"),n("ho0z"),n("P1r1")),o=n("oEGd"),c=n("0KEI"),l=n("hqKg"),i=n("ikiw"),s=n("3XMw"),u=n.n(s),d=n("zh9S"),h=n("RqPI"),p=n("FDFL"),b=u.a.cef33711,g=Object(l.createSelector)(h.f,p.c,(function(e,t){return{languageCode:Object(i.getTwitterLocale)(e).toLowerCase(),languageList:t.map((function(e){var t=e.status,n=e.name,r=e.local_name,a=e.code,o="beta"===t?b({languageName:n}):n;return{label:n===r?o:o+" - "+r,value:a}}))}})),f={createLocalApiErrorHandler:Object(c.d)("SETTINGS_LANGUAGE_SCREEN"),fetchAvailableLanguagesIfNeeded:p.a,scribeAction:d.c,updateSettings:a.E},m=Object(o.g)(g,f),y=n("7JQg"),E=n("yoO3"),S=n("7FtF"),v=n("WFkI"),C="languageSelector",w=n("3xO4"),L=n.n(w),F=n("6XNv"),I=n("rHpw"),A=u.a.a4b69cbb,O=u.a.i2209530,_=u.a.f953f53a,B=u.a.b67e1fc0,T={page:"settings",section:"language"},R=function(e){var t=e.languageCode,n=e.languageList,a=e.location,o=e.createLocalApiErrorHandler,c=e.fetchAvailableLanguagesIfNeeded,l=r.useState(t),i=l[0],s=l[1];r.useEffect((function(){c().catch(o({showToast:!0}))}),[o,c]);var u=r.useCallback((function(e){return s(e)}),[]);return r.createElement(E.a,null,r.createElement(S.a,{location:a,onSubmit:function(){var t=e.createLocalApiErrorHandler,n=e.scribeAction,r=e.updateSettings;n(Object.assign({},T,{action:"edit"})),r({lang:i}).then((function(){window.location.reload(!0)})).catch(t({showToast:!0}))},submitDisabled:i===t,submitLabel:O,title:_},r.createElement(v.a,null,r.createElement(L.a,{style:N.languageSelector,testID:C},r.createElement(F.a,{helperText:B,label:A,onChange:u,options:n,value:i})))))},N=I.a.create((function(e){return{languageSelector:{margin:e.spaces.medium}}}));t.default=Object(y.c)(T)(m(R))}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/web_legacy/bundle.SettingsInternals.97bd6a24.js.map