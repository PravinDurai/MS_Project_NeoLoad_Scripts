(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{"0crt":function(e,n,t){"use strict";t.r(n),t.d(n,"SmsLoginScreen",(function(){return z}));t("IAdD"),t("KqXw"),t("MvUL"),t("uFXj");var r=t("1Pcy"),i=t.n(r),a=t("W/Kd"),c=t.n(a),o=t("KEM+"),l=t.n(o),s=t("ERkP"),m=t("zh9S"),u=t("RqPI"),g=t("oEGd"),p=t("0KEI"),h=t("hqKg"),d=t("kGix"),b=t("G6rE"),f=Object(h.createSelector)((function(e){var n=u.c(e);return n?Object(b.f)(["screen_name"])(e,n):d.a.LOADING}),u.j,d.c),E=Object(h.createSelector)(f,(function(e){var n=u.c(e),t=n&&b.e.select(e,n);return t&&t.screen_name}),u.i,u.c,u.h,(function(e,n,t,r,i){return{fetchStatus:e,isSmsEligible:t?"true"===t.sms.eligible:void 0,loginReturnPath:i,phoneNumber:t?t.sms.phone_number:void 0,userId:r,userScreenName:n}})),_={createLocalApiErrorHandler:Object(p.d)("SMS_LOGIN_SCREEN"),fetchOneUserIfNeeded:b.e.fetchOneIfNeeded,fetchOneFactorLoginEligibility:u.b,scribeAction:m.c,setLoginReturnPath:u.l},L=Object(g.g)(E,_),S=t("7JQg"),y=t("GOQE"),N=t("v//M"),v=t("3XMw"),w=t.n(v),O=t("GQKA"),P=t.n(O),A=t("6oVL"),k=t("yoO3"),R="legalTerm",T=t("fEA7"),j=t.n(T),C=t("mw9i"),I=t("t62R"),U=t("rHpw"),x=w.a.f0816dee,G=w.a.f9c558ae,F=w.a.haa104f0,B=w.a.h25bc383,K=w.a.ecde12c1,M=w.a.j4824c52,q=w.a.fca32b2f,z=function(e){function n(n){var t;return t=e.call(this,n)||this,l()(i()(t),"_renderContent",(function(){var e=t.props,n=e.userScreenName,r=e.loginReturnPath,i=e.phoneNumber,a=n?"/login?username_or_email="+encodeURIComponent(n):"/login";return s.createElement(C.a,{style:D.root,withGutter:!0},s.createElement(P.a,{style:D.icon}),s.createElement(I.c,{accessibilityRole:"heading",align:"center",size:"xLarge",style:D.heading,weight:"bold"},G({userScreenName:n})),s.createElement(I.c,{align:"center",color:"deepGray",size:"normal",style:D.phoneNumberText},K({phoneNumber:i})),s.createElement(A.a,{formActionUrl:"/login/error_options_sms",loginReturnPath:r,submitButtonLabel:F,submitButtonStyle:D.submitButton},s.createElement("input",{name:"session[username_or_email]",type:"hidden",value:n})),s.createElement(I.c,{align:"center",style:D.buttonWrapper},s.createElement(I.c,{align:"center",link:a,onClick:t._handleScribePasswordLoginClick,weight:"bold"},B)),s.createElement(I.c,{style:D.legalTerm},s.createElement(I.c,{align:"center",color:"deepGray",size:"small",weight:"normal"},M)," ",s.createElement(I.c,{align:"center",link:a,onClick:t._handleUpdatePhoneNumberClick,size:"small",testID:R},q)))})),l()(i()(t),"_handleFetchUserAndLoginEligibility",(function(){var e=t.props,n=e.createLocalApiErrorHandler,r=e.fetchOneUserIfNeeded,i=e.fetchOneFactorLoginEligibility,a=e.userId;a?(i().catch(n()),r(a).catch(n(y.a))):t._redirectToLoginPage()})),l()(i()(t),"_handleScribePasswordLoginClick",(function(){var e=t.props,n=e.scribeAction,r=e.scribeNamespace;n(Object.assign({},r,{element:"password_login",action:"click"}))})),l()(i()(t),"_handleUpdatePhoneNumberClick",(function(){var e=t.props,n=e.scribeAction,r=e.scribeNamespace;(0,e.setLoginReturnPath)("/settings/phone"),n(Object.assign({},r,{element:"update_phone_number",action:"click"}))})),l()(i()(t),"_redirectToLoginPage",(function(e){t.props.history.replace({pathname:"/login",query:{username_or_email:e}})})),t._mobileLoginToken=j.a.v1().replace(/-/g,""),t}c()(n,e);var t=n.prototype;return t.UNSAFE_componentWillReceiveProps=function(e){var n=e.fetchStatus,t=e.isSmsEligible,r=e.userScreenName;n!==d.a.LOADED||t||this._redirectToLoginPage(r)},t.UNSAFE_componentWillMount=function(){this._handleFetchUserAndLoginEligibility()},t.render=function(){var e=this.props.fetchStatus;return s.createElement(k.a,null,s.createElement(N.a,{accessibilityLabel:x,fetchStatus:e,onRequestRetry:this._handleFetchUserAndLoginEligibility,render:this._renderContent}))},n}(s.Component);l()(z,"defaultProps",{loginReturnPath:"/"});var D=U.a.create((function(e){return{root:{marginTop:e.spaces.xxLarge},icon:{color:e.colors.brandColor,height:e.spaces.xLarge,marginBottom:e.spaces.xSmall},heading:{marginTop:e.spaces.jumbo,width:"100%"},phoneNumberText:{marginTop:e.spaces.small,marginBottom:e.spaces.xxLarge},buttonWrapper:{marginTop:e.spaces.medium},legalTerm:{marginTop:e.spaces.large,textAlign:"center"},submitButton:{alignSelf:"center"}}}));n.default=Object(S.c)({page:"login_sms"})(L(z))}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/web_legacy/bundle.SmsLogin.70713224.js.map