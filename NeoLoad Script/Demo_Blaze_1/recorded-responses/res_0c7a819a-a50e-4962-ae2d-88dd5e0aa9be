(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{"0kTQ":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r,a=n("k49u"),o=n("3XMw"),i=n.n(o).a.b20a3893,c=((r={})[a.a.TargetUserNotFound]={toast:{text:i}},r.showToast=!0,r)},"1UMd":function(e,t,n){"use strict";n.r(t),n.d(t,"MultiAccountScreen",(function(){return ne}));n("2G9S"),n("z84I"),n("ho0z"),n("IAdD"),n("uFXj");var r=n("1Pcy"),a=n.n(r),o=n("W/Kd"),i=n.n(o),c=n("KEM+"),l=n.n(c),s=n("ERkP"),u=n("EPsT"),d=n("oEGd"),h=n("0KEI"),m=n("hqKg"),f=n("zh9S"),p=n("G6rE"),g=n("auX9"),b=n("KkUe"),_=Object(m.createSelector)(p.e.selectLoggedInUser,g.g,g.j,(function(e,t,n){return{loggedInUser:e,fetchStatus:t,users:n}})),S={fetchMultiAccountListIfNeeded:g.d,createLocalApiErrorHandler:Object(h.d)("ACCOUNT_SWITCHER_MULTI_LIST_FETCH"),logout:b.a,logoutAll:b.b,scribeAction:f.c,switchAccount:g.l},E=Object(d.g)(_,S),w=n("7JQg"),C=n("wrlS"),A=n("kGix"),y=n("v//M"),v=n("jHSc"),B=n("3XMw"),k=n.n(B),L=n("5/+E"),M=n.n(L),I=n("0kTQ"),T=n("yoO3"),j="AccountSwitcher_Add_Button",H="AccountSwitcher_Switch_Button",F=n("3xO4"),O=n.n(F),V=n("jtO7"),U=n("t62R"),x=n("0yYu"),P=n("IMA+"),R=n("Znyr"),z=n("rHpw"),N=k.a.b8e1d524,D=k.a.j0a8da6e,K=k.a.b6bd6ae3,G=k.a.d2b8e92b,W=k.a.dc65b3e4,X=k.a.i859a9d3,J="https://help.twitter.com/managing-your-account/managing-multiple-twitter-accounts",q=k.a.ae1bbb26,Q=k.a.bade139e,Y=k.a.ae33b982,Z=k.a.fa07bf68,$=k.a.d86bbf0f,ee=k.a.h6beb5fa,te={page:"account_switcher"},ne=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,l()(a()(t),"state",{spinner:!1}),l()(a()(t),"_render",(function(){var e=C.a.getNumberValue("responsive_web_multiple_account_limit",5),n=t.props.users.length>=e;return s.createElement(s.Fragment,null,t._renderUsers(),s.createElement(V.a,{align:"left",color:"primary",disabled:n,label:D,onPress:t._handleAddAccount,testID:j,withBottomBorder:!0}),s.createElement(O.a,{style:[re.whiteBackground,re.infoText]},s.createElement(U.c,{color:"deepGray"},(n?W:G)({maxAccounts:e})," ",s.createElement(U.c,{link:J},X))),s.createElement(x.a,null),s.createElement(u.a,{color:"red",confirmationSheetConfirmButtonLabel:q,confirmationSheetConfirmButtonType:"primary",confirmationSheetHeadline:Y,confirmationSheetText:Z,key:"logoutAllButton",label:Q,onConfirmationSheetConfirm:t._handleLogoutAll,withBottomBorder:!1}))})),l()(a()(t),"_renderUsers",(function(){var e=t.props,n=e.loggedInUser,r=e.users;return s.createElement(s.Fragment,null,r.map((function(e){var r=n&&e.user_id===n.id_str;return s.createElement(P.a,{avatarUri:e.avatar_image_url,badgeContext:"account",decoration:r?t._renderCurrentUserCheckmark():t._renderBadge(e.badgeCount),displayMode:"UserCompact",isProtected:e.is_protected,isVerified:e.is_verified,key:e.screen_name,name:e.name,onCellClick:r?void 0:t._handleSwitchAccount(e.user_id,!!e.badgeCount),screenName:e.screen_name,style:re.whiteBackground,testID:H,userId:e.user_id,withBottomBorder:!0,withLink:!1})})))})),l()(a()(t),"_renderCurrentUserCheckmark",(function(){return s.createElement(M.a,{accessibilityLabel:K,style:re.iconCheckMark})})),l()(a()(t),"_renderBadge",(function(e){return e?s.createElement(O.a,null,s.createElement(R.a,{count:e,standalone:!0,truncatedCountFormatter:ee,unreadCountLabel:$})):null})),l()(a()(t),"_handleFetch",(function(){var e=t.props,n=e.createLocalApiErrorHandler;(0,e.fetchMultiAccountListIfNeeded)().catch(n())})),l()(a()(t),"_handleAddAccount",(function(){var e=t.props,n=e.history;(0,e.scribeAction)(Object.assign({},te,{element:"sign_in",action:"click"})),n.push("/account/add")})),l()(a()(t),"_handleSwitchAccount",(function(e,n){return function(){var r=t.props,a=r.createLocalApiErrorHandler,o=r.scribeAction,i=r.switchAccount;t.setState({spinner:!0}),o(Object.assign({},te,{element:n?"account_bubble_badged":"account_bubble",action:"click"})),i({user_id:e}).catch((function(e){return t.setState({spinner:!1}),a(I.a)(e)}))}})),l()(a()(t),"_handleLogoutAll",(function(){var e=t.props,n=e.createLocalApiErrorHandler,r=e.logoutAll,a=e.scribeAction;t.setState({spinner:!0}),a(Object.assign({},te,{element:"logout_all",action:"click"})),r().catch((function(e){return t.setState({spinner:!1}),n()(e)}))})),t}i()(t,e);var n=t.prototype;return n.componentDidMount=function(){(0,this.props.fetchMultiAccountListIfNeeded)()},n.render=function(){var e=this.props,t=e.fetchStatus,n=e.history,r=e.location,a=this.state.spinner;return s.createElement(T.a,null,s.createElement(v.b,{history:n,location:r,title:N},s.createElement(y.a,{fetchStatus:a?A.a.LOADING:t,onRequestRetry:this._handleFetch,render:this._render})))},t}(s.Component),re=z.a.create((function(e){return{iconCheckMark:{color:e.colors.primary,fontSize:"1.2em"},infoText:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.spaces.small},whiteBackground:{backgroundColor:e.colors.cellBackground}}}));t.default=Object(w.c)(te)(E(ne))},EPsT:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("1Pcy"),a=n.n(r),o=n("W/Kd"),i=n.n(o),c=n("KEM+"),l=n.n(c),s=n("ERkP"),u=n("jtO7"),d=n("eb3s"),h=function(e){function t(t){var n;return n=e.call(this,t)||this,l()(a()(n),"_handleClick",(function(e){n.setState({showConfirmation:!0})})),l()(a()(n),"_handleCancel",(function(){n.setState({showConfirmation:!1})})),l()(a()(n),"_handleConfirm",(function(){n.setState({showConfirmation:!1}),n.props.onConfirmationSheetConfirm()})),n.state={showConfirmation:!1},n}return i()(t,e),t.prototype.render=function(){var e=this.props,t=e.color,n=e.confirmationSheetConfirmButtonLabel,r=e.confirmationSheetHeadline,a=e.confirmationSheetText,o=e.label,i=e.confirmationSheetConfirmButtonType,c=e.withBottomBorder;return s.createElement(s.Fragment,null,s.createElement(u.a,{color:t,label:o,onPress:this._handleClick,withBottomBorder:c}),this.state.showConfirmation?s.createElement(d.a,{confirmButtonLabel:n,confirmButtonType:i,headline:r,onCancel:this._handleCancel,onConfirm:this._handleConfirm,text:a}):null)},t}(s.Component);l()(h,"defaultProps",{color:"red"})},U13f:function(e,t,n){"use strict";n.r(t),n.d(t,"MultiAccountLoginScreen",(function(){return T}));n("2G9S");var r=n("1Pcy"),a=n.n(r),o=n("W/Kd"),i=n.n(o),c=n("KEM+"),l=n.n(c),s=n("ERkP"),u=n("oEGd"),d=n("0KEI"),h=n("hqKg"),m=n("auX9"),f=Object(h.createSelector)(m.f,m.g,m.j,(function(e,t,n){return{errorMessage:e,fetchStatus:t,multiAccountListLength:n.length}})),p={fetchMultiAccountListIfNeeded:m.d,createLocalApiErrorHandler:Object(d.d)("ACCOUNT_SWITCHER_MULTI_ADD"),addAccount:m.a,resetErrorMessages:m.e},g=Object(u.g)(f,p),b=n("7JQg"),_=n("wrlS"),S=n("jHSc"),E=n("3Wr5"),w=n("3XMw"),C=n.n(w),A=n("6oVL"),y=n("zCf4"),v=n("t62R"),B=n("G1WX"),k=n("rHpw"),L=n("XJCT"),M=C.a.b8e1d524,I=C.a.j0a8da6e,T=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,l()(a()(t),"state",{autoSubmit:!1,passwordValue:"",passwordValueSet:!1,usernameValue:"",usernameValueSet:!1}),l()(a()(t),"_render",(function(){var e=t.props,n=e.errorMessage,r=e.multiAccountListLength,a=t.state.autoSubmit,o=_.a.getNumberValue("responsive_web_multiple_account_limit",5);return r&&r>=o?s.createElement(y.a,{to:"/account/switch"}):s.createElement(s.Fragment,null,s.createElement(v.c,{accessibilityRole:"heading",align:"center",size:"large",style:j.heading,weight:"bold"},I),n?s.createElement(v.c,{color:"red",style:j.errorMessage},n):null,s.createElement(A.a,{autoSubmit:a,hideSubmitButton:!1,loginReturnPath:"/account/switch",onSubmit:t._handleSubmit,submitButtonDisabled:t._hasMissingFields(),submitButtonSize:"normalLarge",submitButtonStyle:j.submitButton},s.createElement(L.b,{onChange:t._handleUsernameFieldChange,onSubmitEditing:t._handleSubmitEditing,value:t.state.usernameValue}),s.createElement(L.a,{onChange:t._handlePasswordFieldChange,onSubmitEditing:t._handleSubmitEditing,value:t.state.passwordValue,withForgotPasswordLink:!0})))})),l()(a()(t),"_hasMissingFields",(function(){var e=t.state,n=e.usernameValueSet,r=e.passwordValueSet;return!n||!r})),l()(a()(t),"_testInputTruthy",(function(e){return e&&e.target&&!!e.target.value})),l()(a()(t),"_handleUsernameFieldChange",(function(e){t.setState({usernameValueSet:t._testInputTruthy(e)}),t.setState({usernameValue:e.target.value})})),l()(a()(t),"_handlePasswordFieldChange",(function(e){t.setState({passwordValueSet:t._testInputTruthy(e)}),t.setState({passwordValue:e.target.value})})),l()(a()(t),"_handleSubmit",(function(e){var n=t.props,r=n.addAccount,a=n.createLocalApiErrorHandler;if(!t._hasMissingFields()){var o=t.state,i=o.usernameValue,c=o.passwordValue,l=e.namedItem("ui_metrics");r({username:i,password:c,redirectAfterLogin:"/home",uiMetrics:l?l.value:void 0}).catch(a({}))}})),l()(a()(t),"_handleSubmitEditing",(function(){t._hasMissingFields()||t.setState({autoSubmit:!0})})),l()(a()(t),"_handleFetch",(function(){var e=t.props,n=e.createLocalApiErrorHandler;(0,e.fetchMultiAccountListIfNeeded)().catch(n())})),t}i()(t,e);var n=t.prototype;return n.componentDidMount=function(){(0,this.props.fetchMultiAccountListIfNeeded)()},n.componentWillUnmount=function(){(0,this.props.resetErrorMessages)()},n.render=function(){var e=this.props,t=e.history,n=e.location,r=e.fetchStatus,a=Object(E.a)().hasMultiAccountCookie;return s.createElement(S.b,{backLocation:"/account/switch",history:t,location:n,title:M},a?s.createElement(B.a,{fetchStatus:r,onRequestRetry:this._handleFetch,render:this._render}):this._render())},t}(s.Component),j=k.a.create((function(e){return{submitButton:{marginHorizontal:e.spaces.xSmall},heading:{marginVertical:e.spaces.xLarge},errorMessage:{marginHorizontal:e.spaces.xSmall}}}));t.default=Object(b.c)({page:"account_switcher",section:"login"})(g(T))},jtO7:function(e,t,n){"use strict";n("uFXj");var r=n("97Jx"),a=n.n(r),o=n("LdEA"),i=n.n(o),c=n("ERkP"),l=n("t62R"),s=n("I4+6"),u=n("cm6r"),d=n("rHpw"),h=n("3xO4"),m=n.n(h),f=d.a.create((function(e){return{container:{backgroundColor:e.colors.cellBackground},root:{justifyContent:"center",minHeight:e.spaces.xxLarge,paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.spaces.small},bottomBorder:{borderBottomColor:e.colors.borderColor,borderBottomStyle:"solid",borderBottomWidth:1}}}));t.a=function(e){var t=e.align,n=void 0===t?"center":t,r=e.color,o=e.label,h=e.withBottomBorder,p=void 0===h||h,g=i()(e,["align","color","label","withBottomBorder"]),b=s.a.generate({backgroundColor:d.a.theme.colors.transparent,color:d.a.theme.colors[r],insetFocusRing:!0}),_=[f.root,p&&f.bottomBorder];return c.createElement(m.a,{style:f.container},c.createElement(u.a,a()({},g,{interactiveStyles:b,style:_}),c.createElement(l.c,{align:n,color:r},o)))}}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/web_legacy/bundle.MultiAccount.b318a8b4.js.map