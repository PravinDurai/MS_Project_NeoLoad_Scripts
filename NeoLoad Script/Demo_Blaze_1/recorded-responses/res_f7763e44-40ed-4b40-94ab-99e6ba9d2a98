(window.webpackJsonp=window.webpackJsonp||[]).push([[50,197],{"+ZX+":function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var a=n("dEMF"),r=n("1TxV"),i=n("Rl48");function o(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,n)}function c(e,t,n,a){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,a){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(a||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===a?new Uint8Array(t):void 0===a?new Uint8Array(t,n):new Uint8Array(t,n,a);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=p(e,t);return e}(e,t,n,a):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var a=0|f(t,n),r=(e=s(e,a)).write(t,n);r!==a&&(e=e.slice(0,r));return e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(a=t.length)!=a?s(e,0):p(e,t);if("Buffer"===t.type&&i(t.data))return p(e,t.data)}var a;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|h(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function p(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var a=0;a<n;a+=1)e[a]=255&t[a];return e}function h(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function f(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var a=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return M(e).length;default:if(a)return V(e).length;t=(""+t).toLowerCase(),a=!0}}function _(e,t,n){var a=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return x(this,t,n);case"latin1":case"binary":return O(this,t,n);case"base64":return I(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,n);default:if(a)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function m(e,t,n){var a=e[t];e[t]=e[n],e[n]=a}function b(e,t,n,a,r){if(0===e.length)return-1;if("string"==typeof n?(a=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=l.from(t,a)),l.isBuffer(t))return 0===t.length?-1:g(e,t,n,a,r);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):g(e,[t],n,a,r);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,a,r){var i,o=1,s=e.length,l=t.length;if(void 0!==a&&("ucs2"===(a=String(a).toLowerCase())||"ucs-2"===a||"utf16le"===a||"utf-16le"===a)){if(e.length<2||t.length<2)return-1;o=2,s/=2,l/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(r){var u=-1;for(i=n;i<s;i++)if(c(e,i)===c(t,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===l)return u*o}else-1!==u&&(i-=i-u),u=-1}else for(n+l>s&&(n=s-l),i=n;i>=0;i--){for(var d=!0,p=0;p<l;p++)if(c(e,i+p)!==c(t,p)){d=!1;break}if(d)return i}return-1}function v(e,t,n,a){n=Number(n)||0;var r=e.length-n;a?(a=Number(a))>r&&(a=r):a=r;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");a>i/2&&(a=i/2);for(var o=0;o<a;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function y(e,t,n,a){return z(V(t,e.length-n),e,n,a)}function k(e,t,n,a){return z(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,a)}function w(e,t,n,a){return k(e,t,n,a)}function C(e,t,n,a){return z(M(t),e,n,a)}function E(e,t,n,a){return z(function(e,t){for(var n,a,r,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),a=n>>8,r=n%256,i.push(r),i.push(a);return i}(t,e.length-n),e,n,a)}function I(e,t,n){return 0===t&&n===e.length?a.fromByteArray(e):a.fromByteArray(e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);for(var a=[],r=t;r<n;){var i,o,s,l,c=e[r],u=null,d=c>239?4:c>223?3:c>191?2:1;if(r+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(i=e[r+1]))&&(l=(31&c)<<6|63&i)>127&&(u=l);break;case 3:i=e[r+1],o=e[r+2],128==(192&i)&&128==(192&o)&&(l=(15&c)<<12|(63&i)<<6|63&o)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:i=e[r+1],o=e[r+2],s=e[r+3],128==(192&i)&&128==(192&o)&&128==(192&s)&&(l=(15&c)<<18|(63&i)<<12|(63&o)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,a.push(u>>>10&1023|55296),u=56320|1023&u),a.push(u),r+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",a=0;for(;a<t;)n+=String.fromCharCode.apply(String,e.slice(a,a+=4096));return n}(a)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=o(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,a){return u(t),t<=0?s(e,t):void 0!==n?"string"==typeof a?s(e,t).fill(n,a):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,a=t.length,r=0,i=Math.min(n,a);r<i;++r)if(e[r]!==t[r]){n=e[r],a=t[r];break}return n<a?-1:a<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var a=l.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var o=e[n];if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(a,r),r+=o.length}return a},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):_.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,a,r){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===a&&(a=0),void 0===r&&(r=this.length),t<0||n>e.length||a<0||r>this.length)throw new RangeError("out of range index");if(a>=r&&t>=n)return 0;if(a>=r)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(r>>>=0)-(a>>>=0),o=(n>>>=0)-(t>>>=0),s=Math.min(i,o),c=this.slice(a,r),u=e.slice(t,n),d=0;d<s;++d)if(c[d]!==u[d]){i=c[d],o=u[d];break}return i<o?-1:o<i?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},l.prototype.write=function(e,t,n,a){if(void 0===t)a="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)a=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===a&&(a="utf8")):(a=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");a||(a="utf8");for(var i=!1;;)switch(a){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return y(this,e,t,n);case"ascii":return k(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),i=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function x(e,t,n){var a="";n=Math.min(e.length,n);for(var r=t;r<n;++r)a+=String.fromCharCode(127&e[r]);return a}function O(e,t,n){var a="";n=Math.min(e.length,n);for(var r=t;r<n;++r)a+=String.fromCharCode(e[r]);return a}function A(e,t,n){var a=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>a)&&(n=a);for(var r="",i=t;i<n;++i)r+=U(e[i]);return r}function R(e,t,n){for(var a=e.slice(t,n),r="",i=0;i<a.length;i+=2)r+=String.fromCharCode(a[i]+256*a[i+1]);return r}function T(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,n,a,r,i){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<i)throw new RangeError('"value" argument is out of bounds');if(n+a>e.length)throw new RangeError("Index out of range")}function D(e,t,n,a){t<0&&(t=65535+t+1);for(var r=0,i=Math.min(e.length-n,2);r<i;++r)e[n+r]=(t&255<<8*(a?r:1-r))>>>8*(a?r:1-r)}function j(e,t,n,a){t<0&&(t=4294967295+t+1);for(var r=0,i=Math.min(e.length-n,4);r<i;++r)e[n+r]=t>>>8*(a?r:3-r)&255}function N(e,t,n,a,r,i){if(n+a>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,n,a,i){return i||N(e,0,n,4),r.write(e,t,n,a,23,4),n+4}function B(e,t,n,a,i){return i||N(e,0,n,8),r.write(e,t,n,a,52,8),n+8}l.prototype.slice=function(e,t){var n,a=this.length;if((e=~~e)<0?(e+=a)<0&&(e=0):e>a&&(e=a),(t=void 0===t?a:~~t)<0?(t+=a)<0&&(t=0):t>a&&(t=a),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var r=t-e;n=new l(r,void 0);for(var i=0;i<r;++i)n[i]=this[i+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var a=this[e],r=1,i=0;++i<t&&(r*=256);)a+=this[e+i]*r;return a},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var a=this[e+--t],r=1;t>0&&(r*=256);)a+=this[e+--t]*r;return a},l.prototype.readUInt8=function(e,t){return t||T(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||T(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||T(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||T(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||T(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var a=this[e],r=1,i=0;++i<t&&(r*=256);)a+=this[e+i]*r;return a>=(r*=128)&&(a-=Math.pow(2,8*t)),a},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var a=t,r=1,i=this[e+--a];a>0&&(r*=256);)i+=this[e+--a]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readInt8=function(e,t){return t||T(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||T(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||T(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||T(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||T(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||T(e,4,this.length),r.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||T(e,4,this.length),r.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||T(e,8,this.length),r.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||T(e,8,this.length),r.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,a){(e=+e,t|=0,n|=0,a)||P(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,i=0;for(this[t]=255&e;++i<n&&(r*=256);)this[t+i]=e/r&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,a){(e=+e,t|=0,n|=0,a)||P(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,i=1;for(this[t+r]=255&e;--r>=0&&(i*=256);)this[t+r]=e/i&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):j(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):j(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,a){if(e=+e,t|=0,!a){var r=Math.pow(2,8*n-1);P(this,e,t,n,r-1,-r)}var i=0,o=1,s=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,a){if(e=+e,t|=0,!a){var r=Math.pow(2,8*n-1);P(this,e,t,n,r-1,-r)}var i=n-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):j(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):j(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return B(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return B(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,a){if(n||(n=0),a||0===a||(a=this.length),t>=e.length&&(t=e.length),t||(t=0),a>0&&a<n&&(a=n),a===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),e.length-t<a-n&&(a=e.length-t+n);var r,i=a-n;if(this===e&&n<t&&t<a)for(r=i-1;r>=0;--r)e[r+t]=this[r+n];else if(i<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<i;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},l.prototype.fill=function(e,t,n,a){if("string"==typeof e){if("string"==typeof t?(a=t,t=0,n=this.length):"string"==typeof n&&(a=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==a&&"string"!=typeof a)throw new TypeError("encoding must be a string");if("string"==typeof a&&!l.isEncoding(a))throw new TypeError("Unknown encoding: "+a)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var o=l.isBuffer(e)?e:V(new l(e,a).toString()),s=o.length;for(i=0;i<n-t;++i)this[i+t]=o[i%s]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function V(e,t){var n;t=t||1/0;for(var a=e.length,r=null,i=[],o=0;o<a;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===a){(t-=3)>-1&&i.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&i.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function M(e){return a.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(L,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function z(e,t,n,a){for(var r=0;r<a&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}}).call(this,n("fRV1"))},"1TxV":function(e,t){t.read=function(e,t,n,a,r){var i,o,s=8*r-a-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?r-1:0,p=n?-1:1,h=e[t+d];for(d+=p,i=h&(1<<-u)-1,h>>=-u,u+=s;u>0;i=256*i+e[t+d],d+=p,u-=8);for(o=i&(1<<-u)-1,i>>=-u,u+=a;u>0;o=256*o+e[t+d],d+=p,u-=8);if(0===i)i=1-c;else{if(i===l)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,a),i-=c}return(h?-1:1)*o*Math.pow(2,i-a)},t.write=function(e,t,n,a,r,i){var o,s,l,c=8*i-r-1,u=(1<<c)-1,d=u>>1,p=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=a?0:i-1,f=a?1:-1,_=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+d>=1?p/l:p*Math.pow(2,1-d))*l>=2&&(o++,l/=2),o+d>=u?(s=0,o=u):o+d>=1?(s=(t*l-1)*Math.pow(2,r),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,r),o=0));r>=8;e[n+h]=255&s,h+=f,s/=256,r-=8);for(o=o<<r|s,c+=r;c>0;e[n+h]=255&o,h+=f,o/=256,c-=8);e[n+h-f]|=128*_}},"2ejm":function(e,t,n){"use strict";n("IAdD"),t.__esModule=!0,t.default=void 0;var a=o(n("7DT3")),r=o(n("ERkP")),i=o(n("OkZJ"));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return void 0===e&&(e={}),(0,a.default)("svg",Object.assign({},e,{style:[i.default.root,e.style],viewBox:"0 0 24 24"}),r.default.createElement("g",null,r.default.createElement("path",{d:"M18.707 13.293c-.39-.39-1.023-.39-1.414 0L13 17.586V5c0-.553-.447-1-1-1s-1 .447-1 1v12.586l-4.293-4.293c-.39-.39-1.023-.39-1.414 0s-.39 1.023 0 1.414l6 6c.195.195.45.293.707.293s.512-.098.707-.293l6-6c.39-.39.39-1.023 0-1.414z"})))};s.metadata={height:24,width:24};var l=s;t.default=l},"3GUV":function(e,t,n){"use strict";n("Blm6");var a=n("W/Kd"),r=n.n(a),i=n("ERkP"),o=n("rHpw"),s=n("3xO4"),l=n.n(s),c=function(e){function t(){return e.apply(this,arguments)||this}r()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(){return!1},n.render=function(){return i.createElement(l.a,{style:u.root})},t}(i.Component),u=o.a.create((function(e){return{root:{height:5*parseInt(e.lineHeight,10)+"rem"}}}));t.a=c},"3OvD":function(e,t,n){"use strict";n("IAdD"),t.__esModule=!0,t.default=void 0;var a=o(n("7DT3")),r=o(n("ERkP")),i=o(n("OkZJ"));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return void 0===e&&(e={}),(0,a.default)("svg",Object.assign({},e,{style:[i.default.root,e.style],viewBox:"0 0 24 24"}),r.default.createElement("g",null,r.default.createElement("path",{d:"M19.708 22H4.292C3.028 22 2 20.972 2 19.708V7.375C2 6.11 3.028 5.083 4.292 5.083h2.146C7.633 3.17 9.722 2 12 2c2.277 0 4.367 1.17 5.562 3.083h2.146C20.972 5.083 22 6.11 22 7.375v12.333C22 20.972 20.972 22 19.708 22zM4.292 6.583c-.437 0-.792.355-.792.792v12.333c0 .437.355.792.792.792h15.416c.437 0 .792-.355.792-.792V7.375c0-.437-.355-.792-.792-.792h-2.45c-.317.05-.632-.095-.782-.382-.88-1.665-2.594-2.7-4.476-2.7-1.883 0-3.598 1.035-4.476 2.702-.16.302-.502.46-.833.38H4.293z"}),r.default.createElement("path",{d:"M12 8.167c-2.68 0-4.86 2.18-4.86 4.86s2.18 4.86 4.86 4.86 4.86-2.18 4.86-4.86-2.18-4.86-4.86-4.86zm2 5.583h-1.25V15c0 .414-.336.75-.75.75s-.75-.336-.75-.75v-1.25H10c-.414 0-.75-.336-.75-.75s.336-.75.75-.75h1.25V11c0-.414.336-.75.75-.75s.75.336.75.75v1.25H14c.414 0 .75.336.75.75s-.336.75-.75.75z"})))};s.metadata={height:24,width:24};var l=s;t.default=l},"53j7":function(e,t,n){"use strict";n.d(t,"f",(function(){return g})),n.d(t,"g",(function(){return v})),n.d(t,"a",(function(){return k})),n.d(t,"c",(function(){return C})),n.d(t,"b",(function(){return I})),n.d(t,"d",(function(){return x})),n.d(t,"e",(function(){return O})),n.d(t,"h",(function(){return A})),n.d(t,"i",(function(){return T})),n.d(t,"j",(function(){return P}));n("IAdD"),n("7x/C"),n("JtPf");var a,r=n("oEOe"),i=n("AspN"),o=n("/kEJ"),s=n("XMGw"),l=n("Ssj5"),c=s.a+"/profile",u="rweb/"+c,d=function(e){return u+"/"+e},p=r.a(u,"REMOVE_PROFILE_BANNER"),h=r.a(u,"UPDATE_PROFILE"),f=r.a(u,"UPDATE_PROFILE_AVATAR"),_=r.a(u,"UPDATE_PROFILE_BANNER"),m=r.a(u,"UPLOAD_MEDIA"),b={avatarMediaId:null,bannerMediaId:null,isUploading:!1};var g=function(e){return e[c].avatarMediaId},v=function(e){return e[c].bannerMediaId},y=d("ADD_AVATAR_MEDIA"),k=function(e){return{meta:{mediaId:e},type:y}},w=d("REMOVE_AVATAR_MEDIA"),C=function(e){return{meta:{mediaId:e},type:w}},E=d("ADD_BANNER_MEDIA"),I=function(e){return{meta:{mediaId:e},type:E}},S=d("REMOVE_BANNER_MEDIA"),x=function(e){return{meta:{mediaId:e},type:S}},O=function(e){return function(t,n,a){var i=a.api;return r.b(t,{params:e,request:i.Settings.removeProfileBanner})({actionTypes:p,context:"ACTION_REMOVE_USER_BANNER"},(function(e){var t;if(e)return[Object(o.c)({users:(t={},t[e.id_str]=Object.assign({},e,{profile_banner_url:null}),t)})]}))}},A=function(e){return function(t,n,a){var i=a.api;return r.b(t,{params:e,request:i.Settings.updateProfile})({actionTypes:h,context:"ACTION_UPDATE_PROFILE_SETTINGS"},(function(e){if(e&&e.entities)return[Object(o.c)(e.entities)]}))}},R=function(e,t,n){return function(a){return function(s,l,c){var u=c.api;s({type:m.REQUEST});var d=i.k(a);return s(d).then((function(a){var i=a[0];s([{type:m.SUCCESS},{type:e.REQUEST}]);return r.b(s,{params:{media_id:i.uploadId},request:n(u)})({actionTypes:h,context:t},(function(e){var t;if(e)return[Object(o.c)({users:(t={},t[e.id_str]=e,t)})]}))}),(function(e){return s({type:m.FAILURE}),Promise.reject(e)}))}}},T=R(f,"ACTION_UPDATE_USER_AVATAR",(function(e){return e.Settings.updateProfileAvatar})),P=R(_,"ACTION_UPDATE_USER_BANNER",(function(e){return e.Settings.updateProfileBanner}));l.a.register(((a={})[c]=function(e,t){switch(void 0===e&&(e=b),void 0===t&&(t={}),t.type){case y:return Object.assign({},e,{avatarMediaId:t.meta.mediaId});case w:return Object.assign({},e,{avatarMediaId:null});case E:return Object.assign({},e,{bannerMediaId:t.meta.mediaId});case S:return Object.assign({},e,{bannerMediaId:null});case m.REQUEST:return Object.assign({},e,{isUploading:!0});case m.FAILURE:case m.SUCCESS:return Object.assign({},e,{isUploading:!1});default:return e}},a))},"5UID":function(e,t,n){"use strict";var a=n("W/Kd"),r=n.n(a),i=n("ERkP"),o=n("3XMw"),s=n.n(o),l=n("rHpw"),c=(n("aWzz"),n("PARX")),u=n.n(c),d=n("3xO4"),p=n.n(d),h=s.a.e5b0063d,f=0,_=function(e){function t(){var t;return(t=e.call(this)||this)._listDomId="accessible-list-"+f,f+=1,t}return r()(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.title,a=h({title:n});return i.createElement(p.a,{accessibilityRole:"region","aria-labelledby":this._listDomId},i.createElement(u.a,{accessibilityRole:"heading","aria-level":1,nativeID:this._listDomId,style:l.a.visuallyHidden},n),i.createElement(p.a,{accessibilityLabel:a},t))},t}(i.Component);t.a=_},"6XNv":function(e,t,n){"use strict";n("2G9S"),n("z84I"),n("IAdD"),n("uFXj");var a=n("1Pcy"),r=n.n(a),i=n("W/Kd"),o=n.n(i),s=n("KEM+"),l=n.n(s),c=n("ERkP"),u=n("t62R"),d=n("SKmd"),p=n.n(d),h=n("rHpw"),f=(n("aWzz"),n("7DT3")),_=n.n(f),m=n("3xO4"),b=n.n(m),g=c.forwardRef((function(e,t){return _()("select",Object.assign({},e,{ref:t}))})),v=function(e){return _()("option",e)},y=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,l()(r()(t),"_selectRef",c.createRef()),l()(r()(t),"state",{isFocused:!1}),l()(r()(t),"_handleChange",(function(e){var n=t.props,a=n.onChange,r=n.withEmptyOption,i=e.target,o=i.selectedIndex,s=i.value;a&&a(s,o-(r?1:0))})),l()(r()(t),"_handleBlur",(function(e){var n=t.props.onBlur;t.setState({isFocused:!1}),n&&n()})),l()(r()(t),"_handleFocus",(function(e){var n=t.props.onFocus;t.setState({isFocused:!0}),n&&n()})),t}o()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.autofocus&&this._selectRef&&this._selectRef.current&&this._selectRef.current.focus()},n.render=function(){var e=this.props,t=e.style,n=e.disabled,a=e.options,r=e.value,i=e.label,o=e.hasError,s=e.helperText,l=e.testID,u=e.withEmptyOption,d=this.state.isFocused;return c.createElement(c.Fragment,null,c.createElement(b.a,{style:[k.container,n&&k.disabled,k.bottomBorder,n&&k.bottomBorderDisabled,d&&k.bottomBorderFocused,o&&k.bottomBorderError,t]},this._renderLabel(),c.createElement(b.a,{style:k.dropdownContainer},c.createElement(g,{accessibilityLabel:i,disabled:n,onBlur:this._handleBlur,onChange:this._handleChange,onFocus:this._handleFocus,ref:this._selectRef,style:[k.select,i&&k.selectWithLabel,n&&k.disabled],testID:l||"",value:r},u?c.createElement(v,{disabled:!0,style:k.option,value:""}):null,a.map((function(e){var t=e.disabled,n=e.label,a=e.value;return c.createElement(v,{disabled:t,key:n+"-"+a,style:k.option,value:a},n)}))),c.createElement(p.a,{style:[k.dropdownCaret,d&&k.dropdownCaretFocused,o&&k.dropdownCaretError]}))),s?this._renderHelperText():null)},n._renderLabel=function(){var e=this.props,t=e.hasError,n=e.label,a=this.state.isFocused;return c.createElement(u.c,{color:t?"red":a?"primary":"deepGray",style:k.label},n)},n._renderHelperText=function(){return c.createElement(b.a,{accessibilityLiveRegion:"polite"},c.createElement(u.c,{color:"deepGray",style:k.helperText},this.props.helperText))},t}(c.PureComponent);l()(y,"defaultProps",{disabled:!1,autofocus:!1,withEmptyOption:!1}),y.propTypes={};var k=h.a.create((function(e){return{container:{backgroundColor:e.colors.faintGray,paddingHorizontal:e.spaces.xSmall,borderWidth:e.borderWidths.none},disabled:{cursor:"default",opacity:.5},dropdownCaret:{color:e.colors.deepGray,height:"1.5em",pointerEvents:"none",position:"absolute",marginTop:"-0.75em",top:"50%",right:0},dropdownCaretFocused:{color:e.colors.primary},dropdownContainer:{position:"relative"},bottomBorder:{borderBottomWidth:e.borderWidths.medium,borderBottomColor:e.colors.deepGray,borderRadius:e.borderWidths.medium},bottomBorderFocused:{borderBottomColor:e.colors.primary},bottomBorderDisabled:{borderBottomColor:e.colors.transparent},dropdownCaretError:{color:e.colors.red},bottomBorderError:{borderBottomColor:e.colors.red},label:{alignSelf:"flex-start",paddingTop:e.spaces.xxSmall},option:{backgroundColor:e.colors.navigationBackground},select:{appearance:"none",backgroundColor:"transparent",borderRadius:0,borderWidth:e.borderWidths.none,color:e.colors.text,cursor:"pointer",fontSize:e.fontSizes.large,margin:0,outlineStyle:"none",padding:0,paddingRight:"1.5em",paddingVertical:e.spaces.small},selectWithLabel:{paddingBottom:e.spaces.xxSmall,paddingTop:e.spaces.micro},helperText:{alignSelf:"flex-start",paddingHorizontal:e.spaces.xSmall,paddingTop:e.spaces.xxSmall}}}));t.a=y},"9D1O":function(e,t,n){"use strict";n.d(t,"k",(function(){return w})),n.d(t,"r",(function(){return C})),n.d(t,"j",(function(){return E})),n.d(t,"i",(function(){return I})),n.d(t,"n",(function(){return S})),n.d(t,"o",(function(){return x})),n.d(t,"p",(function(){return O})),n.d(t,"h",(function(){return A})),n.d(t,"q",(function(){return R})),n.d(t,"l",(function(){return T})),n.d(t,"s",(function(){return P})),n.d(t,"m",(function(){return j})),n.d(t,"b",(function(){return N})),n.d(t,"t",(function(){return F})),n.d(t,"w",(function(){return L})),n.d(t,"f",(function(){return U})),n.d(t,"u",(function(){return V})),n.d(t,"c",(function(){return M})),n.d(t,"y",(function(){return z})),n.d(t,"a",(function(){return q})),n.d(t,"g",(function(){return G})),n.d(t,"v",(function(){return H})),n.d(t,"d",(function(){return W})),n.d(t,"e",(function(){return Y})),n.d(t,"x",(function(){return K}));n("2G9S"),n("hBpG"),n("vrRf"),n("z84I"),n("KOtZ"),n("M+/F"),n("IAdD"),n("+KXO"),n("7x/C"),n("JtPf"),n("DZ+c");var a,r=n("LdEA"),i=n.n(r),o=n("k49u"),s=n("zrOZ"),l=n("OIs+"),c=n("kGix"),u=n("Ssj5"),d=n("oEOe"),p=n("YlqV"),h=n("q82E"),f=Object(d.a)("rweb/ocf","FETCH"),_=Object(d.a)("rweb/ocf","START"),m=Object(d.a)("rweb/ocf","VERIFY_IDENTIFIER"),b=Object(s.a)(["signup"]),g=n("i+/A"),v={currentSubtask:null,failureMessage:"",fetchStatus:c.a.NONE,flowName:null,flowToken:null,shouldAbort:!1,shouldEndFlow:!1,submitFailed:!1,startLocation:{},subtasks:[],subtaskInputs:{},navigationContext:{action:""},navigationStack:[],flowData:{}},y=function(e){var t=e&&Object(p.f)(e);return t===h.p.EmailVerification||t===h.p.PhoneVerification},k=function(e){return e===o.a.ValidationFailure||e===o.a.OnboardingFlowFailure||e===o.a.OnboardingFlowRetriableFailure};u.a.register(((a={}).ocf=function(e,t){switch(void 0===e&&(e=v),t.type){case _.REQUEST:return Object.assign({},v,{fetchStatus:c.a.LOADING,flowName:t.meta.flowName,startLocation:e.startLocation});case f.REQUEST:return Object.assign({},e,{fetchStatus:c.a.LOADING,submitFailed:!1});case"rweb/ocf/NAVIGATE":var n=t.payload,a=n.navigationContext,r=n.navigationStack,i=n.sendPinCode,s=n.subtaskInputs,u=Object.assign({},e.subtaskInputs);for(var d in u)s[d]&&delete u[d];return Object.assign({},e,{currentSubtask:e.subtasks.find((function(e){return e.subtask_id===t.payload.subtaskId})),navigationContext:a,subtaskInputs:u,submitFailed:!1,navigationStack:r,sendPinCode:i});case"rweb/ocf/ATTRIBUTE":return Object.assign({},e,{startLocation:t.payload});case"rweb/ocf/UPDATE":var b=t.payload,g=b.subtaskInputs,w=b.flowData;return Object.assign({},e,{subtaskInputs:Object.assign({},e.subtaskInputs,g),flowData:Object.assign({},e.flowData,w)});case _.FAILURE:var C=t.payload.errors[0].code,E=t.payload.errors[0].message,I=C!==l.a.Offline,S=k(C)?E:void 0;return Object.assign({},e,{fetchStatus:c.a.FAILED,failureMessage:S,shouldAbort:I});case f.FAILURE:var x=t.payload.errors[0].code,O=t.payload.errors[0].message,A=k(x)?O:void 0,R=!function(e,t){var n=e===l.a.Offline||e===o.a.ValidationFailure||e===o.a.OnboardingFlowRetriableFailure,a=!!t&&!h.j.has(Object(p.f)(t));return n&&a}(x,e.currentSubtask);return Object.assign({},e,{fetchStatus:c.a.LOADED,failureMessage:A,shouldAbort:R,submitFailed:!0});case m.FAILURE:var T=t.payload.errors[0].code,P=t.payload.errors[0].message,D=k(T)?P:void 0;return Object.assign({},e,{verificationSendFailureMessage:D,sendPinCode:!1});case _.SUCCESS:case f.SUCCESS:var j=t.payload,N=j.flow_token,F=j.subtasks,B=(t.meta||{}).isTaskNavigation,L=F&&F.length?F[0]:null,U=y(L),V=!!B&&!L;return Object.assign({},e,{currentSubtask:L,fetchStatus:c.a.LOADED,flowToken:N,sendPinCode:U,shouldEndFlow:V,submitFailed:!1,subtasks:F,subtaskInputs:{},navigationStack:L?[L.subtask_id]:[]});case"rweb/ocf/CLEAR":return Object.assign({},v);case"rweb/ocf/RESUME":return t.payload;case m.REQUEST:return Object.assign({},e,{verificationSendFailureMessage:void 0,sendPinCode:!1});default:return e}},a));var w=function(e){return e.ocf.flowToken},C=function(e){return e.ocf.subtasks},E=function(e){return e.ocf.fetchStatus},I=function(e){return e.ocf.failureMessage},S=function(e){return e.ocf.shouldAbort},x=function(e){return e.ocf.shouldEndFlow},O=function(e){return e.ocf.submitFailed},A=function(e){return e.ocf.currentSubtask},R=function(e){return e.ocf.subtaskInputs},T=function(e){return e.ocf.navigationContext},P=function(e){return e.ocf.verificationSendFailureMessage},D=function(e){return e.ocf.navigationStack},j=function(e){var t=D(e),n=t?t.length:0;if(n<=1)return null;var a=e.ocf.subtasks.find((function(e){return e.subtask_id===t[n-2]}));return a.alert_dialog?t[n-3]:t[n-2]},N=function(e){var t=(void 0===e?{}:e).clearPersistence;return function(e,n,a){var r=a.userPersistence;t&&r.set("rweb/ocf",{}),e({type:"rweb/ocf/CLEAR"})}},F=function(e){return void 0===e&&(e={}),function(t,n,a){a.api;var r=a.userPersistence,i=e.flow_name;return(b.has(i)?r.get("rweb/ocf",36e5):Promise.resolve(void 0)).then((function(n){return i&&n&&n[i]?t({payload:n[i],type:"rweb/ocf/RESUME"}):t(B(e))}))}},B=function(e){return void 0===e&&(e={}),function(t,n,a){var r=a.api,i=a.userPersistence,o=e.flow_name;return Object(d.b)(t,{params:e,request:r.Ocf.task})({actionTypes:_,context:"START_FLOW",meta:{flowName:o}}).then((function(e){var t;b.has(o)&&"success"===e.status&&i.set("rweb/ocf",((t={})[o]=n().ocf,t));return e}))}},L=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),function(a,r){var i,o=((i={})[e]=t,i);a({type:"rweb/ocf/UPDATE",payload:{subtaskId:e,subtaskInputs:o,flowData:n}})}},U=function(e){var t=e.subtaskId,n=e.navigationContext,a=e.destructive,r=e.fromHiddenSubtask;return function(e,i){var o=i(),s=D(o),l=s.indexOf(t),c=[],u={};if(r&&s.length)c=s.slice(0,-1).concat([t]);else if(-1===l)c=s.concat([t]);else{var d=l+1;c=s.slice(0,d),a&&(u=s.slice(d,s.length).reduce((function(e,t){var n;return Object.assign({},e,((n={})[t]={},n))}),{}))}var p=function(e){return function(t){return e.ocf.subtasks.find((function(e){return e.subtask_id===t}))}}(o)(t),f=n&&n.action,_=f===h.o.ResendSms||f===h.o.ResendVoice||f===h.o.ResendEmail;"clear"===f&&(u[t]={});var m=y(p)&&(!f||_);e({type:"rweb/ocf/NAVIGATE",payload:{navigationContext:Object.assign({action:""},n),sendPinCode:m,subtaskId:t,subtaskInputs:u,navigationStack:c}})}},V=function(e){var t=void 0===e?{}:e,n=t.isTaskNavigation,a=i()(t,["isTaskNavigation"]);return function(e,t,r){var i=r.api,o=r.userPersistence,s=t(),l=w(s),c=function(e,t){return Object.keys(t).map((function(n){var a,r=e.find((function(e){return e.subtask_id===n})),i=r&&Object(p.e)(r);return(a={subtask_id:r.subtask_id})[i]=t[n],a}))}(C(s),R(s)),u=Object.assign({},a,{flow_token:l,subtask_inputs:c});return Object(d.b)(e,{params:u,request:i.Ocf.task})({actionTypes:f,context:"SUBMIT_FLOW",meta:{isTaskNavigation:n}}).then((function(e){var n,a=t().ocf;return o.set("rweb/ocf",((n={})[a.flowName]=e.subtasks.length&&"success"===e.status?a:void 0,n)),e}))}};var M=function(e,t){return function(n,a){var r,i=t.should_generate,o=t.next_link,s=a().ocf.flowData,l=i?g(Math.ceil(10)).toString("hex").slice(0,20):s.OCF_GENERATED_PASSWORD;L(e,{password:l,link:o.link_id},((r={}).OCF_GENERATED_PASSWORD=l,r))(n,a)}},z=function(e){return function(t,n,a){var r=a.api;if(n().ocf.sendPinCode){var i=w(n()),o=Object.assign({},e,{flow_token:i});return Object(d.b)(t,{params:o,request:r.Ocf.verifyUserIdentifier})({actionTypes:m,context:"VERIFY_IDENTIFIER"})}return Promise.resolve({})}},q=function(e){return function(t,n,a){return a.api.Ocf.callOnboardingPath(e)}},G=function(e){return function(t,n,a){return a.api.Ocf.removeContacts(e)}},H=function(e){return function(t,n,a){return a.api.Ocf.syncContacts(e)}},W=function(e){return function(t,n,a){return a.api.Ocf.getContactsImportStatus(e)}},Y=function(e){return function(t,n,a){return a.api.Ocf.getVerificationStatus(e)}},K=function(e){return function(t,n,a){return a.api.Ocf.verificationLink(e)}}},H9wA:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("aWzz"),r={accessibilityLabel:a.string,accessibilityLiveRegion:Object(a.oneOf)(["assertive","none","polite"]),importantForAccessibility:a.bool,style:a.any}},"JfD+":function(e,t,n){var a=n("+ZX+"),r=a.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=a:(i(a,t),t.Buffer=o),o.prototype=Object.create(r.prototype),i(r,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var a=r(e);return void 0!==t?"string"==typeof n?a.fill(t,n):a.fill(t):a.fill(0),a},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return a.SlowBuffer(e)}},K2mq:function(e,t,n){"use strict";n.r(t);var a=n("97Jx"),r=n.n(a),i=n("ERkP"),o=n("gPQO");t.default=function(e){return i.createElement(o.default,r()({},e,{flowName:"signup"}))}},LXAX:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p}));n("IAdD");var a,r=n("XMGw"),i=n("Ssj5"),o=n("oEOe"),s=r.a+"/usernames",l="rweb/"+s,c=Object(o.a)(l,"FETCH_USERNAMES"),u={isLoaded:!1};var d=function(e){return e[s]},p=function(e){return function(t,n,a){var r=a.api;return Object(o.b)(t,{params:e,request:r.Settings.usernameAvailable})({actionTypes:c,context:"FETCH_SETTINGS_USERNAME_AVAILABLE",meta:{username:e.username}})}},h=l+"/"+"CLEAR_USERNAMES";i.a.register(((a={})[s]=function(e,t){switch(void 0===e&&(e=u),void 0===t&&(t={}),t.type){case c.REQUEST:return Object.assign({},e,{isLoading:!0});case c.FAILURE:return Object.assign({},e,{isLoading:!1});case c.SUCCESS:return Object.assign({},e,t.payload,{username:t.meta.username,isLoading:!1});case h:return{isLoading:!1};default:return e}},a))},Lam0:function(e,t,n){"use strict";n.d(t,"a",(function(){return L}));var a=n("1Pcy"),r=n.n(a),i=n("W/Kd"),o=n.n(i),s=n("KEM+"),l=n.n(s),c=n("ERkP"),u=n.n(c),d=n("aWzz"),p=n.n(d);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var _=function(e){var t,n;function a(){var t;return(t=e.call(this)||this).handleExpired=t.handleExpired.bind(f(t)),t.handleErrored=t.handleErrored.bind(f(t)),t.handleRecaptchaRef=t.handleRecaptchaRef.bind(f(t)),t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=a.prototype;return r.getValue=function(){return this.props.grecaptcha&&void 0!==this._widgetId?this.props.grecaptcha.getResponse(this._widgetId):null},r.getWidgetId=function(){return this.props.grecaptcha&&void 0!==this._widgetId?this._widgetId:null},r.execute=function(){var e=this.props.grecaptcha;if(e&&void 0!==this._widgetId)return e.execute(this._widgetId);this._executeRequested=!0},r.reset=function(){this.props.grecaptcha&&void 0!==this._widgetId&&this.props.grecaptcha.reset(this._widgetId)},r.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.props.onChange&&this.props.onChange(null)},r.handleErrored=function(){this.props.onErrored&&this.props.onErrored()},r.explicitRender=function(){if(this.props.grecaptcha&&this.props.grecaptcha.render&&void 0===this._widgetId){var e=document.createElement("div");this._widgetId=this.props.grecaptcha.render(e,{sitekey:this.props.sitekey,callback:this.props.onChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge}),this.captcha.appendChild(e)}this._executeRequested&&this.props.grecaptcha&&void 0!==this._widgetId&&(this._executeRequested=!1,this.execute())},r.componentDidMount=function(){this.explicitRender()},r.componentDidUpdate=function(){this.explicitRender()},r.componentWillUnmount=function(){void 0!==this._widgetId&&(this.delayOfCaptchaIframeRemoving(),this.reset())},r.delayOfCaptchaIframeRemoving=function(){var e=document.createElement("div");for(document.body.appendChild(e),e.style.display="none";this.captcha.firstChild;)e.appendChild(this.captcha.firstChild);setTimeout((function(){document.body.removeChild(e)}),5e3)},r.handleRecaptchaRef=function(e){this.captcha=e},r.render=function(){var e=this.props,t=(e.sitekey,e.onChange,e.theme,e.type,e.tabindex,e.onExpired,e.onErrored,e.size,e.stoken,e.grecaptcha,e.badge,e.hl,function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl"]));return u.a.createElement("div",h({},t,{ref:this.handleRecaptchaRef}))},a}(u.a.Component);_.displayName="ReCAPTCHA",_.propTypes={sitekey:p.a.string.isRequired,onChange:p.a.func,grecaptcha:p.a.object,theme:p.a.oneOf(["dark","light"]),type:p.a.oneOf(["image","audio"]),tabindex:p.a.number,onExpired:p.a.func,onErrored:p.a.func,size:p.a.oneOf(["compact","normal","invisible"]),stoken:p.a.string,hl:p.a.string,badge:p.a.oneOf(["bottomright","bottomleft","inline"])},_.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var m=n("oXkQ"),b=n.n(m);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var v={},y=0;function k(){return"undefined"!=typeof window&&window.recaptchaOptions||{}}var w,C,E="onloadcallback",I=k(),S=(w=function(){var e=k(),t=e.lang?"&hl="+e.lang:"";return"https://"+(e.useRecaptchaNet?"recaptcha.net":"www.google.com")+"/recaptcha/api.js?onload="+E+"&render=explicit"+t},C=(C={callbackName:E,globalName:"grecaptcha",removeOnUnmount:I.removeOnUnmount||!1})||{},function(e){var t=e.displayName||e.name||"Component",n=function(t){var n,a;function r(e,n){var a;return(a=t.call(this,e,n)||this).state={},a.__scriptURL="",a}a=t,(n=r).prototype=Object.create(a.prototype),n.prototype.constructor=n,n.__proto__=a;var i=r.prototype;return i.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+y++),this.__scriptLoaderID},i.setupScriptURL=function(){return this.__scriptURL="function"==typeof w?w():w,this.__scriptURL},i.asyncScriptLoaderHandleLoad=function(e){var t=this;this.setState(e,(function(){return t.props.asyncScriptOnLoad&&t.props.asyncScriptOnLoad(t.state)}))},i.asyncScriptLoaderTriggerOnScriptLoaded=function(){var e=v[this.__scriptURL];if(!e||!e.loaded)throw new Error("Script is not loaded.");for(var t in e.observers)e.observers[t](e);delete window[C.callbackName]},i.componentDidMount=function(){var e=this,t=this.setupScriptURL(),n=this.asyncScriptLoaderGetScriptLoaderID(),a=C,r=a.globalName,i=a.callbackName,o=a.scriptId;if(r&&void 0!==window[r]&&(v[t]={loaded:!0,observers:{}}),v[t]){var s=v[t];return s&&(s.loaded||s.errored)?void this.asyncScriptLoaderHandleLoad(s):void(s.observers[n]=function(t){return e.asyncScriptLoaderHandleLoad(t)})}var l={};l[n]=function(t){return e.asyncScriptLoaderHandleLoad(t)},v[t]={loaded:!1,observers:l};var c=document.createElement("script");c.src=t,c.async=!0,o&&(c.id=o);var u=function(e){if(v[t]){var n=v[t].observers;for(var a in n)e(n[a])&&delete n[a]}};i&&"undefined"!=typeof window&&(window[i]=function(){return e.asyncScriptLoaderTriggerOnScriptLoaded()}),c.onload=function(){var e=v[t];e&&(e.loaded=!0,u((function(t){return!i&&(t(e),!0)})))},c.onerror=function(){var e=v[t];e&&(e.errored=!0,u((function(t){return t(e),!0})))},document.body.appendChild(c)},i.componentWillUnmount=function(){var e=this.__scriptURL;if(!0===C.removeOnUnmount)for(var t=document.getElementsByTagName("script"),n=0;n<t.length;n+=1)t[n].src.indexOf(e)>-1&&t[n].parentNode&&t[n].parentNode.removeChild(t[n]);var a=v[e];a&&(delete a.observers[this.asyncScriptLoaderGetScriptLoaderID()],!0===C.removeOnUnmount&&delete v[e])},i.render=function(){var t=C.globalName,n=this.props,a=(n.asyncScriptOnLoad,n.forwardedRef),r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(n,["asyncScriptOnLoad","forwardedRef"]);return t&&"undefined"!=typeof window&&(r[t]=void 0!==window[t]?window[t]:void 0),r.ref=a,Object(c.createElement)(e,r)},r}(c.Component),a=Object(c.forwardRef)((function(e,t){return Object(c.createElement)(n,g({},e,{forwardedRef:t}))}));return a.displayName="AsyncScriptLoader("+t+")",a.propTypes={asyncScriptOnLoad:p.a.func},b()(a,e)})(_),x=n("3xO4"),O=n.n(x),A=n("t62R"),R=n("/yvb"),T=n("rHpw"),P=n("3XMw"),D=n.n(P),j=D.a.c1df579e,N=D.a.b60eba9e,F=D.a.ba939777,B=D.a.bc6efc72,L=function(e){function t(t,n){var a;return a=e.call(this,t,n)||this,l()(r()(a),"_handlePass",(function(e){var t=a.props.onChange;t&&setTimeout((function(){return t(e)}),1e3)})),l()(r()(a),"_handleConsent",(function(){var e=a.props.onConsent;a.setState({termsAccepted:!0}),e&&e()})),a.state={termsAccepted:!1},a}o()(t,e);var n=t.prototype;return n._renderConsentForm=function(){var e=this.props.nextButtonDisabled;return c.createElement(O.a,null,c.createElement(A.c,{style:U.guideCopy},N),c.createElement(O.a,{style:U.button},c.createElement(R.a,{disabled:e,onPress:this._handleConsent,size:"normalLarge",type:"secondary"},j)),c.createElement(A.c,{color:"deepGray"},c.createElement(D.a.I18NFormatMessage,{$i18n:"hc37d3ba"},c.createElement(A.c,{link:"https://policies.google.com/privacy"},B))))},n._renderRecaptcha=function(){var e=this.props.withConsentForm;return c.createElement(c.Fragment,null,e?c.createElement(O.a,{style:U.recaptchaTitle},c.createElement(A.c,{style:U.guideCopy},F)):null,c.createElement(O.a,{style:U.container},c.createElement(S,{onChange:this._handlePass,sitekey:"6LfOP30UAAAAAFBC4jbzu890rTdXBXBNHx9eVZEX"})))},n.render=function(){var e=this.props.withConsentForm,t=this.state.termsAccepted;return e&&!t?this._renderConsentForm():this._renderRecaptcha()},t}(c.Component),U=T.a.create((function(e){return{container:{margin:"auto",transitionProperty:"opacity",transitionDelay:"2s"},button:{paddingVertical:e.spaces.medium},guideCopy:{paddingTop:e.spaces.xSmall},recaptchaTitle:{paddingBottom:e.spaces.medium}}}))},"N+xe":function(e,t,n){"use strict";n.r(t),n.d(t,"VerificationLanding",(function(){return j}));n("KqXw"),n("MvUL");var a=n("1Pcy"),r=n.n(a),i=n("W/Kd"),o=n.n(i),s=n("KEM+"),l=n.n(s),c=n("ERkP"),u=n("9D1O"),d=n("oEGd"),p=n("hqKg"),h=n("Hw0q"),f=Object(h.b)("user_identifier"),_=Object(h.b)("phone"),m=Object(h.b)("email"),b=Object(h.b)("pin_code"),g=Object(p.createSelector)(m,f,_,b,(function(e,t,n,a){return{email:e,identifier:t,phone:n,pinCode:a}})),v={verificationLink:u.x},y=Object(d.g)(g,v),k=n("kGix"),w=n("v//M"),C=n("3XMw"),E=n.n(C),I=n("fs1G"),S=n("YCSy"),x=n("3xO4"),O=n.n(x),A=n("cmUU"),R=n("rHpw"),T=E.a.b5474bd2,P=E.a.a9b8fb38,D=E.a.j24c37b2,j=function(e){function t(t){var n;return n=e.call(this,t)||this,l()(r()(n),"_render",(function(){return c.createElement(A.a,{actionLabel:D,headline:n.state.title||"",onAction:n._handleCloseWindow,onClose:n._handleCloseWindow,subtext:n.state.message||"",withCloseButton:!1})})),l()(r()(n),"_handleCloseWindow",(function(){window&&window.close(),n.props.history.replace("/")})),n.state={title:void 0,message:void 0,fetchStatus:k.a.LOADING},n}o()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this,t=this.props,n=t.history,a=t.location,r=t.verificationLink,i=t.identifier,o=t.email,s=t.phone,l=t.pinCode;return n.replace(a.pathname),r({user_identifier:i,email:o,phone:s,pin_code:l}).then((function(t){return e.setState({fetchStatus:t.success?k.a.LOADED:k.a.FAILED,title:t.title,message:t.message})})).catch((function(){return e.setState({title:T,message:P,fetchStatus:k.a.FAILED})}))},n.render=function(){var e=this.props,t=e.history,n=e.location;return c.createElement(S.a,{hideLogo:!0,history:t,location:n},c.createElement(O.a,{style:N.root},c.createElement(w.a,{fetchStatus:this.state.fetchStatus,onRequestRetry:I.a,render:this._render,renderFailure:this._render,retryable:!1})))},t}(c.Component),N=R.a.create((function(e){return{root:{backgroundColor:e.colors.cellBackground,flexGrow:1,flexShrink:1}}}));t.default=y(j)},NeAX:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return k})),n.d(t,"selectPreferences",(function(){return I})),n.d(t,"selectData",(function(){return S})),n.d(t,"selectUserPreferences",(function(){return x})),n.d(t,"selectPreferencesFetchStatus",(function(){return O})),n.d(t,"selectFetchDataStatus",(function(){return A})),n.d(t,"selectAge",(function(){return R})),n.d(t,"selectBirthdate",(function(){return T})),n.d(t,"selectHasExactAge",(function(){return P})),n.d(t,"selectGender",(function(){return D})),n.d(t,"selectLanguage",(function(){return j})),n.d(t,"selectSignupDetails",(function(){return N})),n.d(t,"selectTwitterInterests",(function(){return F})),n.d(t,"selectFetchTwitterInterestsStatus",(function(){return B})),n.d(t,"selectPartnerInterests",(function(){return L})),n.d(t,"selectFetchPartnerInterestsStatus",(function(){return U})),n.d(t,"clearLocations",(function(){return V})),n.d(t,"updateGender",(function(){return M})),n.d(t,"updateLanguage",(function(){return z})),n.d(t,"updateInterest",(function(){return q})),n.d(t,"fetchPreferencesIfNeeded",(function(){return G})),n.d(t,"updatePreferences",(function(){return W})),n.d(t,"updateSettings",(function(){return Y})),n.d(t,"fetchDataIfNeeded",(function(){return X})),n.d(t,"createAudienceDownload",(function(){return Q})),n.d(t,"createDataDownload",(function(){return J})),n.d(t,"fetchTwitterInterestsIfNeeded",(function(){return $})),n.d(t,"fetchPartnerInterestsIfNeeded",(function(){return te})),n.d(t,"syncSettings",(function(){return re}));n("vrRf"),n("KOtZ"),n("Ee2X"),n("IAdD"),n("+KXO"),n("7x/C"),n("JtPf");var a,r=n("RqPI"),i=n("P1r1"),o=n("cmwl"),s=n("hqKg"),l=n("kGix"),c=n("YeIG"),u=n("Ssj5"),d=n("oEOe"),p="rweb/personalization",h=Object(d.a)(p,"FETCH_PREFERENCES"),f=Object(d.a)(p,"UPDATE_PREFERENCES"),_=Object(d.a)(p,"FETCH_DATA"),m=Object(d.a)(p,"UPDATE_COOKIES"),b=Object(d.a)(p,"FETCH_TWITTER_INTERESTS"),g=Object(d.a)(p,"FETCH_PARTNER_INTERESTS"),v=p+"/"+"CLEAR_LOCATIONS",y={preferences:{data:{},fetchStatus:l.a.NONE},data:{data:{},fetchStatus:l.a.NONE},twitter_interests:{data:{},fetchStatus:l.a.NONE},partner_interests:{data:{},fetchStatus:l.a.NONE}};function k(e,t){switch(void 0===e&&(e=y),t.type){case h.REQUEST:return Object.assign({},e,{preferences:Object.assign({},e.preferences,{fetchStatus:l.a.LOADING})});case h.SUCCESS:return Object.assign({},e,{preferences:{data:Object.assign({},e.preferences.data,t.payload),error:null,fetchStatus:l.a.LOADED}});case h.FAILURE:return Object.assign({},e,{preferences:Object.assign({},e.preferences,{error:t.payload,fetchStatus:l.a.FAILED})});case f.REQUEST:return Object.assign({},e,{preferences:{data:Object.assign({},e.preferences.data,t.payload),error:null,fetchStatus:l.a.LOADED}});case _.REQUEST:return Object.assign({},e,{data:Object.assign({},e.data,{fetchStatus:l.a.LOADING})});case _.SUCCESS:return Object.assign({},e,{data:{data:Object.assign({},e.data.data,t.payload),error:null,fetchStatus:l.a.LOADED}});case _.FAILURE:return Object.assign({},e,{data:Object.assign({},e.data,{error:t.payload,fetchStatus:l.a.FAILED})});case b.REQUEST:return Object.assign({},e,{twitter_interests:Object.assign({},e.twitter_interests,{fetchStatus:l.a.LOADING})});case b.SUCCESS:return Object.assign({},e,{twitter_interests:{data:Object.assign({},e.twitter_interests.data,t.payload),error:null,fetchStatus:l.a.LOADED}});case b.FAILURE:return Object.assign({},e,{twitter_interests:Object.assign({},e.twitter_interests,{error:t.payload,fetchStatus:l.a.FAILED})});case g.REQUEST:return Object.assign({},e,{partner_interests:Object.assign({},e.partner_interests,{fetchStatus:l.a.LOADING})});case g.SUCCESS:return Object.assign({},e,{partner_interests:{data:Object.assign({},e.partner_interests.data,t.payload),error:null,fetchStatus:l.a.LOADED}});case g.FAILURE:return Object.assign({},e,{partner_interests:Object.assign({},e.partner_interests,{error:t.payload,fetchStatus:l.a.FAILED})});case v:return Object.assign({},e,{data:Object.assign({},e.data,{data:Object.assign({},e.data.data,{location_history:[]})})});default:return e}}u.a.register(((a={}).personalization=k,a));var w={allowCookieUse:"use_cookie_personalization",allowDeviceAccess:"allow_logged_out_device_personalization",allowLocationHistoryUse:"allow_location_history_personalization",allowPartnerships:"allow_sharing_data_for_third_party_personalization",allowPersonalization:"allow_ads_personalization"},C={allowCookieUse:"use_cookie_personalization",allowDeviceAccess:"link_logged_out_devices",allowPartnerships:"share_data_with_third_party",allowPersonalization:"allow_ads_personalization"},E={use_age_for_personalization:"age_preferences",use_gender_for_personalization:"gender_preferences"},I=function(e){return e.personalization.preferences.data},S=function(e){return e.personalization.data.data},x=Object(s.createSelector)(r.e,I,i.f,(function(e,t,n){var a=e?[w,n]:[C,t],r=a[0],i=a[1];return Object.keys(r).reduce((function(e,t){return e[t]=i[r[t]],e}),{})})),O=function(e){var t=I(e);return Object(c.a)(t)?e.personalization.preferences.fetchStatus:l.a.LOADED},A=function(e){return e.personalization.data.fetchStatus},R=function(e){return e.personalization.data.data.age?e.personalization.data.data.age:[]},T=function(e){return e.personalization.data.data.birth_date?e.personalization.data.data.birth_date:""},P=function(e){return!!e.personalization.data.data.has_exact_age},D=function(e){var t=S(e),n=I(e),a=n.gender_preferences&&n.gender_preferences.gender_override;return a&&a.type?a:{type:t.gender,value:t.gender}},j=function(e){return e.personalization.data.data.languages?e.personalization.data.data.languages:[]},N=function(e){return e.personalization.data.data.sign_up_details?e.personalization.data.data.sign_up_details:{}},F=function(e){return e.personalization.twitter_interests.data},B=function(e){return e.personalization.twitter_interests.fetchStatus},L=function(e){return e.personalization.partner_interests.data},U=function(e){return e.personalization.partner_interests.fetchStatus},V=function(){return function(e,t){var n=t(),a=I(n),r=Date.now(),i={location_preferences:Object.assign({},a.location_preferences,{override_times:[r]})};return e(W(i)).then((function(){return e({type:v})}))}},M=function(e){return function(t,n){var a=n(),r=I(a),i={gender_preferences:Object.assign({},r.gender_preferences,{gender_override:e})};return t(W(i))}},z=function(e,t){return function(n,a){if(Object(c.a)(e))return Promise.resolve();var r=a(),i=I(r),o=i.language_preferences.disabled_languages||[],s=o.indexOf(e),l=s>-1;if(l&&t)o.splice(s,1);else{if(l||t)return Promise.resolve();o.push(e)}var u={language_preferences:Object.assign({},i.language_preferences,{disabled_languages:o})};return n(W(u))}},q=function(e,t,n){return function(a,r){var i;if(Object(c.a)(e)||-1===["ads","partner"].indexOf(n))return Promise.resolve();var o="partner"===n,s=r(),l=I(s).interest_preferences,u=o?"disabled_partner_interests":"disabled_interests",d=l[u],p=d.indexOf(e),h=p>-1;if(h&&t)d.splice(p,1);else{if(h||t)return Promise.resolve();d.push(e)}var f={interest_preferences:(i={disabled_interests:l.disabled_interests,disabled_partner_interests:l.disabled_partner_interests},i[u]=d,i)};return a(W(f))}},G=function(){return function(e,t,n){n.api;var a=t().personalization.preferences;return a.fetchStatus!==l.a.LOADING&&a.fetchStatus!==l.a.LOADED?e(H()):Promise.resolve()}},H=function(){return function(e,t,n){var a=n.api;return Object(d.b)(e,{request:a.Personalization.fetchPreferences})({actionTypes:h,context:"FETCH_PERSONALIZATION_PREFERENCES"})}},W=function(e){return function(t,n,a){var r=a.api;return Object(c.a)(e)?Promise.resolve():Object(d.c)(t,{params:{preferences:e},request:r.Personalization.updatePreferences})({actionTypes:f,context:"ACTION_UPDATE_PERSONALIZATION_PREFERENCES",payload:e})}},Y=function(e){return function(t,n,a){var s=a.api;if(Object(c.a)(e))return Promise.resolve();var l=n(),u=r.e(l),d=u?w:C,p=Object.keys(e).reduce((function(t,n){var a;n in d&&(t[d[n]]=e[n]);n in E&&(t[E[n]]=((a={})[n]=e[n],a));return t}),{});return u?t(i.E(p)).then((function(){Object(o.a)().then((function(e){e.updateBranchTracking(s)})),t(ae(p))})):K(t,p,s)}},K=function(e,t,n){return Object(d.c)(e,{params:{preferences:t},request:n.Personalization.updatePreferences})({actionTypes:f,context:"ACTION_UPDATE_PERSONALIZATION_PREFERENCES",payload:t}).then((function(){Object(o.a)().then((function(e){e.updateBranchTracking(n)}))}))},X=function(){return function(e,t,n){n.api;var a=t().personalization.data;return a.fetchStatus!==l.a.LOADING&&a.fetchStatus!==l.a.LOADED?e(Z()):Promise.resolve()}},Z=function(){return function(e,t,n){var a=n.api;return Object(d.b)(e,{request:a.Personalization.fetchData})({actionTypes:_,context:"FETCH_PERSONALIZATION_DATA"})}},Q=function(){return function(e,t,n){var a=n.api;return Object(d.d)(e,{request:a.Personalization.createAudienceDownload})("CREATE_AUDIENCE_DOWNLOAD")}},J=function(){return function(e,t,n){var a=n.api;return Object(d.d)(e,{request:a.Personalization.createDataDownload})("CREATE_DATA_DOWNLOAD")}},$=function(){return function(e,t,n){n.api;var a=t().personalization.twitter_interests;return a.fetchStatus!==l.a.LOADING&&a.fetchStatus!==l.a.LOADED?e(ee()):Promise.resolve()}},ee=function(){return function(e,t,n){var a=n.api;return Object(d.b)(e,{request:a.Personalization.fetchTwitterInterests})({actionTypes:b,context:"FETCH_PERSONALIZATION_TWITTER_INTERESTS"})}},te=function(){return function(e,t,n){n.api;var a=t().personalization.partner_interests;return a.fetchStatus!==l.a.LOADING&&a.fetchStatus!==l.a.LOADED?e(ne()):Promise.resolve()}},ne=function(){return function(e,t,n){var a=n.api;return Object(d.b)(e,{request:a.Personalization.fetchPartnerInterests})({actionTypes:g,context:"FETCH_PERSONALIZATION_PARTNER_INTERESTS"})}},ae=function(e){return function(t,n,a){var r=a.api,i={};return e.hasOwnProperty("use_cookie_personalization")&&(i.use_cookie_personalization=e.use_cookie_personalization),e.hasOwnProperty("allow_ads_personalization")&&(i.allow_ads_personalization=e.allow_ads_personalization),Object(c.a)(i)?Promise.resolve():Object(d.b)(t,{params:i,request:r.Personalization.updateCookies})({actionTypes:m,context:"APP_UPDATE_PERSONALIZATION_COOKIES",params:i})}},re=function(){return function(e,t,n){var a=n.api;return Object(d.d)(e,{request:a.Personalization.syncSettings})("SYNC_SETTINGS")}}},P68U:function(e,t,n){"use strict";n("2G9S"),n("hBpG"),n("hCOa"),n("jQ3i"),n("z84I"),n("x4t0"),n("87if");var a=n("1Pcy"),r=n.n(a),i=n("W/Kd"),o=n.n(i),s=n("KEM+"),l=n.n(s),c=n("ERkP"),u=n("oEGd"),d=n("AspN"),p={addMedia:d.b,processMultipleMedia:d.d},h=Object(u.b)(p),f=n("3XMw"),_=n.n(f),m=n("3OvD"),b=n.n(m),g=n("l2F/"),v=n.n(g),y=n("pKoL"),k=n("3xO4"),w=n.n(k),C=n("rFBM"),E=n("/yvb"),I=n("9Xij"),S=n("rHpw"),x=n("VPdC"),O=_.a.b87ca51a,A=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,l()(r()(t),"_getAcceptedFileInputs",(function(){var e=t.props,n=e.acceptGifs,a=e.acceptVideo;return Object(x.b)({acceptGifs:n,acceptVideo:a})})),l()(r()(t),"_handleAddMediaFiles",(function(e){var n=t.props,a=n.addMedia,r=n.location,i=n.onChange,o=n.onFailure,s=n.processMultipleMedia,l=t._getAcceptedFileInputs(),c=Array.from(e).find((function(e){return l.includes(e.type)}));c&&a([c],{location:r}).then((function(e){i&&i(e.map((function(e){return e.id}))),s(e,{onFailure:o})}))})),t}o()(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.borderRadius,n=e.maskStyle,a=e.mediaItem,r=e.onRemove,i=e.rootStyle,o=a&&!a.uploader;return c.createElement(w.a,{style:[T.container,i,R[t]]},c.createElement(C.a,{onFilesAdded:this._handleAddMediaFiles,style:[T.dragDropContainer,R[t]]},this._renderPreview(),o?null:c.createElement(c.Fragment,null,c.createElement(w.a,{style:[T.mask,n,R[t]]}),c.createElement(w.a,{style:T.mediaPicker},this._renderMediaPicker(),r?this._renderMediaRemove():null))))},n._renderMediaRemove=function(){var e=this.props.onRemove;return c.createElement(E.a,{accessibilityLabel:O,icon:c.createElement(v.a,null),onPress:e,style:T.remove,type:"invertedText"})},n._renderMediaPicker=function(){var e=this.props,t=e.acceptGifs,n=e.acceptVideo,a=e.accessibilityLabel;return c.createElement(x.a,{acceptGifs:t,acceptVideo:n,accessibilityLabel:a,icon:c.createElement(b.a,null),onChange:this._handleAddMediaFiles,type:"invertedText"})},n._renderPreview=function(){var e=this.props,t=e.aspectRatio,n=e.borderRadius,a=e.currentContent,r=e.mediaItem;return r?c.createElement(I.a,{ratio:t},c.createElement(y.a,{borderRadius:n,enableGif:!1,mediaItem:r,style:T.mediaPreview,withCloseButton:!1})):a},t}(c.Component);l()(A,"defaultProps",{acceptGifs:!1,acceptVideo:!1,aspectRatio:1,borderRadius:"none"});var R=S.a.create((function(e){return{infinite:{borderRadius:e.borderRadii.infinite},medium:{borderRadius:e.borderRadii.medium},none:{borderRadius:0}}})),T=S.a.create((function(e){return{mediaPreview:{height:"100%"},mediaPicker:{alignItems:"center",flexDirection:"row",height:"100%",justifyContent:"center",opacity:.75,position:"absolute",top:0,width:"100%"},remove:{marginLeft:e.spaces.large},mask:{backgroundColor:e.colors.translucentBlack30,height:"100%",position:"absolute",top:0,width:"100%"},container:{justifyContent:"center",overflow:"hidden"},dragDropContainer:{borderWidth:e.borderWidths.medium,borderColor:e.colors.transparent,borderStyle:"solid"}}}));t.a=h(A)},P7wY:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var a=function(e,t,n){var a=new Date,r=a.getFullYear()-e,i=a.getMonth()+1-t;if(i<0)r-=1;else if(0===i){a.getDate()-n<0&&(r-=1)}return r},r=function(e,t,n){return!!(e&&t&&n)&&a(e,t,n)<18},i=function(){return(new Date).getFullYear()-120}},Rl48:function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},S8sr:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));n("jQ3i"),n("z84I"),n("IAdD"),n("Blm6"),n("KqXw"),n("x4t0"),n("Ysgh"),n("uFXj");var a=n("1Pcy"),r=n.n(a),i=n("W/Kd"),o=n.n(i),s=n("KEM+"),l=n.n(s),c=n("ERkP"),u=n("nS1w"),d=n("t62R"),p=n("p+r5"),h=n("3XMw"),f=n.n(h),_=n("6XNv"),m=n("rHpw"),b=n("aITJ"),g=n("3xO4"),v=n.n(g),y=f.a.jf83d091,k=f.a.af4abf2f,w=f.a.b871f28f,C=function(e){function t(t){var n;n=e.call(this,t)||this,l()(r()(n),"_handleSelectorChange",(function(e,t){var a,r=n.props,i=r.month,o=r.year,s=r.day,l=Object.assign({},{day:s,month:i,year:o},((a={})[e]=parseInt(t,10),a));n.props.onChange(l)})),l()(r()(n),"_handleDayChange",(function(e){n._handleSelectorChange("day",e)})),l()(r()(n),"_handleMonthChange",(function(e){n._handleSelectorChange("month",e)})),l()(r()(n),"_handleYearChange",(function(e){n._handleSelectorChange("year",e)})),l()(r()(n),"_handleDateChange",(function(e){var t=e.target.value.split("-"),a={year:parseInt(t[0],10),month:parseInt(t[1],10),day:parseInt(t[2],10)};n.props.onChange(a)}));var a=t.day,i=t.maxSelectableYear,o=t.minSelectableYear,s=t.month,c=t.year;return n._monthOptions=u.c(),n._nativeDefaultValue=u.e(a,s,c),n._nativeMaxDate=u.e(31,12,i),n._nativeMinDate=u.e(1,1,o),n}o()(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){var t=this.props,n=t.month,a=t.year,r=t.day,i=t.onChange,o=n&&n!==e.month,s=a&&a!==e.year;(o||s)&&(u.b(n,a).map((function(e){return parseInt(e.value,10)})).includes(r)||i({month:n,year:a,day:void 0}))},n.render=function(){var e=this.props.errorMessage;return c.createElement(v.a,null,b.a.isMobileOS()?this._renderNativeDateInput():this._renderSelectors(),e?c.createElement(d.c,{color:"red"},e):null)},n._renderSelectors=function(){var e=this.props,t=e.day,n=e.month,a=e.year,r=e.errors,i=void 0===r?{}:r,o=e.label,s=e.autofocus,l=e.monthSelectorTestID,d=e.daySelectorTestID,p=e.yearSelectorTestID,h=e.style,f=e.minSelectableYear,m=e.maxSelectableYear,b=u.b(n,a),g=u.d(f,m,t,n);return c.createElement(v.a,{accessibilityLabel:o,accessibilityRole:"group",style:[E.selectorsContainer,h]},c.createElement(_.a,{autofocus:s,hasError:i.month,label:k,onChange:this._handleMonthChange,options:this._monthOptions,style:E.monthSelector,testID:l,value:n?""+n:"",withEmptyOption:!0}),c.createElement(_.a,{hasError:i.day,label:y,onChange:this._handleDayChange,options:b,style:E.daySelector,testID:d,value:t?""+t:"",withEmptyOption:!0}),c.createElement(_.a,{hasError:i.year,label:w,onChange:this._handleYearChange,options:g,style:E.yearSelector,testID:p,value:a?""+a:"",withEmptyOption:!0}))},n._renderNativeDateInput=function(){var e=this.props.label;return c.createElement(p.a,{defaultValue:this._nativeDefaultValue,label:e,max:this._nativeMaxDate,min:this._nativeMinDate,name:e,numberOfLines:1,onChange:this._handleDateChange,style:E.dateInputRoot,type:"date"})},t}(c.Component),E=m.a.create((function(e){return{selectorsContainer:{flexDirection:"row",marginVertical:e.spaces.small},monthSelector:{flexGrow:2,marginRight:e.spaces.xSmall},daySelector:{flexGrow:1,marginRight:e.spaces.xSmall},yearSelector:{flexGrow:1},dateInputRoot:{paddingHorizontal:0}}}))},SotI:function(e,t,n){"use strict";n("IAdD"),t.__esModule=!0,t.default=void 0;var a=o(n("7DT3")),r=o(n("ERkP")),i=o(n("OkZJ"));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return void 0===e&&(e={}),(0,a.default)("svg",Object.assign({},e,{style:[i.default.root,e.style],viewBox:"0 0 24 24"}),r.default.createElement("g",null,r.default.createElement("path",{d:"M16.04 7.266c-.45 0-.815.297-.947.7l-.03.113s-1.064-1.397-3.277-1.397c-2.855 0-4.928 2.4-4.928 5.706 0 2.495 1.755 4.525 3.912 4.525 2.307 0 3.632-1.492 3.632-1.492s.597 1.75 3.503 1.75c.49 0 4.837-.297 4.837-5.172 0-5.923-4.82-10.743-10.744-10.743-5.922 0-10.74 4.82-10.74 10.743 0 5.924 4.818 10.743 10.742 10.743 2.244 0 4.04-.544 5.82-1.765.163-.112.273-.283.31-.48s-.005-.394-.118-.557c-.224-.327-.71-.418-1.037-.193-1.516 1.04-3.05 1.504-4.976 1.504-5.102 0-9.25-4.15-9.25-9.25S6.9 2.75 12 2.75 21.25 6.9 21.25 12c0 2.916-1.822 3.9-3.234 3.9-.53 0-2.234-.213-1.906-2.103 0 0 .938-5.4.938-5.523-.002-.557-.452-1.008-1.01-1.008zm-2.235 6.55c-.58.83-1.378 1.305-2.247 1.335l-.105.003c-1.483 0-2.52-1.112-2.578-2.768-.075-2.12 1.366-3.964 3.146-4.027l.102-.002c1.423 0 2.417 1.07 2.474 2.66.035 1.024-.245 2.018-.79 2.8z"})))};s.metadata={height:24,width:24};var l=s;t.default=l},TEoO:function(e,t,n){"use strict";var a=n("LdEA"),r=n.n(a),i=n("ERkP"),o=n("5UID"),s=n("3GUV"),l=n("iBK2"),c=i.createElement(s.a,null),u=function(e){var t=e.accessibilityTitle,n=r()(e,["accessibilityTitle"]),a=i.createElement(l.b,n);return t?i.createElement(o.a,{title:t},a):a};u.defaultProps={footer:c},t.a=u},V2ml:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));n("1t7P"),n("jQ/y"),n("z84I"),n("ho0z");var a=n("1Pcy"),r=n.n(a),i=n("W/Kd"),o=n.n(i),s=n("KEM+"),l=n.n(s),c=n("ERkP"),u=n("t62R"),d=(n("2G9S"),n("IAdD"),n("5/+E")),p=n.n(d),h=n("py1r"),f=n("I4+6"),_=n("rHpw"),m=(n("aWzz"),n("7DT3")),b=n.n(m),g=n("3xO4"),v=n.n(g),y=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,l()(r()(t),"_handleChange",(function(e){var n=t.props,a=n.onChange,r=n.checked;a&&!r&&a(e.nativeEvent.target.checked)})),l()(r()(t),"_setRef",(function(e){t._ref=e})),t}o()(t,e);var n=t.prototype;return n.render=function(){var e=this,t=this.props,n=t.disabled,a=t.label,r=t.name,i=t.checked,o=f.a.generate({backgroundColor:_.a.theme.colors.transparent,color:_.a.theme.colors.primary}),s=f.a.generate({backgroundColor:_.a.theme.colors.transparent,color:_.a.theme.colors.deepGray}),l=i?o:s;return c.createElement(h.a,{disabled:n},(function(t){var o=t.isFocused,s=t.isHovered,d=t.isPressed;return c.createElement(v.a,{accessibilityRole:"label",style:[k.root,!n&&k.interactive]},c.createElement(u.c,null,a),c.createElement(v.a,{style:[k.radioContainer]},c.createElement(v.a,{style:[k.radioBackground,l.transitionStyle,(s||o)&&l.hoverStyle,d&&l.pressedStyle,o&&l.focusedStyle]},c.createElement(v.a,{style:[k.circle,i&&k.circleActive,n&&k.circleDisabled,i&&n&&k.circleCheckedAndDisabled]},i?c.createElement(p.a,{style:k.checkMark}):null)),b()("input",{checked:i,disabled:n,name:r,onChange:e._handleChange,ref:e._setRef,style:[k.nativeControl],type:"radio"})))}))},n.focus=function(){this._ref&&this._ref.focus()},t}(c.Component);l()(y,"displayName","Radio"),l()(y,"defaultProps",{disabled:!1,checked:!1}),y.propTypes={};var k=_.a.create((function(e){return{root:{alignItems:"center",flexDirection:"row",justifyContent:"space-between",flexGrow:1,paddingVertical:e.spaces.xxSmall},interactive:{cursor:"pointer"},circleDisabled:{borderColor:e.colors.lightGray},circleCheckedAndDisabled:{backgroundColor:e.colors.mediumGray,borderColor:e.colors.mediumGray},radioContainer:{userSelect:"none",marginLeft:e.spaces.medium},radioBackground:{borderRadius:e.borderRadii.infinite,margin:"-"+e.spaces.xSmall,padding:e.spaces.xSmall},circle:{alignItems:"center",backgroundColor:e.colors.cellBackground,borderColor:e.colors.deepGray,borderStyle:"solid",borderWidth:e.borderWidths.medium,borderRadius:e.spaces.large,height:e.spaces.medium,justifyContent:"center",width:e.spaces.medium},circleActive:{borderColor:e.colors.primary,backgroundColor:e.colors.primary},checkMark:{width:"18px",height:"18px",color:e.colors.whiteOnColor},nativeControl:Object.assign({},_.a.absoluteFillObject,{cursor:"inherit",height:"100%",margin:0,opacity:0,padding:0,width:"100%"})}})),w=y,C=1,E=function(e){function t(){var t;return t=e.call(this)||this,l()(r()(t),"_radioRefs",{}),l()(r()(t),"_handleItemChanged",(function(e){return function(){var n=t.props,a=n.name;(0,n.onChange)(a,e)}})),l()(r()(t),"_setRadioRef",(function(e,n){return function(a){t._radioRefs[e]=a,n&&(t._radioRefs.checked=e)}})),l()(r()(t),"focus",(function(){var e=t._radioRefs.checked,n=e?t._radioRefs[e]:t._radioRefs[0];n&&n.focus()})),t._labelId="RADIO_GROUP_"+C+"_LABEL",C+=1,t}return o()(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.accessibilityLabel,a=t.description,r=t.disabled,i=t.label,o=t.name,s=t.options,l=t.value;return c.createElement(v.a,{accessibilityLabel:n,accessibilityRole:"group","aria-labelledby":i&&!n?this._labelId:void 0,style:r&&I.disabled},i?c.createElement(v.a,{accessibilityRole:"label",nativeID:this._labelId,style:I.header},c.createElement(u.c,{style:I.label,weight:"bold"},i),a?c.createElement(u.c,{color:"deepGray",size:"small"},a):null):null,s.map((function(t,n){return c.createElement(w,{checked:t.value===l,disabled:r,key:t.value,label:t.label,name:o,onChange:e._handleItemChanged(t.value),ref:e._setRadioRef(n,t.value===l)})})))},t}(c.Component);l()(E,"defaultProps",{disabled:!1});var I=_.a.create((function(e){return{header:{alignItems:"flex-start"},label:{paddingTop:e.spaces.xSmall,paddingBottom:e.spaces.xxSmall},disabled:{opacity:.5}}}))},XiMS:function(e,t,n){"use strict";n("2G9S"),n("IAdD");var a=n("97Jx"),r=n.n(a),i=n("LdEA"),o=n.n(i),s=n("1Pcy"),l=n.n(s),c=n("W/Kd"),u=n.n(c),d=n("KEM+"),p=n.n(d),h=n("ERkP"),f=n("5/+E"),_=n.n(f),m=n("py1r"),b=n("I4+6"),g=n("rHpw"),v=(n("aWzz"),n("7DT3")),y=n.n(v),k=n("RU7y"),w=n.n(k),C=n("3xO4"),E=n.n(C),I=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,p()(l()(t),"_handleChange",(function(e){var n=t.props,a=n.onChange,r=n.onValueChange,i=a||r;i&&i(e.nativeEvent.target.checked)})),p()(l()(t),"_setCheckboxRef",(function(e){t._checkboxElement=e})),t}u()(t,e);var n=t.prototype;return n.blur=function(){this._checkboxElement&&w.a.blur(this._checkboxElement)},n.focus=function(){this._checkboxElement&&w.a.focus(this._checkboxElement)},n.render=function(){var e=this.props,t=e.checked,n=e.disabled,a=(e.onChange,e.onValueChange,e.style),i=e.value,s=o()(e,["checked","disabled","onChange","onValueChange","style","value"]),l=t||i,c=b.a.generate({backgroundColor:g.a.theme.colors.transparent,color:g.a.theme.colors.primary}),u=b.a.generate({backgroundColor:g.a.theme.colors.transparent,color:g.a.theme.colors.deepGray}),d=l?c:u,p=y()("input",{checked:l,disabled:n,onChange:this._handleChange,ref:this._setCheckboxRef,style:[S.nativeControl,S.cursorInherit],type:"checkbox"});return h.createElement(m.a,{disabled:n},(function(e){return h.createElement(E.a,r()({},s,{style:[S.root,a,n&&S.cursorDefault]}),(i=(t=e).isFocusedWithin,o=t.isHovered,c=t.isPressed,h.createElement(E.a,{style:[S.fakeControlInteractiveStyles,d.transitionStyle,o&&d.hoverStyle,c&&d.pressedStyle,i&&d.focusedWithinStyle]},h.createElement(E.a,{style:[S.fakeControl,l&&S.fakeControlChecked,n&&S.fakeControlDisabled,l&&n&&S.fakeControlCheckedAndDisabled]},l?h.createElement(_.a,{style:S.icon}):null))),p);var t,i,o,c}))},t}(h.Component);p()(I,"displayName","@twitter/Checkbox"),p()(I,"defaultProps",{checked:!1,disabled:!1,value:!1}),I.propTypes={};var S=g.a.create((function(e){return{root:{cursor:"pointer",userSelect:"none"},cursorDefault:{cursor:"default"},cursorInherit:{cursor:"inherit"},fakeControlInteractiveStyles:{padding:e.spaces.xSmall,margin:"-"+e.spaces.xSmall,borderRadius:e.borderRadii.infinite},fakeControl:{alignItems:"center",backgroundColor:e.colors.cellBackground,borderColor:e.colors.deepGray,borderRadius:e.borderRadii.medium,borderStyle:"solid",borderWidth:e.borderWidths.medium,height:e.spaces.medium,justifyContent:"center",width:e.spaces.medium},fakeControlChecked:{backgroundColor:e.colors.primary,borderColor:e.colors.primary},fakeControlDisabled:{borderColor:e.colors.lightGray},fakeControlCheckedAndDisabled:{backgroundColor:e.colors.mediumGray,borderColor:e.colors.mediumGray},nativeControl:Object.assign({},g.a.absoluteFillObject,{height:"100%",margin:0,opacity:0,padding:0,width:"100%"}),icon:Object.assign({},g.a.absoluteFillObject,{color:e.colors.whiteOnColor,height:e.spaces.medium,margin:"auto"})}}));t.a=I},YCSy:function(e,t,n){"use strict";n("2G9S");var a=n("1Pcy"),r=n.n(a),i=n("W/Kd"),o=n.n(i),s=n("KEM+"),l=n.n(s),c=n("ERkP"),u=n("aWzz"),d=n("VAZu"),p=n("3XMw"),h=n.n(p),f=n("GQKA"),_=n.n(f),m=n("aITJ"),b=n("3xO4"),g=n.n(b),v=n("yw4N"),y=n("w9LO"),k=n("mw9i"),w=n("rHpw"),C=h.a.d2fb334b,E=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,l()(r()(t),"_handleViewportSet",(function(e){var n=t.props.onViewportSet;n&&n(e)})),t}o()(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.children,n=e.scrollPrompt,a=this.context.isModal;return c.createElement(y.a,{style:[I.root,a&&I.rootModal]},this._renderAppBar(),c.createElement(k.a,{style:[I.container,a&&I.containerModal]},a?c.createElement(v.a,{onViewportSet:this._handleViewportSet,style:[I.viewport,m.a.isIE()&&I.viewportIE]},t):t,a?null:n),a?n:null)},n._renderAppBar=function(){var e=this.props,t=e.backLocation,n=e.hideBackButton,a=e.hideLogo,r=e.history,i=e.leftControl,o=e.location,s=e.onBackClick,l=e.rightControl,u=e.progressIndication,p=this.context.isModal,h=u||a?void 0:c.createElement(g.a,{style:I.iconContainer},c.createElement(_.a,{accessibilityLabel:C,style:I.icon})),f=u?u.text.text:void 0;return c.createElement(d.a,{backLocation:t,centeredLogo:h,fixed:!p,hideBackButton:n||!s,history:r,leftControl:i,location:o,onBackClick:s,rightControl:l,title:f,withBottomBorder:!1})},t}(c.Component);l()(E,"contextTypes",{isModal:u.bool}),l()(E,"defaultProps",{hideBackButton:!1,hideLogo:!1});var I=w.a.create((function(e){return{root:{display:"flex",flexGrow:1},rootModal:{backgroundColor:e.colors.cellBackground,flexShrink:1},container:{flexGrow:1},containerModal:{flexShrink:1},iconContainer:{alignItems:"center",alignSelf:"stretch",display:"flex",flexGrow:1,justifyContent:"center",minWidth:e.spaces.large},icon:{color:e.colors.brandColor,flexGrow:1,height:"1.75rem"},viewport:{flexGrow:1,flexShrink:1,overflow:"auto"},viewportIE:{flexBasis:"0%"}}}));t.a=E},YlqV:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"h",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return _})),n.d(t,"i",(function(){return m})),n.d(t,"g",(function(){return b}));n("hBpG"),n("KOtZ"),n("IAdD"),n("+KXO"),n("KqXw"),n("Ysgh"),n("ERkP");var a=n("zrOZ"),r=n("6/RC"),i=n("SrIh"),o=n("q82E");function s(e,t,n){var a=t.key,r=t.subtask_id,i=e[r]&&e[r][a];return void 0===i?n:i}var l=function(e){return(e?e.split(","):[]).reduce((function(e,t){var n=t.split(":",2),a=n[0],r=n[1];return a&&r&&(e[a]=r),e}),{})},c=function(e,t){var n=t?JSON.parse(t):{};return Object.assign({},e,n)},u=function(e){switch(e){case o.b.Primary:return"primary";case o.b.Text:return"text";case o.b.DestructiveSecondary:return"destructiveSecondary";default:return Object(i.a)("Unknown Button Style ${style}"),"primary"}},d={subtask_id:null,subtask_back_navigation:null,progress_indication:null,alert_dialog:o.p.AlertDialog,alert_dialog_suppress_client_events:o.p.AlertDialogSupressClientEvents,app_download_cta:o.p.AppDownloadCTA,cta:o.p.CallToAction,choice_selection:o.p.ChoiceSelection,contacts_live_sync_permission_prompt:o.p.ContactsLiveSyncPermissionPrompt,email_contacts_sync:o.p.EmailContactsSync,enter_email:o.p.EnterEmail,enter_phone:o.p.EnterPhone,email_verification:o.p.EmailVerification,enter_password:o.p.EnterPassword,enter_text:o.p.EnterText,enter_username:o.p.EnterUsername,end_flow:o.p.EndFlow,fetch_temporary_password:o.p.FetchPassword,interest_picker:o.p.InterestPicker,menu_dialog:o.p.MenuDialog,notifications_permission_prompt:o.p.NotificationsPermissionPrompt,open_account:o.p.OpenAccount,open_home_timeline:o.p.OpenHomeTimeline,open_link:o.p.OpenLink,phone_verification:o.p.PhoneVerification,privacy_options:o.p.PrivacyOptions,recaptcha:o.p.Recaptcha,select_avatar:o.p.SelectAvatar,select_banner:o.p.SelectBanner,settings_list:o.p.SettingsList,sign_up:o.p.Signup,sign_up_review:o.p.SignupReview,topics_selector:o.p.TopicsSelector,update_users:o.p.UpdateUsers,upload_media:o.p.UploadMedia,user_recommendations_list:o.p.UserRecommendations,user_recommendations_urt:o.p.UserRecommendationsURT,wait_spinner:o.p.WaitSpinner},p={contacts_live_sync_permission_prompt:r.canUseDOM&&"contacts"in navigator&&"ContactsManager"in window?1:0,email_verification:1,topics_selector:1,wait_spinner:1},h=Object(a.a)([o.p.AlertDialogSupressClientEvents]),f=function(e){return e&&Object.keys(e).find((function(e){return d[e]}))||null},_=function(e){var t=f(e);return t?d[t]:null},m=function(e){var t=_(e);return!!t&&h.has(t)},b=function(e){return e===o.l.Boolean||e===o.l.PreciseLocation}},dEMF:function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],a=t[1];return 3*(n+a)/4-a},t.toByteArray=function(e){for(var t,n=c(e),a=n[0],o=n[1],s=new i(function(e,t,n){return 3*(t+n)/4-n}(0,a,o)),l=0,u=o>0?a-4:a,d=0;d<u;d+=4)t=r[e.charCodeAt(d)]<<18|r[e.charCodeAt(d+1)]<<12|r[e.charCodeAt(d+2)]<<6|r[e.charCodeAt(d+3)],s[l++]=t>>16&255,s[l++]=t>>8&255,s[l++]=255&t;2===o&&(t=r[e.charCodeAt(d)]<<2|r[e.charCodeAt(d+1)]>>4,s[l++]=255&t);1===o&&(t=r[e.charCodeAt(d)]<<10|r[e.charCodeAt(d+1)]<<4|r[e.charCodeAt(d+2)]>>2,s[l++]=t>>8&255,s[l++]=255&t);return s},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,i=[],o=0,s=n-r;o<s;o+=16383)i.push(u(e,o,o+16383>s?s:o+16383));1===r?(t=e[n-1],i.push(a[t>>2]+a[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(a[t>>10]+a[t>>4&63]+a[t<<2&63]+"="));return i.join("")};for(var a=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=o.length;s<l;++s)a[s]=o[s],r[o.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var r,i,o=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(a[(i=r)>>18&63]+a[i>>12&63]+a[i>>6&63]+a[63&i]);return o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},ey4P:function(e,t,n){"use strict";n("IAdD"),t.__esModule=!0,t.default=void 0;var a=o(n("7DT3")),r=o(n("ERkP")),i=o(n("OkZJ"));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return void 0===e&&(e={}),(0,a.default)("svg",Object.assign({},e,{style:[i.default.root,e.style],viewBox:"0 0 24 24"}),r.default.createElement("g",null,r.default.createElement("path",{d:"M19 13H5c-.553 0-1-.447-1-1s.447-1 1-1h14c.553 0 1 .447 1 1s-.447 1-1 1z"})))};s.metadata={height:24,width:24};var l=s;t.default=l},fS8x:function(e,t,n){"use strict";var a=n("ERkP"),r=n("1Pcy"),i=n.n(r),o=n("W/Kd"),s=n.n(o),l=n("KEM+"),c=n.n(l),u=n("rxPX"),d=n("/NU0"),p=n("AspN"),h=function(e,t){return t.media?t.media:Object(d.a)(t.mediaId)?Object(p.g)(e,t.mediaId)[0]:void 0},f=function(e,t){return void 0!==t.mediaId?t.mediaId:t.media?t.media.id:null},_=Object(u.a)().propsFromState((function(){return{media:h,mediaId:f}})).propsFromActions((function(){return{processMedia:p.c,updateMediaUpload:p.j}})).withAnalytics({page:"media",section:"edit"}),m=n("jHSc"),b=n("3XMw"),g=n.n(b),v=n("EeFI"),y=n("/yvb"),k=n("rHpw"),w=g.a.gd80afba,C=g.a.a753a87f,E=function(e){function t(t){var n;return n=e.call(this,t)||this,c()(i()(n),"_getMedia",(function(){var e=n.props.media;return e&&e.mediaFile&&e.mediaFile.isImage?e:null})),c()(i()(n),"_renderAppBarRightControl",(function(){var e=n.state.isProcessing;return a.createElement(y.a,{disabled:e,onPress:n._handleApplyButtonClick,size:"normalCompact",type:"primary"},C)})),c()(i()(n),"_handleBackClick",(function(){var e=n.props,t=e.analytics,a=e.onCancel;t.scribe({action:"cancel"}),a&&a()})),c()(i()(n),"_handleApplyButtonClick",(function(){var e=n.props.onCropDone,t=n._cropper.current;if(t){var a=n.props,r=a.analytics,i=a.media,o=a.mediaId,s=a.onDone,l=a.processMedia,c=a.updateMediaUpload;n.setState({isProcessing:!0});var u=t.getCropData(),p=(i||{}).originalMediaFile,h=!p||0===u.top&&0===u.left&&u.width===p.width&&u.height===p.height;Object(d.a)(o)&&(e?(e(u),s()):(c({id:o,cropData:h?void 0:u}),l(o).then((function(){n.setState({isProcessing:!1}),r.scribe({action:"done"}),s()}))))}})),n.state={isProcessing:!1},n._cropper=a.createRef(),t.media||t.onCancel(),n}return s()(t,e),t.prototype.render=function(){var e=this.props,t=e.defaultAspectRatio,n=e.history,r=e.location,i=e.title,o=e.withAspectRatioOptions,s=e.withZoomControl,l=this._getMedia();return a.createElement(m.b,{backButtonType:"back",containerStyle:I.root,documentTitle:i||w,history:n,location:r,onBackClick:this._handleBackClick,rightControl:this._renderAppBarRightControl(),title:i||w},a.createElement(v.a,{defaultAspectRatio:t,media:l,ref:this._cropper,withAspectRatioOptions:o,withZoomControl:s}))},t}(a.Component),I=k.a.create((function(e){return{root:{flexShrink:1,height:650}}})),S=_(E),x=n("X8FW"),O=k.a.create((function(e){return{modal:{width:600,maxWidth:"90vw"}}}));t.a=function(e){return a.createElement(x.b,{clickMaskToClose:!1,location:e.location,modalSize:"fitChildren",style:O.modal},a.createElement(S,e))}},gPQO:function(e,t,n){"use strict";n.r(t),n.d(t,"OcfScreen",(function(){return Co}));n("hBpG"),n("z84I"),n("IAdD"),n("+KXO"),n("7x/C"),n("JtPf"),n("KqXw"),n("MvUL");var a,r,i,o=n("97Jx"),s=n.n(o),l=n("Y9Ll"),c=n.n(l),u=n("1Pcy"),d=n.n(u),p=n("W/Kd"),h=n.n(p),f=n("KEM+"),_=n.n(f),m=n("ERkP"),b=(n("2G9S"),n("+/5o")),g=n("eb3s"),v=(n("LW0h"),n("KOtZ"),n("M+/F"),n("7DT3")),y=n.n(v),k=n("YlqV"),w=n("q82E"),C=n("t62R"),E=n("aWzz"),I=function(e){return y()("span",e)},S=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,_()(d()(t),"_textArray",(function(){var e=t.props,n=e.entities,a=e.subtaskInputs,r=e.text,i=e.size,o=e.color,l=e.weight;return n.reduce((function(e,c,u){var d,p=c.from_index,h=c.to_index,f=c.navigation_link,_=c.subtask_data_reference,b=n[u-1]?n[u-1].to_index:0,g=m.createElement(C.c,{color:o,key:b+","+p,size:i,weight:l},r.slice(b,p)),v=p+","+h;if(f){var y=f.link_type===w.i.ChromelessWeb,E={key:v,size:i,weight:l,withInteractiveStyling:!0},I=y?{link:{external:!0,pathname:f.url}}:{accessibilityRole:"button",color:"link",onClick:t._handleClick(f)};d=m.createElement(C.c,s()({},I,E),r.slice(p,h))}else d=_?m.createElement(C.c,{color:o,key:v,size:i,weight:l},Object(k.d)(a,_)):m.createElement(C.c,{color:o,key:v,size:i,weight:l},r.slice(p,h));var S=u===n.length-1?m.createElement(C.c,{color:o,key:""+h,size:i,weight:l},r.slice(h)):null;return e.concat([g,d,S].filter((function(e){return!!e})))}),[])})),_()(d()(t),"_handleClick",(function(e){return function(n){n.preventDefault();var a=t.props,r=a.onClick,i=a.onNavigate;i?i(e):r&&r()}})),t}h()(t,e);var n=t.prototype;return n.render=function(){var e=this.props.entities;return e&&e.length>0?this._renderTextArray():this._renderText()},n._renderTextArray=function(){var e=this.props,t=e.align,n=e.style,a=e.testID;return m.createElement(I,{align:t,style:n,testID:a},this._textArray())},n._renderText=function(){var e=this.props,t=e.align,n=e.text,a=e.style,r=e.color,i=e.size,o=e.weight,s=e.testID;return m.createElement(C.c,{align:t,color:r,size:i,style:a,testID:s,weight:o},n)},t}(m.PureComponent),x=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,_()(d()(t),"_handleConfirm",(function(){var e=t.props.subtask;t._handleButtonClick(e.next_link)})),_()(d()(t),"_handleCancel",(function(){var e=t.props.subtask.cancel_link;e&&t._handleButtonClick(e)})),_()(d()(t),"_handleButtonClick",(function(e){var n=t.props,a=n.onNavigate,r=n.subtaskId;(0,n.updateFlow)(r,{link:e.link_id}),a(e)})),t}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.subtask,n=e.onNavigate,a=e.subtaskInputs,r=t.primary_text?m.createElement(S,s()({},t.primary_text,{nativeID:b.e,onNavigate:n,subtaskInputs:a})):void 0,i=t.secondary_text?m.createElement(S,s()({},t.secondary_text,{onNavigate:n,subtaskInputs:a})):void 0,o=t.cancel_link,l=t.next_link,c=o&&o.label;return m.createElement(g.a,{cancelButtonLabel:c,confirmButtonLabel:l&&l.label,headline:r,onCancel:this._handleCancel,onConfirm:this._handleConfirm,onMaskClick:this._handleCancel,text:i,withCancelButton:!!c})},t}(m.Component),O=n("fs1G"),A=n("YCSy"),R=n("3xO4"),T=n.n(R),P=n("TIdA"),D=n("A91F"),j=n("cmUU"),N=function(e){function t(t){var n;return n=e.call(this,t)||this,_()(d()(n),"_handleCtaClick",(function(e){var t=n.props,a=t.onNavigate,r=t.subtaskId;(0,t.updateFlow)(r,{link:e.link_id}),a(e)})),_()(d()(n),"_handlePrimaryActionClick",(function(){n.setState({downloadLinkClicked:!0}),n._handleCtaClick(n.props.subtask.primary_action_link)})),_()(d()(n),"_handleSecondaryActionClick",(function(){var e=n.props.subtask.secondary_action_link;e&&n._handleCtaClick(e)})),n.state={downloadLinkClicked:!1},n}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.history,n=e.location,a=e.onBackClick,r=e.onNavigate,i=e.subtask,o=e.subtaskInputs,l=this.state.downloadLinkClicked,c=i.primary_text?m.createElement(S,s()({},i.primary_text,{nativeID:b.e,onNavigate:r,subtaskInputs:o})):null,u=!l||!i.primary_action_text_after_click,d=l&&i.primary_action_text_after_click||i.primary_action_link.label,p=i.primary_image_url?m.createElement(P.a,{accessibilityLabel:"",aspectMode:D.a.exact(1),image:i.primary_image_url||""}):null,h=i.secondary_text?m.createElement(S,s()({},i.secondary_text,{onNavigate:r,subtaskInputs:o})):null,f=m.createElement(T.a,null,p,h);return m.createElement(A.a,{hideLogo:!0,history:t,location:n,onBackClick:a},m.createElement(j.a,{actionLabel:d||"",actionType:Object(k.b)(i.primary_action_style),headline:c,onAction:u?this._handlePrimaryActionClick:O.a,onClose:O.a,onSecondaryAction:this._handleSecondaryActionClick,secondaryActionLabel:(i.secondary_action_link||{}).label,secondaryActionType:i.secondary_action_style&&Object(k.b)(i.secondary_action_style),subtext:f,withCloseButton:!1}),this.props.errorDialog)},t}(m.Component),F=n("ZS3b"),B="OCF_CallToAction_Button",L=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,_()(d()(t),"_handleCtaClick",(function(e){var n=t.props,a=n.onNavigate,r=n.subtaskId;(0,n.updateFlow)(r,{link:e.link_id}),a(e)})),_()(d()(t),"_handlePrimaryActionClick",(function(){t._handleCtaClick(t.props.subtask.primary_action_link)})),_()(d()(t),"_handleSecondaryActionClick",(function(){var e=t.props.subtask.secondary_action_link;e&&t._handleCtaClick(e)})),t}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.history,n=e.location,a=e.onBackClick,r=e.onNavigate,i=e.subtask,o=e.subtaskInputs,l=m.createElement(S,s()({},i.primary_text,{nativeID:b.e,onNavigate:r,subtaskInputs:o})),c=i.secondary_text?m.createElement(S,s()({},i.secondary_text,{onNavigate:r,subtaskInputs:o})):null,u=i.detail_text?m.createElement(S,s()({},i.detail_text,{onNavigate:r,subtaskInputs:o})):null;return m.createElement(A.a,{hideLogo:!0,history:t,location:n,onBackClick:a},m.createElement(j.a,{actionLabel:i.primary_action_link.label||"",actionType:Object(k.b)(i.primary_action_style),footer:u,headline:l,onAction:this._handlePrimaryActionClick,onClose:O.a,onSecondaryAction:this._handleSecondaryActionClick,primaryButtonTestID:B,secondaryActionLabel:(i.secondary_action_link||{}).label,secondaryActionType:i.secondary_action_link&&Object(k.b)(i.secondary_action_style),subtext:c,withCloseButton:!1}),this.props.errorDialog)},t}(m.Component),U=(n("jQ3i"),n("vrRf"),n("x4t0"),n("uFXj"),n("rHpw")),V=U.a.create((function(e){return{header:{marginBottom:e.spaces.xSmall},contentArea:{marginHorizontal:e.spaces.large},checkboxText:{flexShrink:1,paddingRight:e.spaces.xSmall,width:"100%"},headline:{marginVertical:e.spaces.small},option:{marginTop:e.spaces.xSmall,flexDirection:"row",justifyContent:"space-between"},primaryButton:{marginTop:e.spaces.small},subHeader:{marginBottom:e.spaces.small},formTextInput:{paddingHorizontal:0}}})),M=n("XiMS"),z=n("/yvb"),q=n("V2ml"),G=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,_()(d()(t),"state",{selectedChoices:[]}),_()(d()(t),"_renderRightControl",(function(){return m.createElement(T.a,{style:H.buttonContainer},t._renderCancelButton(),t._renderNextButton())})),_()(d()(t),"_handleCancelButtonClick",(function(){var e=t.props,n=e.subtask.skip_link,a=e.subtaskId,r=e.onNavigate,i=e.updateFlow;n&&(i(a,{link:n.link_id}),r(n))})),_()(d()(t),"_handleNextButtonClick",(function(){var e=t.props,n=e.subtask.next_link,a=e.subtaskId,r=e.onNavigate,i=e.updateFlow,o=t.state.selectedChoices;n&&(i(a,{link:n.link_id,selected_choices:o}),r(n))})),_()(d()(t),"_handleRadioChange",(function(e,n){t.setState({selectedChoices:[n]})})),_()(d()(t),"_onCheckboxChange",(function(e){return function(n){t._handleMultiSelection(e,n)}})),t}h()(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){e.subtaskId!==this.props.subtaskId&&this.setState({selectedChoices:[]})},n.render=function(){var e=this.props,t=e.subtask,n=e.history,a=e.location,r=e.subtaskInputs,i=e.onBackClick;return m.createElement(A.a,{history:n,location:a,onBackClick:i,rightControl:this._renderRightControl()},m.createElement(T.a,{style:V.contentArea},t.primary_text&&m.createElement(S,s()({size:"xLarge",style:V.headline,weight:"bold"},t.primary_text,{subtaskInputs:r})),t.secondary_text&&m.createElement(S,s()({color:"deepGray"},t.secondary_text,{subtaskInputs:r})),m.createElement(T.a,null,this._renderChoices())))},n._renderCheckboxQuestion=function(e){var t=this.props.subtaskInputs,n=this.state.selectedChoices.indexOf(e.id)>-1;return m.createElement(T.a,{accessibilityRole:"label",key:e.id,style:[V.option,V.checkboxRow,H.cursor]},m.createElement(S,s()({},e.text,{style:V.checkboxText,subtaskInputs:t})),m.createElement(M.a,{checked:n,onChange:this._onCheckboxChange(e.id)}))},n._renderCancelButton=function(){var e=this.props.subtask;return e.skip_link?m.createElement(z.a,{onPress:this._handleCancelButtonClick,size:"normalCompact",style:H.skipButton,type:"text"},e.skip_link.label):null},n._renderNextButton=function(){var e=this.props.subtask,t=this._verifyBothTypesValidity();return e.next_link?m.createElement(z.a,{disabled:!t,onPress:this._handleNextButtonClick,size:"normalCompact",type:"primary"},e.next_link.label):null},n._renderChoices=function(){var e=this,t=this.props.subtask,n=t.selection_type,a=t.choices;if(a){if("multi_select"===n)return m.createElement(m.Fragment,null,a.map((function(t){return e._renderCheckboxQuestion(t)})));if("single_select"===n){var r=a.map((function(e){return{label:e.text.text,value:e.id}}));return m.createElement(q.a,{name:"single-choice",onChange:this._handleRadioChange,options:r,value:this.state.selectedChoices[0]})}}},n._verifyBothTypesValidity=function(){var e=this.props.subtask,t=e.selection_type,n=this.state.selectedChoices;if(e&&t){if("multi_select"===t)return this._verifyMultiChoiceValidity(n);if("single_select"===t)return 1===n.length}},n._verifyMultiChoiceValidity=function(e){var t=this.props.subtask.next_link_options;if(t){var n=t.min_enable_count,a=t.max_enable_count,r=e.length;return!(n&&r<n)&&!(a&&r>a)}return!1},n._handleMultiSelection=function(e,t){var n,a=this.state.selectedChoices;n=a&&a.includes(e)?a.filter((function(t){return t!==e})):a.concat([e]),this.setState({selectedChoices:n})},t}(m.Component),H=U.a.create((function(e){return{buttonContainer:{flexDirection:"row"},skipButton:{marginRight:e.spaces.xSmall},checkboxRow:{justifyContent:"space-between"},cursor:{cursor:"pointer"}}})),W=(n("WNMA"),n("zh9S")),Y=n("9D1O"),K=n("1YZw"),X=n("oEGd"),Z=n("0KEI"),Q=n("hqKg"),J=n("If64"),$=n("G6rE"),ee=n("RqPI"),te=function(e){return function(t,n){var a=n.location.query[e];return Array.isArray(a)?a[0]:a}},ne=te("country_code"),ae=Object(Q.createSelector)((a="input",r={},function(e,t){return t.location.state&&t.location.state[a]||r}),te("input_flow_data"),k.h),re=te("return_path"),ie=te("is_native"),oe=te("test_country_code"),se=te("target_user_id"),le=Object(Q.createSelector)(Y.h,ne,(function(e,t){var n=te("overrides")(e,t);return Object(k.c)(n)}),(function(e,t){return t.flowName||t.location.pathname.slice(t.match.path.length)}),ae,re,ie,oe,se,Y.r,Y.k,Y.j,Y.m,J.a,Y.q,Y.i,Y.n,Y.o,Y.p,(function(e,t,n,a,r,i,o,s,l,c,u,d,p,h,f,_,m,b,g){return{currentSubtask:e,countryCode:t,debugOverrides:n,isNative:o,testCountryCode:s,flowName:a,inputFlowData:r,returnPath:i,subtasks:c,flowToken:u,fetchStatus:d,previousNavigableSubtaskId:p,subtaskInputs:f,failureMessage:_,shouldAbort:m,shouldEndFlow:b,startLocation:h,submitFailed:g,targetUserId:l}})),ce={addToast:K.b,clearFlow:Y.b,createLocalApiErrorHandler:Object(Z.d)("OCF_FLOW"),removeContacts:Y.g,fetchTemporaryPassword:Y.c,fetchUsers:$.e.fetchMany,logNymizerSignup:function(e){return void 0===e&&(e={}),function(t,n,a){return a.api.Nymizer.logSignup(e)}},navigateSubtask:Y.f,startFlow:Y.t,submitFlow:Y.u,updateFlow:Y.w,googleAnalyticsPageView:W.a,googleAnalyticsSendEvent:W.b,scribeAction:W.c,scribePageImpression:W.d,verifyCredentials:ee.m},ue=Object(X.g)(le,ce),de=n("7JQg"),pe=(n("ho0z"),{createLocalApiErrorHandler:Object(Z.d)("CONTACTS_SYNC"),uploadAddressBook:function(e){return function(t,n,a){return a.api.Contacts.uploadAddressBook(e)}}}),he=Object(X.b)(pe),fe=n("SrIh"),_e=n("Irs7"),me=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,_()(d()(t),"_handleCtaClick",(function(e){var n=t.props,a=n.onNavigate,r=n.subtaskId;(0,n.updateFlow)(r,{link:e.link_id}),a(e)})),_()(d()(t),"_handlePrimaryActionClick",(function(){try{window.navigator.contacts.select(["name","email","tel"],{multiple:!0}).then(t._handleContactResults)}catch(e){Object(fe.a)(e),t._handleSecondaryActionClick()}})),_()(d()(t),"_handleContactResults",(function(e){var n=t.props,a=n.analytics,r=n.createLocalApiErrorHandler,i=n.uploadAddressBook,o=e.map((function(e){var t=e.name,n=e.email,a=e.tel;return{name:t[0]||"",email_addresses:n,phone_numbers:a}}));if(0===o.length)return a.scribeAction("cancel");a.scribe({action:"success",data:{event_value:o.length}}),i({contacts:o}).catch(r()),t._handleCtaClick(t.props.subtask.next_link)})),_()(d()(t),"_handleSecondaryActionClick",(function(){var e=t.props.subtask.skip_link;e&&t._handleCtaClick(e)})),t}h()(t,e);var n=t.prototype;return n.componentDidMount=function(){"contacts"in navigator&&"ContactsManager"in window||this._handleSecondaryActionClick()},n.render=function(){var e=this.props,t=e.history,n=e.location,a=e.onBackClick,r=e.onNavigate,i=e.subtask,o=e.subtaskInputs,l=i.detail_text?m.createElement(S,s()({},i.detail_text,{onNavigate:r,subtaskInputs:o})):null;return m.createElement(A.a,{hideLogo:!0,history:t,location:n,onBackClick:a},m.createElement(j.a,{actionLabel:i.next_link.label||"",footer:l,headline:i.primary_text||"",onAction:this._handlePrimaryActionClick,onClose:O.a,onTertiaryAction:this._handleSecondaryActionClick,subtext:"",tertiaryActionLabel:(i.skip_link||{}).label,withCloseButton:!1}))},t}(m.Component),be=Object(_e.a)(he(me),{element:"contacts_sync"}),ge=n("6/RC"),ve=Object(Q.createSelector)((function(e,t){return Array.isArray(t.location.query.error)?t.location.query.error[0]:t.location.query.error}),(function(e,t){return!!t.location.query.state}),(function(e,t){return{importError:e,startImport:t}})),ye={createLocalApiErrorHandler:Object(Z.d)("EMAIL_CONTACTS_SYNC"),importStatus:Y.d,scribeAction:W.c,syncContacts:Y.v},ke=Object(X.g)(ve,ye),we=(n("1IsZ"),Object(E.shape)({action:E.string.isRequired,text:E.string})),Ce=Object(E.shape)({subtask_data_reference:Object(E.shape)({subtask_id:E.string.isRequired,key:E.string.isRequired})}),Ee=Object(E.shape)({media_data_reference:Ce.isRequired,style:Object(E.oneOf)(Object.values(w.h)).isRequired}),Ie=Object(E.shape)({link_type:Object(E.oneOf)(Object.values(w.i)).isRequired,link_id:E.string.isRequired,label:E.string,label_icon:E.string,continue_message:E.string,url:E.string,subtask_navigation_context:we,is_destructive:E.bool,suppress_client_events:E.bool,subtask_id:E.string}),Se=Object(E.shape)({from_index:E.number.isRequired,to_index:E.number.isRequired,navigation_link:Ie,subtask_data_reference:Ce}),xe=Object(E.shape)({text:E.string.isRequired,entities:Object(E.arrayOf)(Se).isRequired}),Oe=Object(E.shape)({threshold:E.number,text:xe}),Ae=Object(E.shape)({label_conditional_text:Object(E.arrayOf)(Oe),min_enable_count:E.number,max_enable_count:E.number}),Re=Object(E.shape)({id:E.string.isRequired,name:E.string.isRequired}),Te=Object(E.shape)({user_id:E.number.isRequired,user:E.object.isRequired,social_text:E.string,tracking_token:E.string,checked_by_default:E.bool.isRequired}),Pe=Object(E.shape)({header:E.string,show_more:E.object,items:Object(E.arrayOf)(Object(E.oneOfType)([Re,Te])).isRequired}),De=Object(E.shape)({initial_value:E.bool.isRequired}),je=Object(E.shape)({threshold:E.number.isRequired,text:xe}),Ne=Object(E.shape)({primary_text:xe.isRequired,secondary_text:xe,value_data:Object(E.shape)({boolean_data:De,settings_group_data:Object(E.shape)({settings:Object(E.arrayOf)(Object(E.shape)({primary_text:xe.isRequired,secondary_text:xe,value_data:Object(E.shape)({boolean_data:De}),value_identifier:E.string,value_type:Object(E.oneOf)(Object.values(w.l))})).isRequired,status_text_quantity_pairs:Object(E.arrayOf)(je)})}),value_identifier:E.string,value_type:Object(E.oneOf)(Object.values(w.l))}),Fe=Object(E.shape)({id:E.string.isRequired,text:xe.isRequired}),Be={subtask_id:E.string.isRequired},Le=Object(E.shape)({day:E.number.isRequired,month:E.number.isRequired,year:E.number.isRequired}),Ue=Object(E.shape)({primary_text:xe,secondary_text:xe,next_link:Ie.isRequired,cancel_link:Ie,dismiss_link:Ie}),Ve=Object(E.shape)({primary_text:xe.isRequired,secondary_text:xe,next_link:Ie.isRequired,cancel_link:Ie,dismiss_link:Ie}),Me=Object(E.shape)({title:E.string.isRequired,next_link:Ie.isRequired}),ze=Object(E.shape)({primary_text:xe,secondary_text:xe,detail_text:xe,primary_action_link:Ie.isRequired,primary_action_style:Object(E.oneOf)(Object.values(w.b)),secondary_action_link:Ie,secondary_action_style:Object(E.oneOf)(Object.values(w.b)),settings:Object(E.arrayOf)(E.object),button_location:Object(E.oneOf)(Object.values(w.a)),text_alignment:Object(E.oneOf)(Object.values(w.q))}),qe=(Object(E.shape)({choices:Object(E.arrayOf)(Fe).isRequired,selection_type:E.string.isRequired,primary_text:xe,secondary_text:xe,next_link:Ie,skip_link:Ie,next_link_options:Ae}),Object(E.shape)({primary_text:xe.isRequired,secondary_text:xe,detail_text:xe,accept_text:E.string.isRequired,authorization_url:E.string.isRequired,decline_link:Ie,next_link:Ie.isRequired,skip_link:Ie.isRequired})),Ge=Object(E.shape)({primary_text:xe.isRequired,secondary_text:xe,hint:E.string,name:E.string,username:E.string,email:E.string,next_link:Ie.isRequired,phone:E.string}),He=Object(E.shape)({primary_text:xe,secondary_text:xe,hint_text:E.string,default_text:E.string,max_length:E.number,next_link:Ie.isRequired,skip_link:Ie}),We=Object(E.shape)({status:Object(E.oneOf)(Object.values(w.d)).isRequired,end_flow_type:Object(E.oneOf)(Object.values(w.i)).isRequired}),Ye=Object(E.shape)({should_generate:E.bool.isRequired,next_link:Ie.isRequired}),Ke=Object(E.shape)({primary_text:xe,secondary_text:xe,hint:E.string.isRequired,custom_interests_header:E.string.isRequired,groups:Object(E.arrayOf)(Pe).isRequired,selected_items:Object(E.arrayOf)(E.string).isRequired,next_link:Ie.isRequired,skip_link:Ie}),Xe=Object(E.shape)({primary_text:xe,primary_action_links:Object(E.arrayOf)(Ie).isRequired,cancel_link:Ie,dismiss_link:Ie}),Ze=Object(E.shape)({primary_text:xe,secondary_text:xe,detail_text:xe,granted_link:Ie.isRequired,denied_link:Ie.isRequired,previously_granted_link:Ie,previously_denied_link:Ie,previously_denied_reprompt_behavior:Object(E.oneOf)(["always","never","preprompt"])}),Qe=Object(E.shape)({user:E.object.isRequired,auth_token:E.string,oauth_token:E.string,oauth_token_secret:E.string,known_device_token:E.string,next_link:Ie.isRequired}),Je=Object(E.shape)({primary_text:xe,secondary_text:xe,cta_link:Ie,next_link:Ie.isRequired}),$e=Object(E.shape)({link:Ie.isRequired,onboarding_callback_path:E.string}),et=Object(E.shape)({primary_text:xe.isRequired,secondary_text:xe.isRequired,detail_text:xe.isRequired,hint_text:E.string.isRequired,phone_number:Ce.isRequired,next_link:Ie.isRequired,fail_link:Ie.isRequired,cancel_link:Ie.isRequired}),tt=Object(E.shape)({primary_text:xe,secondary_text:xe,detail_text:xe,hint_text:E.string.isRequired,email:Ce.isRequired,name:Ce.isRequired,next_link:Ie.isRequired,fail_link:Ie.isRequired,cancel_link:Ie.isRequired}),nt=Object(E.shape)({primary_text:E.string.isRequired,secondary_text:E.string,discoverable_by_email:E.bool,discoverable_by_email_label:E.string.isRequired,discoverable_by_email_detail_text:xe,discoverable_by_phone:E.bool,discoverable_by_phone_label:E.string.isRequired,discoverable_by_phone_detail_text:xe,next_link:Ie.isRequired}),at=Object(E.shape)({settings:Object(E.arrayOf)(Ne).isRequired,primary_text:xe,secondary_text:xe,detail_text:xe,next_link:Ie.isRequired,cancel_link:Ie,scroll_hint:E.string,style:Object(E.oneOf)(["prompt","step"])}),rt=Object(E.shape)({primary_text:E.string,secondary_text:E.string,name_hint:E.string.isRequired,phone_hint:E.string.isRequired,email_hint:E.string.isRequired,phone_email_hint:E.string.isRequired,birthday_hint:E.string.isRequired,birthday_explanation:E.string,use_phone_text:E.string.isRequired,use_email_text:E.string.isRequired,next_link:Ie.isRequired,email_next_link:Ie,js_instrumentation:E.object,ignore_birthday:E.bool,show_password_field:E.bool,password_hint:E.string}),it=Object(E.shape)({primary_text:E.string,secondary_text:E.string,name:Ce,phone_number:Ce,email:Ce,birthday:Ce,birthday_requirement:Le,sign_in_text:xe,detail_text:xe,phone_next_link:Ie.isRequired,email_next_link:Ie.isRequired,name_edit_link:Ie.isRequired,phone_edit_link:Ie.isRequired,email_edit_link:Ie.isRequired,birthday_edit_link:Ie.isRequired,invalid_birthday_link:Ie.isRequired,ignore_birthday:E.bool}),ot=Object(E.shape)({primary_text:xe,secondary_text:xe,next_link:Ie.isRequired,skip_link:Ie}),st=Object(E.shape)({primary_text:xe,secondary_text:xe,next_link:Ie.isRequired,skip_link:Ie,avatar_image_reference:Ce}),lt=Object(E.shape)({sources:Object(E.arrayOf)(Ee).isRequired,next_link:Ie.isRequired}),ct=Object(E.shape)({primary_text:xe,secondary_text:xe,hint:E.string,groups:Object(E.arrayOf)(Pe).isRequired,next_link:Ie,next_link_label_enabled_text:xe,next_link_label_disabled_text:xe,skip_link:Ie,follow_button_type:Object(E.oneOf)(Object.values(w.e)).isRequired,min_follow_count:E.number}),ut=(Object(E.shape)(Object.assign({},Be,{alert_dialog:Ue,alert_dialog_suppress_client_events:Ve,cta:ze,contacts_user_list:Me,email_contacts_sync:qe,end_flow:We,enter_password:Ge,enter_text:He,email_verification:tt,fetch_temporary_password:Ye,interest_picker:Ke,menu_dialog:Xe,notifications_permission_prompt:Ze,open_account:Qe,open_home_timeline:Je,open_link:$e,phone_verification:et,privacy_options:nt,select_avatar:ot,select_banner:st,settings_list:at,sign_up:rt,sign_up_review:it,upload_media:lt,user_recommendations_list:ct})),n("kGix")),dt=n("v//M"),pt=n("3XMw"),ht=n.n(pt),ft=n("GQKA"),_t=n.n(ft),mt=n("8jkQ"),bt=ht.a.cea71013,gt=function(){return null},vt=function(e){function t(t){var n;return n=e.call(this,t)||this,_()(d()(n),"_startContactImports",(function(e){n._scribeOAuthAction("accepted");var t=n.props,a=t.createLocalApiErrorHandler;(0,t.syncContacts)(e).then((function(e){return n._pollImportStatus()})).catch((function(e){a()(e),n.setState({importFinished:!0})}))})),_()(d()(n),"_handlePrimaryActionClick",(function(){var e=n.props.subtask,t=e.authorization_url;if(e.open_in_new_tab&&ge.canUseDOM){var a="width=500,height=500,top=0,left="+(window.innerWidth-500)+",toolbar=no,location=yes";window.open(t,"twitter_oauth",a).focus()}else mt.b.navigateTo(t)})),_()(d()(n),"_handleTertiaryActionClick",(function(){var e=n.props,t=e.onNavigate,a=e.subtask,r=e.subtaskId,i=e.updateFlow,o=a.skip_link;i(r,{link:o.link_id}),t(o)})),_()(d()(n),"_scribeOAuthAction",(function(e){(0,n.props.scribeAction)({page:"onboarding",section:"email_contacts_sync",component:"oauth_prompt",element:"permission",action:e})})),_()(d()(n),"_handleEvent",(function(e){if(e.origin==="https://"+window.location.hostname){var t=Object.assign({callback_url:"https://"+window.location.hostname+window.location.pathname},e.data);!t.error&&t.state&&n._startContactImports(t)}})),_()(d()(n),"_pollImportStatus",(function(e){if(void 0===e&&(e=1),e>10)n.setState({importFinished:!0});else{var t=n.props,a=t.createLocalApiErrorHandler,r=t.importStatus;n._timer=setTimeout((function(){r().then((function(t){switch(t.status){case w.c.Success:n.setState({importFinished:!0});break;case w.c.NotFound:n._pollImportStatus(e+1);break;default:n.setState({importFinished:!0})}})).catch((function(e){a()(e),n.setState({importFinished:!0})}))}),1e3)}})),n.state={importFinished:void 0},n._navigating=!1,window.addEventListener("message",n._handleEvent,!1),n}h()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.history,n=e.importError,a=e.location,r=e.onNavigate,i=e.startImport,o=e.subtask,s=e.subtaskId,l=e.updateFlow;this._showLoadingSpinner=i;var c=o.decline_link;if("access_denied"===n)this._scribeOAuthAction("declined"),c&&(l(s,{link:c.link_id}),r(c));else if(i){var u=Object.assign({callback_url:"https://"+window.location.hostname+a.pathname},a.query);t.replace(a.pathname),this._startContactImports(u)}},n.componentWillUnmount=function(){this._timer&&clearTimeout(this._timer),window.removeEventListener("message",this._handleEvent,!1)},n.componentDidUpdate=function(){var e=this.props,t=e.onNavigate,n=e.subtask,a=e.subtaskId,r=e.updateFlow,i=this.state.importFinished,o=n.next_link;!this._navigating&&i&&(this._navigating=!0,r(a,{link:o.link_id}),t(o))},n.render=function(){var e=this.props,t=e.errorDialog,n=e.history,a=e.location,r=e.onBackClick,i=e.onNavigate,o=e.subtask,l=e.subtaskInputs,c=o.accept_text,u=o.detail_text,d=o.primary_text,p=o.skip_link,h=o.secondary_text,f=m.createElement(S,s()({},d,{nativeID:b.e,onNavigate:i,subtaskInputs:l})),_=h?m.createElement(S,s()({},h,{onNavigate:i,subtaskInputs:l})):null,g=u?m.createElement(S,s()({},u,{onNavigate:i,subtaskInputs:l})):null;return this._showLoadingSpinner?m.createElement(dt.a,{fetchStatus:ut.a.LOADING,loadingMessage:bt,onRequestRetry:O.a,render:gt,retryable:!1}):m.createElement(A.a,{hideLogo:!0,history:n,location:a,onBackClick:r},m.createElement(j.a,{actionLabel:c,footer:g,graphic:_t.a,graphicStyle:yt.twitterIcon,headline:f,onAction:this._handlePrimaryActionClick,onClose:O.a,onTertiaryAction:this._handleTertiaryActionClick,subtext:_,tertiaryActionLabel:p.label,withCloseButton:!1}),t)},t}(m.Component),yt=U.a.create((function(e){return{twitterIcon:{color:e.colors.brandColor}}})),kt=ke(vt),wt=Object(Q.createSelector)(Y.l,Y.s,(function(e,t){return{navigationContext:e,verificationSendFailureMessage:t}})),Ct={createLocalApiErrorHandler:Object(Z.d)("OCF_FLOW_EMAIL_VERIFICATION"),getVerificationStatus:Y.e,verifyIdentifier:Y.y},Et=Object(X.g)(wt,Ct),It=n("p+r5"),St=n("k49u"),xt=n("OIs+"),Ot=ht.a.e4ff75a9,At=ht.a.e4f6bd9e,Rt=((i={})[xt.a.Offline]=Ot,i),Tt=function(e,t,n){var a,r,i=((a={})[St.a.AccessDeniedByBouncer]={customAction:function(t){Object(Z.c)(t,{flow:e})}},a);if(n)r=Object.assign({},i,{customErrorHandler:function(a){var r=a.errors[0];return r.code===St.a.AccessDeniedByBouncer?Object(Z.c)(r,{flow:e}):n(t||r.code&&Rt[r.code]||At),[]}});else if(t){var o,s={toast:{text:t}};r=Object.assign(((o={})[St.a.ValidationFailure]=s,o[St.a.OnboardingFlowRetriableFailure]=s,o[St.a.OnboardingFlowFailure]=s,o.defaultToast={text:t},o.showToast=!0,o),i)}else{var l;r=Object.assign({},i,((l={})[xt.a.Offline]={toast:{text:Rt[xt.a.Offline]}},l.defaultToast={text:At},l.showToast=!0,l))}return r},Pt="email",Dt=function(e){function t(t){var n;n=e.call(this,t)||this,_()(d()(n),"_sendEmailVerificationRequest",(function(){var e=n.props,t=e.createLocalApiErrorHandler,a=e.subtask,r=e.verifyIdentifier,i=e.onNavigate,o=e.subtaskInputs,s=a.email.subtask_data_reference,l=a.name.subtask_data_reference,c=s?o[s.subtask_id][s.key]:void 0,u=l?o[l.subtask_id][l.key]:void 0;return r({email:c,display_name:u}).then((function(e){n.setState({email:c})})).catch((function(e){var r=n.props,o=r.flowName,s=r.verificationSendFailureMessage;t(Tt(o,s||At))(e),i(a.fail_link)}))})),_()(d()(n),"_handleCodeUpdated",(function(e){n.setState({pinCode:e.target.value})})),_()(d()(n),"_startStatusPolling",(function(){var e=n.props,t=e.createLocalApiErrorHandler,a=e.getVerificationStatus,r=e.subtask,i=e.subtaskInputs,o=r.email.subtask_data_reference,s=o?i[o.subtask_id][o.key]:void 0;n._timer=setTimeout((function(){a({email:s}).then((function(e){e.verified?(n.setState({pinCode:e.pin_code}),n._clearTimer(),n._handleDoneButtonClick()):(n._clearTimer(),n._startStatusPolling())})).catch((function(e){t()(e),n._clearTimer(),n._startStatusPolling()}))}),1e3)})),_()(d()(n),"_clearTimer",(function(){n._timer&&clearTimeout(n._timer)})),_()(d()(n),"_handleDoneButtonClick",(function(){var e=n.props,t=e.onNavigate,a=e.subtask,r=e.subtaskId,i=e.updateFlow,o=n.state,s=o.email;i(r,{code:o.pinCode,email:s,link:a.next_link.link_id}),t(a.next_link)}));var a=t.subtaskId,r=t.subtaskInputs,i=Object(k.d)(r,{key:Pt,subtask_id:a},"")||"";return n.state={email:i,pinCode:""},n}h()(t,e);var n=t.prototype;return n.componentDidMount=function(){return this.props.subtask.verification_status_polling_enabled&&this._startStatusPolling(),this._sendEmailVerificationRequest()},n.componentWillUnmount=function(){this._clearTimer()},n.render=function(){var e=this.props,t=e.history,n=e.location,a=e.onBackClick,r=e.onNavigate,i=e.subtask,o=e.subtaskInputs,l=e.progressIndication,c=m.createElement(z.a,{disabled:!this.state.pinCode,onPress:this._handleDoneButtonClick,size:"normalCompact",type:"primary"},i.next_link.label),u=m.createElement(S,s()({},i.detail_text,{color:"link",onNavigate:r,style:jt.detailLink,subtaskInputs:o}));return m.createElement(A.a,{history:t,location:n,onBackClick:a,progressIndication:l,rightControl:c},m.createElement(T.a,null,m.createElement(T.a,{style:V.contentArea},i.primary_text&&m.createElement(S,s()({},i.primary_text,{nativeID:b.e,onNavigate:r,size:"xLarge",style:V.headline,subtaskInputs:o,weight:"bold"})),i.secondary_text&&m.createElement(S,s()({},i.secondary_text,{color:"deepGray",onNavigate:r,subtaskInputs:o})),m.createElement(It.a,{autoFocus:!0,helperText:i.detail_text&&u,label:i.hint_text,name:"verfication_code",onChange:this._handleCodeUpdated,style:V.formTextInput,value:this.state.pinCode}))),this.props.errorDialog)},t}(m.Component),jt=U.a.create((function(e){return{detailLink:{marginTop:e.spaces.small}}})),Nt=Et(Dt),Ft=n("LdEA"),Bt=n.n(Ft),Lt=(n("iKE+"),n("DZ+c"),n("RgK2")),Ut=n.n(Lt),Vt=n("3zvM"),Mt=n("lMB6"),zt=n("FgXs"),qt=function(e){return{valid:!0}};function Gt(e){void 0===e&&(e={});var t=e,n=t.localValidator,a=void 0===n?qt:n,r=Bt()(t,["localValidator"]),i=Object(Vt.e)(Object.assign({customActions:{clear:{reducer:function(e,t){return{}}}}},r));i.clear=function(){return function(e){return e({type:i.customActionTypes.clear.SUCCESS})}},i.validate=function(e,t){return function(n){var r,o=a(e,t);return o.valid?n(i.fetchOneIfNeeded(e,t)):(n(i.add(((r={})[e]=o,r))),Promise.resolve())}};return i.selectEntitiesWithFetchStatus=Object(Q.createSelector)(i.selectAll,(function(e){return i.selectState(e).fetchStatus||Ut.a}),(function(e,t){return Object(zt.a)(t,(function(t,n){var a=e[n]||{};return Object.assign({},a,{valid:!!a.valid||t===ut.a.FAILED,isLoading:t===ut.a.LOADING})}))})),Mt.a.register(i)}var Ht=new RegExp("^[a-zA-Z0-9_\\-+\\.!\\&]+@(?:[a-zA-Z0-9\\-_]+\\.)+[a-zA-Z]{2,63}$"),Wt=ht.a.hc72e1fc,Yt=Gt({namespace:"emailValidity",fetchOneContext:"FETCH_EMAIL_VALIDITY",fetchOneEndpoint:function(e){return e.Validity.isEmailAvailable},fetchOneParams:function(e,t){var n=e[0];return Object.assign({email:n},t)},localValidator:function(e){var t=Ht.test(e);return{errorMessage:Wt,valid:t}}}),Kt=(n("tVqn"),n("rxPX")),Xt=function(e,t){return t.module.selectEntitiesWithFetchStatus(e)},Zt=Object(Kt.a)().propsFromState((function(){return{validity:Xt}})).propsFromActions((function(e){var t=e.module;return{clearValidity:t.clear,createLocalApiErrorHandler:Object(Z.d)("VALIDITY_FIELD_CONTEXT"),validate:t.validate}})),Qt=n("H9wA"),Jt={autoComplete:E.string,autoFocus:E.bool,defaultValue:E.string,editable:E.bool,label:E.string,name:E.string.isRequired,onChange:E.func,onRef:E.func.isRequired,onValidityChange:E.func.isRequired,placeholder:E.string,style:Qt.a.style,type:E.string},$t=(Object.assign({},Jt,{clearValidity:E.func.isRequired,createLocalApiErrorHandler:E.func.isRequired,module:E.object.isRequired,validate:E.func.isRequired,validity:E.object.isRequired}),n("VY6S")),en=n("mN6z"),tn=function(e){function t(t,n){var a;a=e.call(this,t,n)||this,_()(d()(a),"_setInputRef",(function(e){a._input=e})),_()(d()(a),"_handleValueChange",(function(e){var t=a.props,n=t.onChange,r=t.validationParams,i=e.target.value.trim();a._validateDebounced(Object.assign({value:i},r)),a.setState({value:i}),n&&n(e)})),_()(d()(a),"_getIsValid",(function(e,t){return!!(t&&e[t]&&e[t].valid)}));var r=t.defaultValue||"";return a.state={value:r,isValid:a._getIsValid(t.validity,r)},a._validateDebounced=Object($t.a)((function(e){var t=e.value,n=Bt()(e,["value"]);return a.props.validate(t,n).catch(a.props.createLocalApiErrorHandler())}),500),a}h()(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.props.clearValidity(),this._validateDebounced.clear(),this.props.onRef(null)},n.componentDidMount=function(){var e=this,t=this.props,n=t.defaultValue,a=t.validationParams;n&&this._validateDebounced(Object.assign({value:n},a)),this.props.onValidityChange(this.state.isValid),this.props.onRef({clear:function(){return e.clear()},focus:function(){return e.focus()},isValid:function(){return e.isValid()},getValue:function(){return e.getValue()}})},n.UNSAFE_componentWillUpdate=function(e,t){var n=this.props.validity,a=this.state.value;if(n!==e.validity||a!==t.value){var r=this._getIsValid(e.validity,t.value);this.state.isValid!==r&&this.setState({isValid:r})}},n.componentDidUpdate=function(e,t){var n=this.state.value,a=t.isValid!==this.state.isValid,r=!Object(en.a)(e.validationParams,this.props.validationParams);a?this.props.onValidityChange(this.state.isValid):n&&r&&(this.props.clearValidity(),this._validateDebounced(Object.assign({value:n},this.props.validationParams)))},n.render=function(){var e=this.props,t=e.autoComplete,n=e.autoFocus,a=e.editable,r=e.label,i=e.name,o=e.placeholder,s=e.style,l=e.type,c=e.validity,u=this.state.value,d=u&&c[u]?c[u].errorMessage:"";return m.createElement(It.a,{autoComplete:t,autoFocus:n,editable:a,errorText:d,invalid:!!d,label:r,name:i,onChange:this._handleValueChange,placeholder:o,ref:this._setInputRef,style:s,type:l,value:this.state.value})},n.clear=function(){this.setState({value:"",isValid:!1})},n.isValid=function(){return this.state.isValid},n.getValue=function(){return this.state.value},n.focus=function(){this._input&&this._input.focus()},t}(m.Component);_()(tn,"defaultProps",{label:""});var nn=Zt(tn),an=function(e){var t=e.onRef,n=Bt()(e,["onRef"]);return m.createElement(nn,s()({module:Yt,onRef:t,type:"email"},n))},rn=(n("jwue"),n("hBvt"),n("+oxZ"),ht.a.c52be451),on=ht.a.cfd2f35d,sn=ht.a.gea6cc19,ln=ht.a.i769e50a,cn=ht.a.ec129eb6,un=ht.a.f1b50489,dn=ht.a.deaf5b15,pn=function(e){function t(t){var n;return n=e.call(this,t)||this,_()(d()(n),"_handleRemoveContactsClick",(function(){n.setState({showRemoveContactsDialog:!0})})),_()(d()(n),"_handleRemoveContactsConfirm",(function(){n.setState({showRemoveContactsDialog:!1}),n._handleRemoveContacts()})),_()(d()(n),"_handleRemoveContacts",(function(){var e=n.props,t=e.addToast;(0,e.removeContacts)().then((function(e){n.setState({disableRemoveContactsButton:!0}),t({text:cn,withClearButton:!0})})).catch((function(e){t({actionLabel:dn,onAction:n._handleRemoveContacts,text:un,withAutoDismiss:!0})}))})),_()(d()(n),"_handleRemoveContactsCancel",(function(){n.setState({showRemoveContactsDialog:!1})})),n.state={showRemoveContactsDialog:!1,disableRemoveContactsButton:!1},n}h()(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.onNavigate,n=e.removeContactsSetting,a=e.subtaskInputs,r=this.state.disableRemoveContactsButton;return m.createElement(T.a,null,m.createElement(S,s()({},n.primary_text,{onNavigate:t,style:hn.header,subtaskInputs:a})),m.createElement(S,s()({},n.secondary_text,{color:"deepGray",onNavigate:t,size:"small",style:hn.subtext,subtaskInputs:a})),m.createElement(T.a,null,m.createElement(z.a,{disabled:r,onPress:this._handleRemoveContactsClick,type:"destructiveText"},n.value_data.action_data.link.label),this._maybeRenderRemoveContactsDialog()))},n._maybeRenderRemoveContactsDialog=function(){return this.state.showRemoveContactsDialog?m.createElement(g.a,{cancelButtonLabel:on,confirmButtonLabel:rn,headline:sn,onCancel:this._handleRemoveContactsCancel,onConfirm:this._handleRemoveContactsConfirm,onMaskClick:this._handleRemoveContactsCancel,text:ln}):null},t}(m.Component),hn=U.a.create((function(e){return{header:{marginTop:e.spaces.xSmall,marginBottom:e.spaces.xSmall},subtext:{marginBottom:e.spaces.medium}}})),fn=pn,_n=function(e){function t(t){var n;n=e.call(this,t)||this,_()(d()(n),"_handleActionClick",(function(){var e=n.props,t=e.onNavigate,a=e.settingValue.value_data;a.action_data&&a.action_data.link&&t(a.action_data.link)})),_()(d()(n),"_getSettingValueFromSubtaskInputs",(function(e){var t,a=n.props,r=a.subtaskId,i=a.subtaskInputs,o=e.value_identifier,s=e.value_type,l=Object(k.d)(i,{key:w.k,subtask_id:r},[]).find((function(e){return e.key===o}));return l&&Object(k.g)(s)&&(t=l.response_data.boolean_data.result),t})),_()(d()(n),"_handleSettingGroupClick",(function(){var e=n.props,t=e.onSettingGroupClick,a=e.settingValue;t&&t(a)})),_()(d()(n),"_handleSettingToggle",(function(){var e,t=n.props,a=t.onSettingToggle,r=t.settingValue,i=r.value_identifier;n.setState(Object.assign({},n.state,((e={})[i]=!n.state[i],e))),a&&a(r)})),_()(d()(n),"_addToast",(function(e){n.props.addToast&&n.props.addToast(e)}));var a=t.settingValue,r=a.value_data,i=a.value_identifier,o=a.value_type;if(Object(k.g)(o)){var s,l=n._getSettingValueFromSubtaskInputs(a);void 0===l&&(l=r.boolean_data.initial_value),n.state=((s={})[i]=l,s)}return n}h()(t,e);var n=t.prototype;return n.render=function(){switch(this.props.settingValue.value_type){case w.l.Action:return this._renderAction();case w.l.Boolean:case w.l.PreciseLocation:return this._renderSettingOption();case w.l.SettingsGroup:return this._renderSettingsGroup();case w.l.StaticText:return this._renderHeader();case w.l.DestructiveAction:return this._renderDestructiveAction();default:return null}},n._renderHeader=function(){var e=this.props,t=e.onNavigate,n=e.settingValue,a=e.subtaskInputs,r=n.primary_text;return m.createElement(T.a,{style:mn.header},m.createElement(S,s()({},r,{onNavigate:t,size:"large",subtaskInputs:a,weight:"bold"})))},n._renderDestructiveAction=function(){var e=this.props,t=e.onNavigate,n=e.removeContacts,a=e.settingValue,r=e.subtaskInputs;return m.createElement(T.a,{style:{marginBottom:U.a.theme.spaces.small}},m.createElement(fn,{addToast:this._addToast,onNavigate:t,removeContacts:n,removeContactsSetting:a,subtaskInputs:r}))},n._renderAction=function(){var e=this.props,t=e.onNavigate,n=e.settingValue,a=e.subtaskInputs;return m.createElement(T.a,null,m.createElement(S,s()({},n.primary_text,{onNavigate:t,style:mn.header,subtaskInputs:a})),m.createElement(S,s()({},n.secondary_text,{color:"deepGray",onNavigate:t,size:"small",style:mn.subtext,subtaskInputs:a})),m.createElement(T.a,null,m.createElement(z.a,{onPress:this._handleActionClick,type:"text"},n.value_data.action_data.link.label)))},n._renderSettingOption=function(){var e=this.props,t=e.onNavigate,n=e.settingValue,a=e.showDividers,r=e.subtaskInputs,i=n.primary_text,o=n.secondary_text,l=n.value_identifier;return m.createElement(T.a,{accessibilityRole:"label",accessible:!0,style:[V.option,a&&mn.optionDivider]},m.createElement(T.a,{style:V.checkboxText},m.createElement(S,s()({},i,{onNavigate:t,subtaskInputs:r})),o&&m.createElement(S,s()({},o,{color:"deepGray",onNavigate:t,size:"small",style:mn.secondaryText,subtaskInputs:r}))),m.createElement(M.a,{checked:this.state[l],name:l,onChange:this._handleSettingToggle}))},n._renderSettingsGroup=function(){var e=this.props,t=e.onNavigate,n=e.settingValue,a=e.subtaskInputs,r=n.primary_text,i=n.secondary_text,o=n.value_data.settings_group_data,l=o.settings,c=o.status_text_quantity_pairs;return m.createElement(T.a,{accessibilityRole:"button",onClick:this._handleSettingGroupClick,style:mn.settingGroup},m.createElement(S,s()({},r,{onNavigate:t,subtaskInputs:a})),this._renderQuantityStatus(l,c),i&&m.createElement(S,s()({},i,{color:"deepGray",onNavigate:t,size:"small",subtaskInputs:a})))},n._renderQuantityStatus=function(e,t){var n,a=this,r=this.props,i=r.onNavigate,o=r.subtaskInputs,l=e.reduce((function(e,t){return e+(a._getSettingValueFromSubtaskInputs(t)?1:0)}),0);return t.forEach((function(e){l>=e.threshold&&(n=m.createElement(S,s()({},e.text,{color:"deepGray",onNavigate:i,size:"small",style:mn.quantityStatusText,subtaskInputs:o})))})),n},t}(m.Component),mn=U.a.create((function(e){return{header:{marginTop:e.spaces.large},secondaryText:{marginTop:e.spaces.xSmall},quantityStatusText:{marginTop:e.spaces.micro,marginBottom:e.spaces.xSmall},optionDivider:{paddingBottom:e.spaces.xSmall,borderBottomColor:e.colors.borderColor,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small},settingGroup:{marginTop:e.spaces.xSmall}}})),bn=function(e){function t(t){var n;n=e.call(this,t)||this,_()(d()(n),"_renderEmailTextField",(function(){return m.createElement(an,{autoComplete:"email",defaultValue:n.state.email,label:n.props.subtask.hint_text,name:"email",onRef:n._handleSetInputRef,onValidityChange:n._handleUpdateValidity,style:gn.emailTextField})})),_()(d()(n),"_renderDiscoverabilitySetting",(function(){var e=n.props,t=e.onNavigate,a=e.subtask,r=e.subtaskId,i=e.subtaskInputs,o=e.updateFlow;return a.discoverability_setting?m.createElement(_n,{onNavigate:t,onSettingToggle:n._handleDiscoverabilitySettingToggle,removeContacts:O.a,settingValue:a.discoverability_setting,subtaskId:r,subtaskInputs:i,updateFlow:o}):null})),_()(d()(n),"_handleDiscoverabilitySettingToggle",(function(e){var t=n.state.discoverabilityValue;n.setState({discoverabilityValue:!t})})),_()(d()(n),"_handleDoneButtonClick",(function(){var e=n.props.subtask,t={discoverability_value:n.state.discoverabilityValue,email:n._getIdentifierValue(),link:e.next_link.link_id};n._handleButtonClick(e.next_link,t)})),_()(d()(n),"_handleSkipButtonClick",(function(){var e=n.props.subtask;e.skip_link&&n._handleButtonClick(e.skip_link,{link:e.skip_link.link_id})})),_()(d()(n),"_handleButtonClick",(function(e,t){var a=n.props,r=a.onNavigate,i=a.subtaskId;(0,a.updateFlow)(i,t),r(e)})),_()(d()(n),"_handleSetInputRef",(function(e){n._input=e})),_()(d()(n),"_handleUpdateValidity",(function(){var e=n._input&&n._input.isValid();n.setState({isValid:!!e})})),_()(d()(n),"_getIdentifierValue",(function(){return n._input&&n._input.getValue()||void 0}));var a=t.subtask,r=t.subtaskId,i=t.subtaskInputs,o=a.discoverability_setting&&a.discoverability_setting.value_data&&a.discoverability_setting.value_data.boolean_data&&a.discoverability_setting.value_data.boolean_data.initial_value,s=Object(k.d)(i,{key:"discoverability_value",subtask_id:r},void 0)||o,l=Object(k.d)(i,{key:"email",subtask_id:r},"")||void 0;return n.state={discoverabilityValue:s,email:l,isValid:!!l},n}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.history,n=e.location,a=e.onBackClick,r=e.onNavigate,i=e.progressIndication,o=e.subtask,l=e.subtaskInputs,c=o.primary_text,u=o.secondary_text,d=o.next_link,p=o.skip_link,h=this.state.isValid||!p?m.createElement(z.a,{disabled:!this.state.isValid,onPress:this._handleDoneButtonClick,size:"normalCompact",type:"primary"},d.label):m.createElement(z.a,{onPress:this._handleSkipButtonClick,size:"normalCompact",type:"text"},p.label);return m.createElement(A.a,{history:t,location:n,onBackClick:a,progressIndication:i,rightControl:h},m.createElement(T.a,null,m.createElement(T.a,{style:V.contentArea},c&&m.createElement(S,s()({},c,{nativeID:b.e,onNavigate:r,size:"xLarge",style:V.headline,subtaskInputs:l,weight:"bold"})),u&&m.createElement(S,s()({},u,{color:"deepGray",onNavigate:r,subtaskInputs:l})),m.createElement(T.a,{style:gn.textFieldArea},this._renderEmailTextField()),this._renderDiscoverabilitySetting())),this.props.errorDialog)},t}(m.Component),gn=U.a.create((function(e){return{textFieldArea:{marginTop:e.spaces.medium},emailTextField:{paddingHorizontal:0,paddingVertical:e.spaces.small}}})),vn={scribeAction:W.c},yn=Object(X.b)(vn),kn=n("/Dbh"),wn=ht.a.d5568440,Cn=Gt({namespace:"passwordValidity",fetchOneContext:"FETCH_PASSWORD_VALIDITY",fetchOneEndpoint:function(e){return e.Validity.fetchPasswordStrength},fetchOneParams:function(e,t){var n=e[0];return Object.assign({password:n},t)},localValidator:function(e,t){var n=!(!t||!t.username)&&e===t.username,a=e.length>=kn.b,r=e.length<=kn.a,i=wn;return a?r||(i=Z.a):i=Z.b,{errorMessage:!n&&a&&r?void 0:i,valid:a&&r&&!n}}}),En=Object(Q.createSelector)(Cn.selectEntitiesWithFetchStatus,(function(e){return{validity:e}})),In={clearPasswordValidity:Cn.clear,createLocalApiErrorHandler:Object(Z.d)("PASSWORD_FIELD_CONTEXT"),scribeAction:W.c,validate:Cn.validate},Sn=Object(X.g)(En,In),xn={page:"onboarding",component:"password_entry"},On=ht.a.fa69a1ca,An=ht.a.aacf5085,Rn=function(e){function t(t){var n;n=e.call(this,t)||this,_()(d()(n),"_onValidationUpdated",(function(e){return function(){var t=n.props,a=t.validity,r=t.scribeAction,i=t.onPasswordValidated,o=(e&&a[e]?a[e]:{}).valid,s=void 0!==o&&o;n.setState({valid:s}),r(Object.assign({},xn,{element:"entered_password",action:s?"valid":"invalid"})),i(s)}})),_()(d()(n),"_renderFormTextInput",(function(){var e=n.props,t=e.autoComplete,a=e.label,r=e.validity,i=n.state,o=i.valid,s=i.revealed,l=i.password,c=(r[l]||{}).errorMessage,u=void 0===c?"":c,d=m.createElement(C.c,{accessibilityRole:"button",color:"link",onPress:n._handleVisibilityToggle,style:Tn.toggleLink},s?An:On);return m.createElement(It.a,{autoComplete:t,errorText:u,helperText:d,invalid:!o,label:a,name:"password",onChange:n._handlePasswordUpdated,style:V.formTextInput,type:s?"text":"password",value:l})})),_()(d()(n),"_handleVisibilityToggle",(function(){n.setState({revealed:!n.state.revealed})})),_()(d()(n),"_handlePasswordUpdated",(function(e){var t=n.props,a=t.onPasswordChange,r=t.skipPasswordValidation,i=t.userIdentifier,o=e.target.value;r||n._validateDebounced(o,{username:i}),n.setState({password:o}),a(o)}));var a=t.defaultValue;return n.state={revealed:!1,password:a||"",valid:!0},n._validateDebounced=Object($t.a)((function(e,t){n.props.validate(e,t).catch(n.props.createLocalApiErrorHandler()).then(n._onValidationUpdated(e))}),500),n}h()(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.props.clearPasswordValidity(),this._validateDebounced.clear()},n.render=function(){var e=this.props.userIdentifier;return m.createElement(T.a,{style:V.formTextInput},e?m.createElement("input",{name:"username",type:"hidden",value:e}):null,this._renderFormTextInput())},t}(m.Component);_()(Rn,"defaultProps",{autoComplete:"on",onPasswordChange:O.a,onPasswordValidated:O.a,skipPasswordValidation:!1});var Tn=U.a.create((function(e){return{toggleLink:{marginTop:e.spaces.xxSmall}}})),Pn=Sn(Rn),Dn=yn(function(e){function t(t){var n;return n=e.call(this,t)||this,_()(d()(n),"_handleDoneButtonClick",(function(){var e=n.props,t=e.onNavigate,a=e.subtask,r=e.subtaskId,i=e.updateFlow;n._saveCredentialsIfNeeded().then((function(){i(r,{password:n.state.password,link:a.next_link.link_id}),t(a.next_link)})).catch((function(){n._scribeSmartLockError(),i(r,{password:n.state.password,link:a.next_link.link_id}),t(a.next_link)}))})),_()(d()(n),"_handleSkipButtonClick",(function(){var e=n.props,t=e.onNavigate,a=e.subtask,r=e.subtaskId,i=e.updateFlow,o=a.skip_link;o&&(i(r,{link:o.link_id}),t(o))})),_()(d()(n),"_scribeSmartLockError",(function(){(0,n.props.scribeAction)({page:"onboarding",section:"enter_password",component:"smart_lock",element:"prompt",action:"error"})})),_()(d()(n),"_handlePasswordChange",(function(e){n.setState({password:e})})),_()(d()(n),"_handleValidationChange",(function(e){n.setState({isPasswordValid:e})})),_()(d()(n),"_saveCredentialsIfNeeded",(function(){var e=n.props.subtask,t=e.email,a=e.phone,r=e.username,i=e.skip_password_validation,o=n.state.password,s=!!window.PasswordCredential,l=r||t||a;if(l&&s&&!i&&navigator.credentials){var c=new window.PasswordCredential({id:l,password:o});return navigator.credentials.store(c)}return Promise.resolve()})),n.state={},n}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.errorDialog,n=e.history,a=e.location,r=e.onBackClick,i=e.onNavigate,o=e.subtask,l=e.subtaskInputs,c=e.progressIndication,u=this.state,d=u.isPasswordValid,p=u.password,h=!(p&&p.length),f=d||o.skip_password_validation&&!h,_=f||!o.skip_link?m.createElement(z.a,{disabled:!f,onPress:this._handleDoneButtonClick,size:"normalCompact",type:"primary"},o.next_link.label):m.createElement(z.a,{onPress:this._handleSkipButtonClick,size:"normalCompact",type:"text"},o.skip_link.label);return m.createElement(A.a,{hideBackButton:!0,history:n,location:a,onBackClick:r,progressIndication:c,rightControl:_},m.createElement(T.a,{style:V.contentArea},m.createElement(S,s()({},o.primary_text,{nativeID:b.e,onNavigate:i,size:"xLarge",style:V.headline,subtaskInputs:l,weight:"bold"})),o.secondary_text?m.createElement(S,s()({},o.secondary_text,{color:"deepGray",onNavigate:i,subtaskInputs:l})):null,m.createElement(Pn,{label:o.hint,onPasswordChange:this._handlePasswordChange,onPasswordValidated:this._handleValidationChange,skipPasswordValidation:o.skip_password_validation,userIdentifier:o.username})),t)},t}(m.Component)),jn=new RegExp("^\\+?[0-9\\-\\.\\(\\)\\s]{7,1000}$"),Nn=ht.a.cd24fe6f,Fn=Gt({namespace:"phoneNumberValidity",fetchOneContext:"FETCH_PHONE_VALIDITY",fetchOneEndpoint:function(e){return e.Validity.isPhoneNumberAvailable},fetchOneParams:function(e,t){var n=e[0];return Object.assign({raw_phone_number:n},t)},localValidator:function(e){var t=jn.test(e);return{errorMessage:Nn,valid:t}}}),Bn=function(e){var t=e.countryCode,n=e.onRef,a=Bt()(e,["countryCode","onRef"]),r={country_code:t};return m.createElement(nn,s()({module:Fn,onRef:n,type:"tel",validationParams:r},a))},Ln=n("6XNv"),Un=ht.a.gf8388fe,Vn=function(e){function t(t){var n;n=e.call(this,t)||this,_()(d()(n),"_renderCountryCodes",(function(){var e=n.props.subtask.country_codes;if(e&&e.length){var t=e.map((function(e){return{label:e.text.text,value:e.id}}));return m.createElement(Ln.a,{helperText:void 0,label:Un,onChange:n._handleCountryChange,options:t,value:n.state.countryCode||""})}return null})),_()(d()(n),"_handleCountryChange",(function(e){n.setState({countryCode:e})})),_()(d()(n),"_renderPhoneTextField",(function(){return m.createElement(Bn,{autoComplete:"tel",countryCode:n.state.countryCode,defaultValue:n.state.phoneNumber,label:n.props.subtask.hint_text,name:"phone_number",onRef:n._handleSetInputRef,onValidityChange:n._handleUpdateValidity,style:Mn.phoneTextField})})),_()(d()(n),"_renderDiscoverabilitySetting",(function(){var e=n.props,t=e.onNavigate,a=e.subtask,r=e.subtaskId,i=e.subtaskInputs,o=e.updateFlow;return a.discoverability_setting?m.createElement(_n,{onNavigate:t,onSettingToggle:n._handleDiscoverabilitySettingToggle,removeContacts:O.a,settingValue:a.discoverability_setting,subtaskId:r,subtaskInputs:i,updateFlow:o}):null})),_()(d()(n),"_handleDiscoverabilitySettingToggle",(function(e){var t=n.state.discoverabilityValue;n.setState({discoverabilityValue:!t})})),_()(d()(n),"_handleDoneButtonClick",(function(){var e=n.props.subtask,t=n.state,a={country_code:t.countryCode,discoverability_value:t.discoverabilityValue,phone_number:n._getIdentifierValue(),link:e.next_link.link_id};n._handleButtonClick(e.next_link,a)})),_()(d()(n),"_handleSkipButtonClick",(function(){var e=n.props.subtask;e.skip_link&&n._handleButtonClick(e.skip_link,{link:e.skip_link.link_id})})),_()(d()(n),"_handleButtonClick",(function(e,t){var a=n.props,r=a.onNavigate,i=a.subtaskId;(0,a.updateFlow)(i,t),r(e)})),_()(d()(n),"_handleSetInputRef",(function(e){n._input=e})),_()(d()(n),"_handleUpdateValidity",(function(){var e=n._input&&n._input.isValid();n.setState({isValid:!!e})})),_()(d()(n),"_getIdentifierValue",(function(){return n._input&&n._input.getValue()||void 0}));var a=t.subtask,r=t.subtaskId,i=t.subtaskInputs,o=a.discoverability_setting&&a.discoverability_setting.value_data&&a.discoverability_setting.value_data.boolean_data&&a.discoverability_setting.value_data.boolean_data.initial_value,s=Object(k.d)(i,{key:"country_code",subtask_id:r},a.default_country_code)||void 0,l=Object(k.d)(i,{key:"discoverability_value",subtask_id:r},void 0)||o,c=Object(k.d)(i,{key:"phone_number",subtask_id:r},"")||void 0;return n.state={countryCode:s,discoverabilityValue:l,phoneNumber:c,isValid:!!c},n}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.history,n=e.location,a=e.onBackClick,r=e.onNavigate,i=e.progressIndication,o=e.subtask,l=e.subtaskInputs,c=o.primary_text,u=o.secondary_text,d=o.next_link,p=o.skip_link,h=this.state.isValid||!p?m.createElement(z.a,{disabled:!this.state.isValid,onPress:this._handleDoneButtonClick,size:"normalCompact",type:"primary"},d.label):m.createElement(z.a,{onPress:this._handleSkipButtonClick,size:"normalCompact",type:"text"},p.label);return m.createElement(A.a,{history:t,location:n,onBackClick:a,progressIndication:i,rightControl:h},m.createElement(T.a,null,m.createElement(T.a,{style:V.contentArea},c&&m.createElement(S,s()({},c,{nativeID:b.e,onNavigate:r,size:"xLarge",style:V.headline,subtaskInputs:l,weight:"bold"})),u&&m.createElement(S,s()({},u,{color:"deepGray",onNavigate:r,subtaskInputs:l})),m.createElement(T.a,{style:Mn.textFieldArea},this._renderCountryCodes(),this._renderPhoneTextField()),this._renderDiscoverabilitySetting())),this.props.errorDialog)},t}(m.Component),Mn=U.a.create((function(e){return{textFieldArea:{marginTop:e.spaces.medium},phoneTextField:{paddingHorizontal:0,paddingVertical:e.spaces.small}}})),zn=n("Lam0"),qn=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,_()(d()(t),"_handleRecaptchaStateChange",(function(e){var n=t.props,a=n.subtaskId,r=n.subtask,i=n.updateFlow,o=n.onNavigate,s=r.next_link;e&&(i(a,{link:s.link_id,"g-recaptcha-response":e}),o(s))})),_()(d()(t),"_handleSkipButtonClick",(function(){var e=t.props,n=e.onNavigate,a=e.subtask.skip_link,r=e.subtaskId,i=e.updateFlow;a&&i(r,{link:a.link_id}),a&&n(a)})),t}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.errorDialog,n=e.history,a=e.location,r=e.onBackClick,i=e.onNavigate,o=e.subtask,l=e.subtaskInputs,c=o.primary_text,u=o.secondary_text,d=o.skip_link,p=d&&m.createElement(z.a,{onPress:this._handleSkipButtonClick,size:"normalCompact",type:"text"},d.label);return m.createElement(A.a,{history:n,location:a,onBackClick:r,rightControl:p},m.createElement(T.a,{style:V.contentArea},c?m.createElement(S,s()({},c,{nativeID:b.e,onNavigate:i,size:"xLarge",style:V.headline,subtaskInputs:l,weight:"bold"})):null,u?m.createElement(S,s()({},u,{color:"deepGray",onNavigate:i,subtaskInputs:l})):null,m.createElement(zn.a,{nextButtonDisabled:!1,onChange:this._handleRecaptchaStateChange,withConsentForm:!1})),t)},t}(m.Component),Gn=function(e){function t(t){var n;return n=e.call(this,t)||this,_()(d()(n),"_handleDoneButtonClick",(function(){var e=n.props,t=e.onNavigate,a=e.subtask.next_link,r=e.subtaskId;(0,e.updateFlow)(r,Object.assign({},n.state,{link:a.link_id})),t(a)})),_()(d()(n),"_handleSkipButtonClick",(function(){var e=n.props,t=e.onNavigate,a=e.subtask.skip_link,r=e.subtaskId,i=e.updateFlow;a&&i(r,{link:a.link_id}),a&&t(a)})),_()(d()(n),"_handleEntryUpdated",(function(e){var t=e.target.value,a=void 0===t?"":t;n.setState({text:a})})),_()(d()(n),"_getAutoCompleteFromKeyboardType",(function(e){switch(e){case w.g.Email:return"email";case w.g.Telephone:return"tel";default:return}})),_()(d()(n),"_getPropsFromKeyboardType",(function(e){switch(e){case w.g.Email:return"email";case w.g.Number:return"number";case w.g.Password:return"password";case w.g.Telephone:return"tel";default:return"text"}})),n.state={text:n.props.subtask.default_text||""},n}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.errorDialog,n=e.history,a=e.location,r=e.onBackClick,i=e.onNavigate,o=e.subtask,l=e.subtaskInputs,c=o.keyboard_type,u=o.primary_text,d=o.secondary_text,p=o.hint_text,h=o.max_length,f=o.multiline,_=o.next_link,g=o.skip_link,v=m.createElement(z.a,{disabled:!g&&!this.state.text,onPress:this._handleDoneButtonClick,size:"normalCompact",type:"primary"},_.label),y=g&&m.createElement(z.a,{onPress:this._handleSkipButtonClick,size:"normalCompact",type:"text"},g.label);return m.createElement(A.a,{history:n,location:a,onBackClick:r,rightControl:this.state.text||!g?v:y},m.createElement(T.a,{style:V.contentArea},u?m.createElement(S,s()({},u,{nativeID:b.e,onNavigate:i,size:"xLarge",style:V.headline,subtaskInputs:l,weight:"bold"})):null,d?m.createElement(S,s()({},d,{color:"deepGray",onNavigate:i,subtaskInputs:l})):null,m.createElement(It.a,{autoComplete:this._getAutoCompleteFromKeyboardType(c),label:p,maxLength:h,multiline:f,name:"text",onChange:this._handleEntryUpdated,type:this._getPropsFromKeyboardType(c),value:this.state.text})),t)},t}(m.Component),Hn=n("LXAX"),Wn=Object(Q.createSelector)($.e.selectLoggedInUser,Hn.b,Y.l,(function(e,t,n){return{loggedInUser:e,navigationContext:n,isUsernameValid:t.valid,validationError:t.desc}})),Yn={fetchUsernameAvailability:Hn.a},Kn=Object(X.g)(Wn,Yn),Xn=n("SotI"),Zn=n.n(Xn),Qn=n("/uF9"),Jn=n.n(Qn),$n=function(e){function t(t){var n;n=e.call(this,t)||this,_()(d()(n),"_maybeRenderDetailTexts",(function(){var e=n.props,t=e.subtask,a=e.subtaskInputs,r=n.state.currentDetailTextIndex;return t.detail_texts&&t.detail_texts.length?m.createElement(S,s()({},t.detail_texts[r],{color:"link",onNavigate:n._handleDetailTextClick,style:ea.detailLink,subtaskInputs:a})):void 0})),_()(d()(n),"_handleDetailTextClick",(function(e){var t=n.props,a=t.analytics,r=t.onNavigate;"show_more_usernames"===e.link_id?(n._updateCurrentDetailTextIndex(),a.scribe({element:"show_more",action:"click"})):(n._selectUsername(e.link_id,n._fetchUsernameStatus),a.scribe({element:"suggestion",action:"click"})),r(e)})),_()(d()(n),"_handleUsernameUpdated",(function(e){var t=e.target.value;n._selectUsername(t,n._fetchUsernameStatusDebounced)})),_()(d()(n),"_selectUsername",(function(e,t){n.setState({username:e}),t(e)})),_()(d()(n),"_handleNextButtonClick",(function(){var e=n.props,t=e.onNavigate,a=e.subtask,r=e.subtaskId,i=e.updateFlow,o=n.state.username;a.next_link&&(i(r,{username:o,link:a.next_link.link_id}),t(a.next_link))})),_()(d()(n),"_handleSkipButtonClick",(function(){var e=n.props,t=e.onNavigate,a=e.subtask,r=e.subtaskId,i=e.updateFlow,o=a.skip_link;o&&(i(r,{link:o.link_id}),t(o))})),_()(d()(n),"_fetchUsernameStatus",(function(e){var t=n.props,a=t.analytics,r=t.fetchUsernameAvailability,i=t.loggedInUser;i&&r({email:i.email&&i.email[0]&&i.email[0].address,full_name:i.name,suggest:!1,username:e}).then((function(e){e&&!e.valid&&"taken"===e.reason&&a.scribe({element:"username",action:"taken"})}))})),_()(d()(n),"_updateCurrentDetailTextIndex",(function(){n.setState({currentDetailTextIndex:n.state.currentDetailTextIndex+1})}));var a=t.loggedInUser,r=t.subtaskId,i=t.subtaskInputs,o=Object(k.d)(i,{key:"username",subtask_id:r},"")||(a?a.screen_name:"");return n.state={currentDetailTextIndex:0,username:o},n._fetchUsernameStatusDebounced=Object($t.a)((function(){var e;return(e=n)._fetchUsernameStatus.apply(e,arguments)}),250),n}h()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.navigationContext||{},t=e.action,n=e.text;"set_text"===t&&n&&this._selectUsername(n,this._fetchUsernameStatus)},n.render=function(){var e=this.props,t=e.history,n=e.isUsernameValid,a=e.location,r=e.loggedInUser,i=e.onBackClick,o=e.onNavigate,l=e.subtask,c=e.subtaskInputs,u=e.progressIndication,d=e.validationError,p=this.state.username,h=(r&&r.screen_name&&r.screen_name.toLowerCase())===(p&&p.toLowerCase()),f=m.createElement(z.a,{disabled:!n,onPress:this._handleNextButtonClick,size:"normalCompact",type:"primary"},l.next_link.label),_=l.skip_link&&m.createElement(z.a,{onPress:this._handleSkipButtonClick,size:"normalCompact",type:"primary"},l.skip_link.label),g=p&&!h?f:_||f;return m.createElement(A.a,{history:t,location:a,onBackClick:i,progressIndication:u,rightControl:g},m.createElement(m.Fragment,null,m.createElement(T.a,{style:V.contentArea},m.createElement(S,s()({},l.primary_text,{nativeID:b.e,onNavigate:o,size:"xLarge",style:V.headline,subtaskInputs:c,weight:"bold"})),m.createElement(S,s()({},l.secondary_text,{color:"deepGray",onNavigate:o,subtaskInputs:c})),m.createElement(It.a,{Icon:Zn.a,autoComplete:"off",autoCorrect:!1,autoFocus:!0,errorText:d,iconStyle:[ea.iconAtStyle,Jn.a.isRTL&&ea.rtlStyle],invalid:!!p&&!h&&!n,label:l.hint,name:"username",onChange:this._handleUsernameUpdated,showValidationIcon:!!p,spellCheck:"false",style:V.formTextInput,value:p}),this._maybeRenderDetailTexts())),this.props.errorDialog)},t}(m.Component),ea=U.a.create((function(e){return{detailLink:{marginTop:e.spaces.small},iconAtStyle:{color:e.colors.deepGray},rtlStyle:{order:1,paddingLeft:0,paddingRight:e.spaces.xSmall}}})),ta=Object(_e.a)(Kn($n),{section:"enter_username"}),na=n("caTy"),aa=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,_()(d()(t),"_executeSubtaskAction",(function(){var e=t.props,n=e.navigationLink,a=e.subtaskAction,r=e.onNavigate,i=e.onError;try{a().then((function(){return r(n,!0)})).catch(i)}catch(o){i(o)}})),t}h()(t,e);var n=t.prototype;return n.componentDidMount=function(){this._executeSubtaskAction()},n.componentDidUpdate=function(e){this.props.subtaskId!==e.subtaskId&&this._executeSubtaskAction()},n.render=function(){return null},t}(m.Component);_()(aa,"defaultProps",{onError:O.a});n("hCOa"),n("87if");var ra=n("RhWx"),ia=n.n(ra),oa=n("zrOZ"),sa="selected_custom_interests",la="selected_interest_ids",ca=function(e,t){var n=Object(Y.q)(e);return(Object(k.d)(n,{key:sa,subtask_id:t.subtaskId},[])||[]).map((function(e){return{topic:e.custom_interest,ttt_token:e.ttt_token}}))},ua=Object(Q.createSelector)(ca,(function(e,t){return ca(e,t).map((function(e){return e.topic}))}),(function(e,t){var n=Object(Y.q)(e);return Object(k.d)(n,{key:la,subtask_id:t.subtaskId},[])||void 0}),(function(e,t,n){return{initialCustomInterests:e,initialCustomInterestIds:t,initialSelectedInterestIds:n}})),da=Object(X.c)(ua),pa=n("2dXj"),ha=n("aV/s"),fa=n("GZwR"),_a=[fa.a.Topics],ma=function(e){function t(t){var n;n=e.call(this,t)||this,_()(d()(n),"_maybeRenderCustomInterests",(function(){var e=n.props.subtask.custom_interests_header,t=n.state,a=t.customInterests;if(t.shouldRenderCustomInterests)return m.createElement(T.a,null,m.createElement(T.a,{name:"custom",style:ba.group},m.createElement(C.c,{size:"large",style:ba.groupHeader,weight:"bold"},e),m.createElement(T.a,{style:ba.pillsContainer},a.map((function(e){return n._renderCustomInterest(e.topic)})))))})),_()(d()(n),"_renderGroup",(function(e){var t;if(e.show_more){var a=e.show_more.initial_to_show+(e.expanded?e.show_more.extra_to_show:0);t=e.items.slice(0,a)}else t=e.items;return m.createElement(T.a,{key:"group_"+e.header,name:"group",style:ba.group},m.createElement(C.c,{size:"large",style:ba.groupHeader,weight:"bold"},e.header),m.createElement(T.a,{style:ba.pillsContainer},t.map(n._renderSelectionPill),n._maybeRenderShowMoreButton(e)))})),_()(d()(n),"_maybeRenderShowMoreButton",(function(e){var t=e.show_more;return t&&e.items.length>t.initial_to_show&&!e.expanded?m.createElement(ha.a,{compact:!0,key:"showMore_"+e.header,mode:"expand",onClick:n._handleShowMore(e),style:ba.selectionPillStyles,text:t.text}):null})),_()(d()(n),"_renderCustomInterest",(function(e){var t=n.state.selectedCustomInterestIds;return m.createElement(ha.a,{compact:!0,key:"selectionPill_"+e,onClick:n._handleToggleCustomInterest(e),selected:t.has(e),style:ba.selectionPillStyles,text:e})})),_()(d()(n),"_renderSelectionPill",(function(e){var t=n.state.selectedInterestIds.has(e.id),a=n._handleToggleInterest(e.id,t);return m.createElement(ha.a,{compact:!0,key:"selectionPill_"+e.id,onClick:a,selected:t,style:ba.selectionPillStyles,text:e.name})})),_()(d()(n),"_shouldShowSkipInstead",(function(){var e=n.state,t=e.selectedInterestIds,a=e.selectedCustomInterestIds;return 0===t.size&&0===a.size})),_()(d()(n),"_handleSuggestionSelected",(function(e){var t=n.state,a=t.customInterestIds,r=t.selectedCustomInterestIds,i=e.data,o=i.topic,s={topic:o,ttt_token:i.ttt_context};a.has(o)||n.setState({customInterests:n.state.customInterests.concat([s]),customInterestIds:Object(oa.a)(ia()(a)).add(o),selectedCustomInterestIds:Object(oa.a)(ia()(r)).add(o),shouldRenderCustomInterests:!0})})),_()(d()(n),"_handleShowMore",(function(e){return function(){var t=n.state.groups,a=t.find((function(t){return t.header===e.header}));a&&(a.expanded=!0),n.setState({groups:t})}})),_()(d()(n),"_handleToggleCustomInterest",(function(e){return function(){var t=Object(oa.a)(ia()(n.state.selectedCustomInterestIds));t.has(e)?(t.delete(e),n.setState({selectedCustomInterestIds:t})):n.setState({selectedCustomInterestIds:t.add(e)})}})),_()(d()(n),"_handleToggleInterest",(function(e,t){return function(){var a=Object(oa.a)(ia()(n.state.selectedInterestIds));t?(a.delete(e),n.setState({selectedInterestIds:a})):n.setState({selectedInterestIds:a.add(e)})}})),_()(d()(n),"_handleNextButtonClick",(function(){var e=n.props,t=e.onNavigate,a=e.subtask,r=e.subtaskId,i=e.updateFlow,o=n.state,s=o.customInterests,l=o.selectedCustomInterestIds,c=s.reduce((function(e,t){return l.has(t.topic)&&e.push({custom_interest:t.topic,ttt_token:t.ttt_token}),e}),[]);i(r,{link:a.next_link.link_id,selected_interest_ids:Array.from(n.state.selectedInterestIds),selected_custom_interests:c}),t(a.next_link)})),_()(d()(n),"_handleSkipButtonClick",(function(){var e=n.props,t=e.onNavigate,a=e.subtask,r=e.subtaskId,i=e.updateFlow;a.skip_link&&i(r,{link:a.next_link.link_id}),a.skip_link&&t(a.skip_link)}));var a=t.initialCustomInterests,r=t.initialCustomInterestIds,i=t.initialSelectedInterestIds,o=t.subtask.selected_items;return n.state={groups:t.subtask.groups||[],customInterests:a,customInterestIds:Object(oa.a)(r),selectedCustomInterestIds:Object(oa.a)(r),selectedInterestIds:i&&i.length>0?Object(oa.a)(i):Object(oa.a)(o||[]),shouldRenderCustomInterests:a.length>0},n}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.history,n=e.location,a=e.onNavigate,r=e.subtask,i=e.subtaskInputs,o=this.state.groups,l=m.createElement(z.a,{onPress:this._handleNextButtonClick,size:"normalCompact",type:"primary"},r.next_link.label),c=r.skip_link?m.createElement(z.a,{onPress:this._handleSkipButtonClick,size:"normalCompact",type:"text"},r.skip_link.label):null,u=this._shouldShowSkipInstead()?c:l;return m.createElement(A.a,{history:t,location:n,rightControl:u},m.createElement(T.a,{style:V.contentArea},r.primary_text?m.createElement(S,s()({},r.primary_text,{nativeID:b.e,onNavigate:a,size:"xLarge",style:V.headline,subtaskInputs:i,weight:"bold"})):null,r.secondary_text?m.createElement(S,s()({},r.secondary_text,{onNavigate:a,style:V.subHeader,subtaskInputs:i})):null,m.createElement(T.a,{style:ba.searchContainer},m.createElement(pa.c,{filter:_a,maxTopics:8,onItemClick:this._handleSuggestionSelected,placeholder:r.hint,rounded:!0,shouldAutoFocus:!0,shouldClearOnSelect:!0,source:fa.d.WelcomeFlow,withFocusStyling:!0})),this._maybeRenderCustomInterests(),m.createElement(T.a,null,o.map(this._renderGroup))),this.props.errorDialog)},t}(m.Component),ba=U.a.create((function(e){return{searchContainer:{marginBottom:e.spaces.small,zIndex:1},selectionPillStyles:{margin:e.spaces.xxSmall},pillsContainer:{flexDirection:"row",flexWrap:"wrap"},groupHeader:{marginTop:e.spaces.xSmall,marginBottom:e.spaces.xSmall},group:{marginBottom:e.spaces.xSmall}}})),ga=da(ma),va=n("mjJ+"),ya=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,_()(d()(t),"_makeNavFunction",(function(e){return function(){var n=t.props,a=n.onNavigate,r=n.subtaskId;(0,n.updateFlow)(r,{link:e.link_id}),a(e)}})),_()(d()(t),"_itemFromNavLink",(function(e){return{text:e.label||"",onClick:t._makeNavFunction(e)}})),t}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.onNavigate,n=e.subtask,a=e.subtaskInputs;return m.createElement(va.a,{cancelButtonLabel:n.cancel_link&&n.cancel_link.text,description:n.primary_text?m.createElement(S,s()({},n.primary_text,{nativeID:b.e,onNavigate:t,subtaskInputs:a})):null,items:n.primary_action_links.map(this._itemFromNavLink),onCloseRequested:n.cancel_link?this._makeNavFunction(n.cancel_link):O.a})},t}(m.Component),ka=n("vEo5"),wa=Object(Q.createSelector)(ka.selectShouldPromptBrowserPush,(function(e){return ka.selectBrowserPushStatus(e)}),(function(e,t){return{promptAllowed:e,pushSettingsFetchStatus:t.fetchStatus,subscribed:t.subscribed}})),Ca={createLocalApiErrorHandler:Object(Z.d)("NOTIFICATIONS_PERMISSIONS_PROMPT"),dismissPushNotificationsPrompt:ka.dismissPushNotificationsPrompt,fetchPushSettingsIfNeeded:ka.fetchPushSettingsIfNeeded,loadPushPromptSettingsIfNeeded:ka.loadPushPromptSettingsIfNeeded,pushSubscribe:ka.pushSubscribe},Ea=Object(X.g)(wa,Ca),Ia=n("arYa"),Sa=n.n(Ia);function xa(e,t){e.granted_link.label||Object(fe.a)("Invalid notification permission prompt subtask: granted_link does not have a label",{extra:{subtaskId:t,grantedLinkId:e.granted_link.link_id}})}var Oa=Ea(function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,_()(d()(t),"componentDidMount",(function(){var e=t.props,n=e.createLocalApiErrorHandler,a=e.fetchPushSettingsIfNeeded,r=e.pushSettingsFetchStatus;xa(e.subtask,e.subtaskId),a().catch(n()),r===ut.a.LOADED&&t._skipIfPushPromptNotAllowed()})),_()(d()(t),"componentDidUpdate",(function(e){var n=t.props,a=n.pushSettingsFetchStatus,r=n.subtask;a===ut.a.LOADED&&e.pushSettingsFetchStatus!==ut.a.LOADED&&t._skipIfPushPromptNotAllowed(),r!==e.subtask&&xa(r,t.props.subtaskId)})),_()(d()(t),"_actionClicked",(function(e){var n=t.props,a=n.onNavigate,r=n.subtaskId;(0,n.updateFlow)(r,{link:e.link_id}),a(e)})),_()(d()(t),"_handleSkip",(function(){var e=t.props,n=e.dismissPushNotificationsPrompt,a=e.subtask;n(),t._actionClicked(a.denied_link)})),_()(d()(t),"_handleConfirm",(function(){var e=t.props,n=e.subtask;(0,e.pushSubscribe)().then((function(){t._actionClicked(n.granted_link)}))})),_()(d()(t),"_skipIfPushPromptNotAllowed",(function(){var e=t.props,n=e.promptAllowed,a=e.subscribed,r=e.subtask;n||t._actionClicked(a?r.granted_link:r.denied_link)})),t}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.history,n=e.location,a=e.onNavigate,r=e.promptAllowed,i=e.subtask,o=e.subtaskInputs,l=i.primary_text?m.createElement(S,s()({},i.primary_text,{nativeID:b.e,onNavigate:a,subtaskInputs:o})):null,c=i.secondary_text?m.createElement(S,s()({},i.secondary_text,{onNavigate:a,subtaskInputs:o})):null;return r&&i.granted_link.label?m.createElement(A.a,{hideLogo:!0,history:t,location:n},m.createElement(j.a,{actionLabel:i.granted_link.label,graphic:Sa.a,headline:l,onAction:this._handleConfirm,onClose:this._handleSkip,onTertiaryAction:this._handleSkip,subtext:c,tertiaryActionLabel:i.denied_link.label,withCloseButton:!1})):null},t}(m.Component)),Aa={callOnboardingPath:Y.a,createLocalApiErrorHandler:Object(Z.d)("OCF_OPEN_LINK")},Ra=Object(X.b)(Aa)(function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,_()(d()(t),"_hitCallbackPath",(function(){var e=t.props,n=e.createLocalApiErrorHandler,a=e.flowName,r=e.subtask.onboarding_callback_path,i=e.callOnboardingPath;return r?i(r).catch(n(Tt(a,void 0,O.a))):Promise.resolve()})),t}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.subtask,n=e.subtaskId,a=e.onNavigate;return m.createElement(aa,{navigationLink:t.link,onNavigate:a,subtaskAction:this._hitCallbackPath,subtaskId:n})},t}(m.Component)),Ta=n("Mx3A"),Pa=Object(Q.createSelector)(Y.l,Y.s,(function(e,t){return{navigationContext:e,verificationSendFailureMessage:t}})),Da={createLocalApiErrorHandler:Object(Z.d)("OCF_FLOW_PHONE_VERIFICATION"),verifyIdentifier:Y.y},ja=Object(X.g)(Pa,Da),Na=n("wrlS"),Fa="normalized_phone",Ba=function(e){function t(t){var n;n=e.call(this,t)||this,_()(d()(n),"_sendSmsVerificationRequest",(function(){var e=n.props,t=e.createLocalApiErrorHandler,a=e.navigationContext,r=e.subtask,i=e.onNavigate,o=e.subtaskInputs,s=e.verifyIdentifier,l=r.phone_number.subtask_data_reference,c=r.phone_country_code&&r.phone_country_code.subtask_data_reference,u=l&&o[l.subtask_id][l.key],d=c&&o[c.subtask_id]&&o[c.subtask_id][c.key],p=a&&a.action?a.action===w.o.ResendVoice:!!r.send_via_voice;return n._isSmsAutoVerifySupported&&n._autoVerifySmsCode(),s({phone:u,use_voice:p,sim_country_code:d,send_auto_verify_hash:n._isSmsAutoVerifySupported}).then((function(e){var t=e.normalized_phone_number;t&&n.setState({normalized_phone:t})})).catch((function(e){var a=n.props,o=a.flowName,s=a.verificationSendFailureMessage;t(Tt(o,s||At))(e),i(r.fail_link)}))})),_()(d()(n),"_handleCodeUpdated",(function(e){n.setState({code:e.target.value})})),_()(d()(n),"_autoVerifySmsCode",(function(){var e=n.props.analytics;e.scribe({element:"auto",action:"attempt"}),navigator.sms.receive().then((function(t){var a=function(e){var t=e.match(/^[\s\S]*otp=([0-9]{6})[\s\S]*$/m);return t?t[1]:void 0}(t.content);a&&(n.setState({code:a}),e.scribe({element:"auto",action:"success"}),n._handleDoneButtonClick())})).catch((function(){e.scribe({element:"auto",action:"failure"})}))})),_()(d()(n),"_handleDoneButtonClick",(function(){var e=n.props,t=e.onNavigate,a=e.subtask,r=e.subtaskId,i=e.updateFlow,o=n.state,s=o.code,l=o.normalized_phone;i(r,{code:s,link:a.next_link.link_id,normalized_phone:l,by_voice:!!a.send_via_voice}),t(a.next_link)}));var a=t.subtaskId,r=t.subtaskInputs,i=Object(k.d)(r,{key:Fa,subtask_id:a},"")||"";return n.state={code:"",normalized_phone:i,showSmsResendDialog:!1},n._isSmsAutoVerifySupported="sms"in navigator&&Na.a.isTrue("responsive_web_ocf_sms_autoverify_enabled"),n}h()(t,e);var n=t.prototype;return n.componentDidMount=function(){return this._sendSmsVerificationRequest()},n.render=function(){var e=this.props,t=e.history,n=e.location,a=e.onBackClick,r=e.onNavigate,i=e.subtask,o=e.subtaskInputs,l=e.progressIndication,c=m.createElement(z.a,{disabled:!this.state.code,onPress:this._handleDoneButtonClick,size:"normalCompact",type:"primary"},i.next_link.label),u=m.createElement(S,s()({},i.detail_text,{color:"link",onNavigate:r,style:La.detailLink,subtaskInputs:o}));return m.createElement(A.a,{history:t,location:n,onBackClick:a,progressIndication:l,rightControl:c},m.createElement(T.a,{style:V.contentArea},m.createElement(S,s()({},i.primary_text,{nativeID:b.e,onNavigate:r,size:"xLarge",style:V.headline,subtaskInputs:o,weight:"bold"})),m.createElement(S,s()({},i.secondary_text,{color:"deepGray",onNavigate:r,subtaskInputs:o})),m.createElement(It.a,{autoFocus:!0,helperText:u,label:i.hint_text,name:"verfication_code",onChange:this._handleCodeUpdated,style:V.formTextInput,value:this.state.code})),this.props.errorDialog)},t}(m.Component),La=U.a.create((function(e){return{detailLink:{marginTop:e.spaces.small}}})),Ua=Object(_e.a)(ja(Ba),{component:"phone_verification"}),Va="discoverable_by_email",Ma="discoverable_by_phone",za=function(e){function t(t){var n;n=e.call(this,t)||this,_()(d()(n),"_formatSubtaskInputsForRedux",(function(e){return{link:n.props.subtask.next_link,discoverable_by_email:e.discoverable_by_email?1:0,discoverable_by_phone:e.discoverable_by_phone?1:0}})),_()(d()(n),"_numberToBoolean",(function(e){return e>0})),_()(d()(n),"_getInitialSubtaskInputs",(function(){var e=n.props,t=e.subtaskId,a=e.subtaskInputs,r=Object(k.d)(a,{key:Va,subtask_id:t}),i=Object(k.d)(a,{key:Ma,subtask_id:t});return{discoverable_by_email:void 0===r||n._numberToBoolean(r),discoverable_by_phone:void 0===i||n._numberToBoolean(i)}})),_()(d()(n),"_handleDoneButtonClick",(function(){var e=n.props,t=e.onNavigate,a=e.subtask,r=e.subtaskId;(0,e.updateFlow)(r,n._formatSubtaskInputsForRedux(n.state)),t(a.next_link)})),_()(d()(n),"_handleDiscoverableByEmailToggle",(function(e){n.setState({discoverable_by_email:e})})),_()(d()(n),"_handleDiscoverableByPhoneToggle",(function(e){n.setState({discoverable_by_phone:e})}));var a=n._getInitialSubtaskInputs();return n.state=Object.assign({},a),n}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.history,n=e.location,a=e.onNavigate,r=e.subtask,i=e.subtaskInputs,o=r.secondary_text?m.createElement(C.c,{size:"xLarge",style:V.headline,weight:"bold"},r.secondary_text):null,l=this.state,c=l.discoverable_by_email,u=l.discoverable_by_phone,d=m.createElement(z.a,{onPress:this._handleDoneButtonClick,size:"normalCompact",type:"primary"},r.next_link.label);return m.createElement(A.a,{history:t,location:n,rightControl:d},m.createElement(T.a,{style:V.contentArea},m.createElement(C.c,{nativeID:b.e,style:U.a.visuallyHidden},r.primary_text),m.createElement(C.c,{size:"xLarge",style:V.headline,weight:"bold"},o),m.createElement(T.a,{accessibilityRole:"label",style:V.option},m.createElement(T.a,{style:V.checkboxText},m.createElement(C.c,null,r.discoverable_by_email_label),m.createElement(S,s()({},r.discoverable_by_email_detail_text,{color:"deepGray",onNavigate:a,size:"small",style:V.detailText,subtaskInputs:i}))),m.createElement(M.a,{checked:c,name:"discoverable_by_email",onChange:this._handleDiscoverableByEmailToggle})),m.createElement(T.a,{accessibilityRole:"label",style:V.option},m.createElement(T.a,{style:V.checkboxText},m.createElement(C.c,null,r.discoverable_by_phone_label),m.createElement(S,s()({},r.discoverable_by_phone_detail_text,{color:"deepGray",onNavigate:a,size:"small",style:V.supportingText,subtaskInputs:i}))),m.createElement(M.a,{checked:u,name:"discoverable_by_phone",onChange:this._handleDiscoverableByPhoneToggle}))))},t}(m.Component),qa=n("AspN"),Ga=n("53j7"),Ha=Object(Q.createSelector)($.e.selectLoggedInUser,(function(e,t){var n=Ga.f(e);return(n?qa.g(e,n):[])[0]}),(function(e,t){return{loggedInUser:e,avatarMedia:t}})),Wa={addAvatarMedia:Ga.a,removeAvatarMedia:Ga.c},Ya=Object(X.g)(Ha,Wa),Ka=n("fS8x"),Xa=n("P68U"),Za=n("eyty"),Qa=n("oSwX"),Ja=function(e){function t(t){var n;return n=e.call(this,t)||this,_()(d()(n),"_handleCropDone",(function(){return n.setState({done:!0,showCropper:!1})})),_()(d()(n),"_handleCropCancel",(function(){return n._handleCropDone()})),_()(d()(n),"_handleImageMediaChange",(function(e){(0,n.props.addAvatarMedia)(e[0]),n.setState({mediaId:e[0],showCropper:!0,done:!0})})),_()(d()(n),"_handleImageMediaFailure",(function(){n._handleSkipButtonClick()})),_()(d()(n),"_handleImageMediaRemove",(function(){(0,n.props.removeAvatarMedia)(),n.setState({done:!1,showCropper:!1})})),_()(d()(n),"_handleDoneButtonClick",(function(){var e=n.props,t=e.onNavigate,a=e.subtask,r=e.subtaskId;(0,e.updateFlow)(r,{link:a.next_link.link_id}),t(a.next_link)})),_()(d()(n),"_handleSkipButtonClick",(function(){var e=n.props,t=e.onNavigate,a=e.subtask.skip_link,r=e.subtaskId,i=e.updateFlow;a&&i(r,{link:a.link_id}),a&&t(a)})),n.state={done:!1,showCropper:!1,mediaId:void 0},n}h()(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.errorDialog,n=e.history,a=e.location,r=e.onBackClick,i=e.onNavigate,o=e.subtask,l=e.subtaskInputs,c=o.primary_text,u=o.secondary_text,d=o.next_link,p=o.skip_link,h=m.createElement(z.a,{disabled:!p&&!this.state.mediaId,onPress:this._handleDoneButtonClick,size:"normalCompact",type:"primary"},d.label),f=p&&m.createElement(z.a,{onPress:this._handleSkipButtonClick,size:"normalCompact",type:"text"},p.label);return m.createElement(A.a,{history:n,location:a,onBackClick:r,rightControl:this.state.done||!p?h:f},m.createElement(T.a,{style:V.contentArea},c?m.createElement(S,s()({},c,{nativeID:b.e,onNavigate:i,size:"xLarge",style:V.headline,subtaskInputs:l,weight:"bold"})):null,u?m.createElement(S,s()({},o.secondary_text,{color:"deepGray",onNavigate:i,subtaskInputs:l})):null,this._renderMediaPickerWithPreview()),this.state.showCropper&&void 0!==this.state.mediaId?m.createElement(Ka.a,{circle:!0,defaultAspectRatio:1,location:a,mediaId:this.state.mediaId,onCancel:this._handleCropCancel,onDone:this._handleCropDone}):null,t)},n._renderMediaPickerWithPreview=function(){var e=this.props,t=e.avatarMedia,n=e.loggedInUser,a=this.state.done;return m.createElement(T.a,{style:$a.centerContent},m.createElement(Xa.a,{borderRadius:"infinite",currentContent:n?m.createElement(Qa.default,{size:"custom",uri:n.profile_image_url_https}):null,location:Za.c.Avatar,mediaItem:t,onChange:this._handleImageMediaChange,onFailure:this._handleImageMediaFailure,onRemove:a?this._handleImageMediaRemove:void 0,rootStyle:$a.avatarContainer}))},t}(m.Component),$a=U.a.create((function(e){return{avatarContainer:{borderWidth:e.borderWidths.medium,borderColor:e.colors.white,borderStyle:"solid",marginTop:e.spaces.jumbo,marginBottom:e.spaces.jumbo,width:"calc("+e.spaces.jumbo+" * 3)"},bannerContainer:{marginTop:e.spaces.jumbo,marginBottom:e.spaces.jumbo,maxHeight:"9em"},banner:{height:"100%"},centerContent:{alignItems:"center",display:"flex",width:"100%"}}})),er=Ya(Ja),tr=Object(Q.createSelector)($.e.selectLoggedInUser,(function(e,t){var n=Ga.f(e);return(n?qa.g(e,n):[])[0]}),(function(e,t){var n=Ga.g(e);return(n?qa.g(e,n):[])[0]}),(function(e,t,n){return{loggedInUser:e,avatarMedia:t,bannerMedia:n}})),nr={addBannerMedia:Ga.b,removeBannerMedia:Ga.d},ar=Object(X.g)(tr,nr),rr=n("9Xij"),ir=n("D4le"),or=n.n(ir),sr=function(e){function t(t){var n;return n=e.call(this,t)||this,_()(d()(n),"_handleImageMediaRemove",(function(){(0,n.props.removeBannerMedia)(),n.setState({done:!1,showCropper:!1})})),_()(d()(n),"_handleCropDone",(function(){return n.setState({done:!0,showCropper:!1})})),_()(d()(n),"_handleCropCancel",(function(){return n._handleCropDone()})),_()(d()(n),"_handleImageMediaChange",(function(e){(0,n.props.addBannerMedia)(e[0]),n.setState({media_id:e[0],showCropper:!0,done:!0})})),_()(d()(n),"_handleImageMediaFailure",(function(){n._handleSkipButtonClick()})),_()(d()(n),"_handleDoneButtonClick",(function(){var e=n.props,t=e.onNavigate,a=e.subtask,r=e.subtaskId;(0,e.updateFlow)(r,{link:a.next_link.link_id}),t(a.next_link)})),_()(d()(n),"_handleSkipButtonClick",(function(){var e=n.props,t=e.onNavigate,a=e.subtask.skip_link,r=e.subtaskId,i=e.updateFlow;a&&i(r,{link:a.link_id}),a&&t(a)})),n.state={done:void 0,media_id:void 0,showCropper:!1},n}h()(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.errorDialog,n=e.history,a=e.location,r=e.onBackClick,i=e.onNavigate,o=e.subtask,l=e.subtaskInputs,c=o.primary_text,u=o.secondary_text,d=o.next_link,p=o.skip_link,h=m.createElement(z.a,{disabled:!p&&!this.state.media_id,onPress:this._handleDoneButtonClick,size:"normalCompact",type:"primary"},d.label),f=p&&m.createElement(z.a,{onPress:this._handleSkipButtonClick,size:"normalCompact",type:"text"},p.label);return m.createElement(A.a,{history:n,location:a,onBackClick:r,rightControl:this.state.done||!p?h:f},m.createElement(T.a,{style:V.contentArea},c?m.createElement(S,s()({},c,{nativeID:b.e,onNavigate:i,size:"xLarge",style:V.headline,subtaskInputs:l,weight:"bold"})):null,u?m.createElement(S,s()({},o.secondary_text,{color:"deepGray",onNavigate:i,subtaskInputs:l})):null,m.createElement(T.a,{style:lr.container},this._renderMediaPickerWithPreview(),this._renderAvatar(),this._renderNames()),this.state.showCropper&&void 0!==this.state.media_id?m.createElement(Ka.a,{defaultAspectRatio:3,location:a,mediaId:this.state.media_id,onCancel:this._handleCropCancel,onDone:this._handleCropDone}):null),t)},n._renderMediaPickerWithPreview=function(){var e=this.props,t=e.bannerMedia,n=e.loggedInUser,a=t||!!n&&!!n.profile_banner_url,r=this.state.done;return m.createElement(Xa.a,{aspectRatio:3,currentContent:m.createElement(rr.a,{ratio:U.a.theme.aspectRatios.profileBanner},a&&n?m.createElement(or.a,{source:{uri:n.profile_banner_url},style:lr.banner}):null),location:Za.c.Banner,mediaItem:t,onChange:this._handleImageMediaChange,onFailure:this._handleImageMediaFailure,onRemove:r?this._handleImageMediaRemove:void 0,rootStyle:lr.bannerContainer})},n._renderAvatar=function(){var e=this.props,t=e.avatarMedia,n=e.loggedInUser,a=t&&t.mediaFile&&t.mediaFile.url||n&&n.profile_image_url_https;return m.createElement(Qa.default,{size:"custom",style:[lr.avatarContainer],uri:a})},n._renderNames=function(){var e=this.props.loggedInUser;if(!e)return null;var t=e.name,n="@"+e.screen_name;return m.createElement(T.a,{style:lr.nameContainer},m.createElement(C.c,{align:"left",style:lr.names},m.createElement(C.c,{accessibilityRole:"heading",size:"xLarge",style:lr.displayName,weight:"bold"},t),m.createElement(C.c,{color:"deepGray",style:lr.screenName},n)))},t}(m.Component),lr=U.a.create((function(e){return{container:{paddingBottom:e.spaces.jumbo},avatarContainer:{borderWidth:e.borderWidths.medium,borderColor:e.colors.white,borderStyle:"solid",marginLeft:e.spaces.small,marginTop:"-25%",maxWidth:"calc(${theme.spaces.small} * 8)",width:"25%"},bannerContainer:{marginTop:e.spaces.jumbo,marginBottom:e.spaces.jumbo,maxHeight:"9em"},banner:{height:"100%"},centerContent:{alignItems:"center",display:"flex",width:"100%"},nameContainer:{marginLeft:e.spaces.small},names:{display:"block",marginBottom:e.spaces.xSmall},displayName:{writingDirection:"ltr",display:"block",marginTop:e.spaces.xxSmall},screenName:{writingDirection:"ltr"}}})),cr=ar(sr),ur=n("QK5w"),dr=(n("ZVkB"),n("2ejm")),pr=n.n(dr),hr=U.a.create((function(e){return{icon:{height:"1.5em",width:"1.5em"},pillContainer:{bottom:e.spaces.small,alignItems:"center",left:"0",right:"0",margin:"auto",zIndex:1},pillContainerNarrow:{position:"fixed"},pillContainerModal:{position:"absolute"}}})),fr=function(e){var t=e.isModal,n=e.label,a=e.onPress,r=[hr.pillContainer,t?hr.pillContainerModal:hr.pillContainerNarrow];return m.createElement(T.a,{style:r},m.createElement(z.a,{icon:m.createElement(pr.a,{style:hr.icon}),onPress:a,type:"primary"},m.createElement(C.c,{size:"normal",weight:"normal"},n)))},_r=n("7nmT"),mr=n.n(_r),br="OCF_SettingsList_Text",gr=n("+d3d"),vr=n("jtO7"),yr=function(e){function t(t){var n;n=e.call(this,t)||this,_()(d()(n),"_formatSubtaskInputsForStore",(function(e){return Object.entries(e).map((function(e){var t,n=e[0],a=e[1],r=a.result;return{key:n,response_data:(t={},t[a.type]={result:r},t)}}))})),_()(d()(n),"_loadSubtaskInputsFromStore",(function(){var e=n.props,t=e.subtaskId,a=e.subtaskInputs;return Object(k.d)(a,{key:w.k,subtask_id:t},[]).reduce((function(e,t){var n=t.key,a=Object.keys(t.response_data)[0],r=t.response_data[a].result;return e[n]={result:r,type:a},e}),{})})),_()(d()(n),"_updateFlow",(function(){var e,t=n.props,a=t.subtask,r=t.subtaskId,i=t.updateFlow,o=a.next_link,s=n.state.settingsValues;i(r,((e={})[w.k]=n._formatSubtaskInputsForStore(s),e.link=o.link_id,e))})),_()(d()(n),"_handleShowMore",(function(){n.setState({showMore:!0})})),_()(d()(n),"_handleDoneButtonPress",(function(){var e=n.props,t=e.onNavigate,a=e.subtask.next_link;n._updateFlow(),t(a)})),_()(d()(n),"_handleSubListBackClick",(function(){n.setState({isSubList:!1,showDividers:!1,showMoreConfig:null,subList:[],subListHeader:{}}),n._updateFlow()})),_()(d()(n),"_handleSettingGroupClick",(function(e){var t=e.primary_text,a=e.value_data;e.value_type===w.l.SettingsGroup&&n.setState({isSubList:!0,showDividers:!1,showMoreConfig:null,subList:a.settings_group_data.settings,subListHeader:t})})),_()(d()(n),"_handleScrollPromptClick",(function(){n._viewport.scrollBy(n._viewport.getRect().getHeight())})),_()(d()(n),"_handleViewportSet",(function(e){var t=n.context.isModal;n.props.subtask.scroll_hint&&t&&(n._viewport=e,n._viewport&&n._viewport.addScrollListener(n._handleViewportScroll))})),_()(d()(n),"_handleViewportScroll",Object(gr.a)((function(){n.state.lastSettingSeen||n.setState({lastSettingSeen:n._isLastSettingInViewport()})}),250)),_()(d()(n),"_isLastSettingInViewport",(function(){if(n._lastSetting&&n._viewport){var e=n._lastSetting.getBoundingClientRect(),t=n._viewport.getRect();return e.top>=t.getTop()&&e.bottom<=t.getBottom()}return!1})),_()(d()(n),"_setSettingsRef",(function(e){return function(t){var a=n.state.isSubList;if(n.props.subtask.scroll_hint&&!a&&e&&void 0===n._lastSetting){n._lastSetting=mr.a.findDOMNode(t);var r=n._isLastSettingInViewport();r&&!n.state.lastSettingSeen&&n.setState({lastSettingSeen:r})}else n._lastSetting=void 0}})),_()(d()(n),"_handleSettingToggle",(function(e){var t=e.value_identifier,a=e.value_type;if(Object(k.g)(a)){var r,i=n.state.settingsValues;n.setState({settingsValues:Object.assign({},i,(r={},r[t]=Object.assign({},i[t],{result:!i[t].result}),r))})}}));var a=t.subtask,r=n._initializeSettingsState(a.settings);return n.state={isSubList:!1,showDividers:a.show_divider,showMoreConfig:a.show_more,showMore:!1,subList:[],subListHeader:{},settingsValues:r,lastSettingSeen:!1},n}h()(t,e);var n=t.prototype;return n.UNSAFE_componentWillMount=function(){var e=this.context,t=e.isModal,n=e.viewport;this.props.subtask.scroll_hint&&!t&&(this._viewport=n,this._removeScrollListener=this._viewport.addScrollListener(this._handleViewportScroll)),this._updateFlow()},n.componentWillUnmount=function(){this.props.subtask.scroll_hint&&this._removeScrollListener&&this._removeScrollListener()},n.render=function(){return this.state.isSubList?this._renderSubList():this._renderMainList()},n._renderMainList=function(){var e=this.context.isModal,t=this.props,n=t.errorDialog,a=t.history,r=t.location,i=t.onBackClick,o=t.onNavigate,l=t.subtask,c=t.subtaskInputs,u=t.progressIndication,d=this.state.lastSettingSeen,p=!!!l.scroll_hint||d,h="prompt"===l.style,f=m.createElement(z.a,{disabled:!p,onPress:this._handleDoneButtonPress,size:h?"normal":"normalCompact",type:"primary"},l.next_link.label),_=p?null:m.createElement(fr,{isModal:!!e,label:l.scroll_hint,onPress:this._handleScrollPromptClick});return m.createElement(A.a,{history:a,location:r,onBackClick:i,onViewportSet:this._handleViewportSet,progressIndication:u,rightControl:h?void 0:f,scrollPrompt:_},m.createElement(T.a,{style:[V.contentArea,kr.bottomPadding,h&&kr.centeredRoot]},m.createElement(S,s()({},l.primary_text,{nativeID:b.e,onNavigate:o,size:"xLarge",style:kr.headline,subtaskInputs:c,testID:br,weight:"bold"})),l.secondary_text?m.createElement(S,s()({},l.secondary_text,{color:"deepGray",onNavigate:o,style:kr.headline,subtaskInputs:c})):null,this._renderSettingsList(l.settings),l.detail_text?m.createElement(S,s()({},l.detail_text,{color:"deepGray",onNavigate:o,style:kr.detailText,subtaskInputs:c})):null,h?m.createElement(T.a,{style:kr.doneButtonContainer},f):null),n)},n._renderSubList=function(){var e=this.props,t=e.history,n=e.location,a=e.onNavigate,r=e.subtaskInputs,i=this.state,o=i.subList,l=i.subListHeader;return m.createElement(A.a,{history:t,location:n,onBackClick:this._handleSubListBackClick},m.createElement(T.a,{style:V.contentArea},m.createElement(S,s()({},l,{onNavigate:a,size:"xLarge",style:kr.headline,subtaskInputs:r,weight:"bold"})),this._renderSettingsList(o)))},n._renderSettingsList=function(e){var t=this,n=this.props,a=n.addToast,r=n.onNavigate,i=n.removeContacts,o=n.subtaskId,s=n.subtaskInputs,l=n.updateFlow,c=this.state,u=c.showDividers,d=c.showMoreConfig,p=c.showMore;return m.Children.toArray(e.map((function(n,c){var h=c===e.length-1;if(d&&!p){if(c===d.initial_to_show)return m.createElement(vr.a,{color:"primary",label:d.text,onPress:t._handleShowMore});if(c>d.initial_to_show)return null}return m.createElement(_n,{addToast:a,onNavigate:r,onSettingGroupClick:t._handleSettingGroupClick,onSettingToggle:t._handleSettingToggle,ref:t._setSettingsRef(h),removeContacts:i,settingValue:n,showDividers:!h&&u,subtaskId:o,subtaskInputs:s,updateFlow:l})})))},n._initializeSettingsState=function(e){var t=this._loadSubtaskInputsFromStore();return t&&Object.keys(t).length>0?t:e.reduce((function(e,t){var n=t.value_data,a=t.value_identifier,r=t.value_type;if(Object(k.g)(r))e[a]={result:n.boolean_data.initial_value,type:Object.keys(n)[0]};else if(r===w.l.SettingsGroup){n.settings_group_data.settings.forEach((function(t){var n=t.value_data,a=t.value_identifier,r=t.value_type;Object(k.g)(r)&&(e[a]={result:n.boolean_data.initial_value,type:Object.keys(n)[0]})}))}return e}),{})},t}(m.Component);_()(yr,"contextTypes",{isModal:E.bool,viewport:E.object});var kr=U.a.create((function(e){return{centeredRoot:{alignItems:"center"},headline:{marginBottom:e.spaces.xSmall},detailText:{marginTop:e.spaces.xLarge},bottomPadding:{paddingBottom:e.spaces.xxLarge},doneButtonContainer:{marginTop:e.spaces.xLarge}}})),wr=(n("yH/f"),n("NeAX")),Cr=Object(Q.createSelector)(Y.l,wr.selectPreferences,wr.selectUserPreferences,(function(e,t,n){return{navigationContext:e,personalizationSettings:n,shouldPropagateP13nSettings:!t.is_eu_country}})),Er={createLocalApiErrorHandler:Object(Z.d)("OCF_FLOW"),fetchPreferencesIfNeeded:wr.fetchPreferencesIfNeeded,scribeAction:W.c,syncPersonalizationSettings:wr.syncSettings},Ir=Object(X.g)(Cr,Er),Sr=n("YeIG"),xr=ht.a.d44efc66,Or=ht.a.b4867a17,Ar=function(e){function t(t,n){var a;return a=e.call(this,t,n)||this,_()(d()(a),"_updateValue",(function(e){var t=a.props.callback,n=Object(Sr.a)(e.trim()),r=!n&&-1!==e.toLowerCase().indexOf("twitter"),i=!n&&!r,o="";n?o=xr:r&&(o=Or),a.setState({errorMessage:o,isValid:i,value:e}),t(e,i)})),_()(d()(a),"_handleValueChange",(function(e){var t=e.target.value;a._updateValue(t)})),a.state={errorMessage:"",isValid:!0,value:""},a}h()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.defaultValue;e&&this._updateValue(e)},n.render=function(){var e=this.props,t=(e.defaultValue,Bt()(e,["defaultValue"])),n=this.state,a=n.errorMessage,r=n.isValid,i=Na.a.getValue("user_display_name_max_limit",50);return m.createElement(It.a,s()({},t,{errorText:a,invalid:!r,maxLength:i,name:"name",onChange:this._handleValueChange,positionCursorAtEnd:!0,style:V.formTextInput,value:this.state.value}))},t}(m.Component),Rr=n("SrtL"),Tr=n("P7wY"),Pr=n("Ukpf"),Dr=n("S8sr"),jr=ht.a.eab9ceb1,Nr=Object.freeze({Birthday:"birthday",Email:"email",Name:"name",Phone:"phone_number",Password:"password"}),Fr="select_birthday",Br="select_email",Lr="select_name",Ur="select_phone",Vr={page:"onboarding",component:"signup"},Mr=function(e){function t(t){var n;n=e.call(this,t)||this,_()(d()(n),"_getDefaultIdentifierField",(function(){var e=n.props.subtask.allowed_identifiers;return e===w.m.EmailOnly||e===w.m.EmailThenPhone?Nr.Email:Nr.Phone})),_()(d()(n),"_renderActiveFieldToggle",(function(){var e=n.props.subtask.allowed_identifiers;return e!==w.m.EmailOnly&&e!==w.m.PhoneOnly?m.createElement(C.c,{color:"link",onPress:n._handleActiveTextToggle,style:zr.toggleLink,withInteractiveStyling:!0},n._getToggleActiveTextTitle()):null})),_()(d()(n),"_renderPasswordField",(function(){var e=n.props,t=e.subtask,a=e.subtaskId,r=e.subtaskInputs,i=n.state.defaultActiveText,o=Object(k.d)(r,{key:Nr.Password,subtask_id:a},"");return m.createElement(T.a,{style:zr.passwordEntry},m.createElement(Pn,{autoComplete:"new-password",defaultValue:o||void 0,label:t.password_hint,onPasswordChange:n._handlePasswordChange,onPasswordValidated:n._handlePasswordValidate,userIdentifier:i||void 0}))})),_()(d()(n),"_renderNameField",(function(){var e=n.props,t=e.navigationContext,a=e.subtask,r=e.subtaskId,i=e.subtaskInputs,o=Object(k.d)(i,{key:Nr.Name,subtask_id:r},""),s=t.action,l={autoComplete:"name",autoFocus:!s||s===Lr,callback:n._updateNameInfo,defaultValue:o,onFocus:n._handleNameFocus,label:a.name_hint};return m.createElement(Ar,l)})),_()(d()(n),"_renderActiveTextField",(function(){var e=n.props.subtask,t=n.state,a=t.activeTextField,r=t.defaultActiveText,i=n._shouldFocusActiveTextField(),o={autoComplete:a===Nr.Phone?"tel":"email",autoFocus:i,defaultValue:r,name:a===Nr.Phone?"phone_number":"email",label:a===Nr.Phone?e.phone_hint:e.email_hint,onRef:n._setInputRef,onValidityChange:n._updateValidity,style:zr.phoneEmailTextField};return a===Nr.Phone?m.createElement(Bn,o):m.createElement(an,o)})),_()(d()(n),"_handleDateChange",(function(e){n.setState({birthdayValue:e,isBirthdayValid:n._isCompleteDate(e)},n._updateValidity)})),_()(d()(n),"_isCompleteDate",(function(e){return!!(e&&e.year&&e.month&&e.day)})),_()(d()(n),"_getIdentifierValue",(function(){return n._input&&n._input.getValue()})),_()(d()(n),"_isValid",(function(){var e=n.state,t=e.isBirthdayValid,a=e.isNameValid,r=e.isPasswordValid,i=n.props.subtask,o=!i.show_password_field||r,s=i.ignore_birthday||t;return a&&o&&s&&n._input&&n._input.isValid()})),_()(d()(n),"_setTimRef",(function(e){n._timInput=e})),_()(d()(n),"_updateValidity",(function(){n.setState({isValid:n._isValid()})})),_()(d()(n),"_updateNameInfo",(function(e,t){n.setState({isNameValid:t,nameValue:e},n._updateValidity)})),_()(d()(n),"_handleFetchPreferences",(function(){var e=n.props,t=e.createLocalApiErrorHandler;(0,e.fetchPreferencesIfNeeded)().catch(t())})),_()(d()(n),"_handlePasswordChange",(function(e){n.setState({passwordValue:e},n._updateValidity)})),_()(d()(n),"_handlePasswordValidate",(function(e){n.setState({isPasswordValid:e},n._updateValidity)})),_()(d()(n),"_shouldFocusActiveTextField",(function(){var e=n.props.navigationContext,t=n.state.activeTextField===Nr.Phone?Ur:Br;return!n.state.hasNameFieldBeenAutoFocused&&e.action===t})),_()(d()(n),"_handleActiveTextToggle",(function(){var e=n.state.activeTextField===Nr.Phone?Nr.Email:Nr.Phone;n._scribeEvent(e,"choose"),n._input&&n._input.clear(),n.setState({activeTextField:e,defaultActiveText:""})})),_()(d()(n),"_getToggleActiveTextTitle",(function(){var e=n.props.subtask;return n.state.activeTextField===Nr.Phone?e.use_email_text:e.use_phone_text})),_()(d()(n),"_handleNameFocus",(function(){n.setState({hasNameFieldBeenAutoFocused:!0})})),_()(d()(n),"_handleNextButtonClick",(function(){var e,t=n.props,a=t.onNavigate,r=t.shouldPropagateP13nSettings,i=t.subtask,o=t.subtaskId,s=t.updateFlow,l=n.state,c=l.activeTextField,u=l.birthdayValue,d=l.nameValue,p=l.passwordValue,h=n.props.personalizationSettings||{},f=h.allowCookieUse,_=h.allowDeviceAccess,m=h.allowPartnerships,b=h.allowPersonalization,g=r?{personalization_settings:{allow_cookie_use:!!f,allow_device_personalization:!!_,allow_partnerships:!!m,allow_ads_personalization:!!b}}:{},v=i.ignore_birthday?{}:{birthday:u},y=i.show_password_field?{password:p}:{},k=c===Nr.Email&&i.email_next_link?i.email_next_link:i.next_link,w=n._timInput&&n._timInput.value?{response:n._timInput.value}:void 0,C=n._getIdentifierValue()||void 0;s(o,Object.assign(((e={})[c]=C,e.js_instrumentation=w,e.link=k.link_id,e.name=d,e),y,g,v)),a(k)})),_()(d()(n),"_scribeEvent",(function(e,t){(0,n.props.scribeAction)(Object.assign({},Vr,{element:e,action:t}))})),_()(d()(n),"_setInputRef",(function(e){n._input=e}));var a=t.navigationContext,r=t.subtaskId,i=t.subtaskInputs,o=Object(k.d)(i,{key:Nr.Name,subtask_id:r},""),s=Object(k.d)(i,{key:Nr.Phone,subtask_id:r},""),l=Object(k.d)(i,{key:Nr.Email,subtask_id:r},""),c=Object(k.d)(i,{key:Nr.Password,subtask_id:r},""),u={day:void 0,month:void 0,year:void 0},p=Object(k.d)(i,{key:Nr.Birthday,subtask_id:r},void 0)||u,h=function(e){switch(e){case Ur:return{type:Nr.Phone,value:s};case Br:return{type:Nr.Email,value:l};default:return{type:l?Nr.Email:n._getDefaultIdentifierField(),value:l||s}}}(a.action);return n.state={activeTextField:h.type,birthdayValue:p,defaultActiveText:h.value,nameValue:o,hasNameFieldBeenAutoFocused:!1,passwordValue:c,isNameValid:void 0,isPasswordValid:!!c,isBirthdayValid:n._isCompleteDate(p),isValid:void 0},n}h()(t,e);var n=t.prototype;return n.componentDidMount=function(){Pr.a.inject("https://twitter.com/i/js_inst?c_name=ui_metrics"),this._handleFetchPreferences(),this.props.syncPersonalizationSettings()},n.componentDidUpdate=function(){this._shouldFocusActiveTextField()&&this._input&&this._input.focus()},n.render=function(){var e=this.props,t=e.subtask,n=e.history,a=e.location,r=e.progressIndication,i=m.createElement(z.a,{disabled:!this.state.isValid,onPress:this._handleNextButtonClick,size:"normalCompact",type:"primary"},t.next_link.label);return m.createElement(A.a,{history:n,location:a,progressIndication:r,rightControl:i},m.createElement(Rr.a,{title:jr}),m.createElement(T.a,{style:V.contentArea},t.primary_text&&m.createElement(C.c,{nativeID:b.e,size:"xLarge",style:V.headline,weight:"bold"},t.primary_text),this._renderNameField(),this._renderActiveTextField(),this._renderActiveFieldToggle(),this._renderBirthdayField(),t.show_password_field?this._renderPasswordField():null,m.createElement("input",{autoComplete:"off",name:"ui_metrics",ref:this._setTimRef,type:"hidden"})))},n._renderBirthdayField=function(){var e=this.props,t=e.navigationContext,n=e.subtask,a=n.birthday_explanation,r=n.birthday_hint,i=n.ignore_birthday,o=this.state.birthdayValue||{},s=t.action===Fr;return i?null:m.createElement(T.a,{accessibilityLabel:r,accessibilityRole:"group",style:zr.birthdayPicker},m.createElement(C.c,{size:"normal",weight:"bold"},r),m.createElement(C.c,{color:"deepGray",size:"normal"},a),m.createElement(Dr.a,{autofocus:s,day:o.day,label:n.birthday_hint||"",minSelectableYear:Object(Tr.b)(),month:o.month,onChange:this._handleDateChange,year:o.year}))},t}(m.Component),zr=U.a.create((function(e){return{birthdayPicker:{marginTop:e.spaces.large},toggleLink:{marginTop:e.spaces.small,alignSelf:"flex-start"},passwordEntry:{marginTop:e.spaces.small},phoneEmailTextField:{paddingHorizontal:0}}})),qr=Ir(Mr),Gr=ht.a.a565833d,Hr=ht.a.h3629782,Wr=ht.a.j1c3f4b9,Yr=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,_()(d()(t),"_handleSignupButtonClick",(function(){var e,n=t.props,a=n.onNavigate,r=n.subtask,i=n.subtaskId,o=n.subtaskInputs,s=n.updateFlow,l=r.phone_number,c=r.email,u=l&&l.subtask_data_reference&&Object(k.d)(o,l.subtask_data_reference),d=c&&c.subtask_data_reference&&Object(k.d)(o,c.subtask_data_reference);t._isOldEnoughOrIgnored()?u?e=r.phone_next_link:d&&(e=r.email_next_link):e=r.invalid_birthday_link,e&&s(i,{link:e.link_id}),e&&a(e)})),_()(d()(t),"_handleNavigationClick",(function(e){(0,t.props.onNavigate)(e)})),_()(d()(t),"_handleNameEdit",(function(){var e=t.props.subtask;t._handleNavigationClick(e.name_edit_link)})),_()(d()(t),"_handleBirthdayEdit",(function(){var e=t.props.subtask;t._handleNavigationClick(e.birthday_edit_link)})),_()(d()(t),"_handlePhoneEdit",(function(){var e=t.props.subtask;t._handleNavigationClick(e.phone_edit_link)})),_()(d()(t),"_handleEmailEdit",(function(){var e=t.props.subtask;t._handleNavigationClick(e.email_edit_link)})),_()(d()(t),"_handlePrivacyOptionsClick",(function(e){return function(n){n.preventDefault(),t._handleNavigationClick(e)}})),_()(d()(t),"_isOldEnoughOrIgnored",(function(){var e=t.props.subtask,n=e.birthday,a=e.birthday_requirement;if(e.ignore_birthday)return!0;var r=n&&n.subtask_data_reference&&Object(k.d)(t.props.subtaskInputs,n.subtask_data_reference),i=r&&new Date(r.year,r.month-1,r.day),o=a||{},s=o.year,l=o.month,c=o.day,u=s&&l&&c&&new Date(s,l-1,c);return!i||!u||i<=u})),_()(d()(t),"_getSignupButtonLabel",(function(){var e=t.props,n=e.subtask,a=e.subtaskInputs,r=n.phone_number,i=n.email,o=r&&r.subtask_data_reference&&Object(k.d)(a,r.subtask_data_reference),s=i&&i.subtask_data_reference&&Object(k.d)(a,i.subtask_data_reference);return o?n.phone_next_link.label:s?n.email_next_link.label:Gr})),t}h()(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.errorDialog,n=e.history,a=e.location,r=e.onBackClick,i=e.progressIndication;return m.createElement(A.a,{history:n,location:a,onBackClick:r,progressIndication:i},m.createElement(T.a,null,m.createElement(T.a,{style:V.contentArea},this._maybeRenderPrimaryText(),this._renderNameField(),this._renderPhoneOrEmailField(),this._maybeRenderBirthdayField(),this._maybeRenderDetailText(),m.createElement(z.a,{onPress:this._handleSignupButtonClick,size:"normalLarge",style:V.primaryButton,type:"primary"},this._getSignupButtonLabel()))),t)},n._maybeRenderPrimaryText=function(){var e=this.props.subtask;return e.primary_text?m.createElement(C.c,{align:"left",nativeID:b.e,size:"xLarge",style:V.headline,weight:"bold"},e.primary_text):null},n._maybeRenderDetailText=function(){var e=this.props,t=e.onNavigate,n=e.subtask,a=e.subtaskInputs,r=n.detail_text;return r?m.createElement(S,s()({},r,{onNavigate:t,style:Kr.detailText,subtaskInputs:a})):null},n._renderNameField=function(){var e=this.props,t=e.subtask,n=e.subtaskInputs,a=t.name&&t.name.subtask_data_reference&&Object(k.d)(n,t.name.subtask_data_reference);return m.createElement(T.a,{name:"editName",onClick:this._handleNameEdit},m.createElement(It.a,{defaultValue:a||"",name:"name",style:V.formTextInput}))},n._maybeRenderBirthdayField=function(){var e=this.props,t=e.subtask,n=e.subtaskInputs,a=t.birthday&&t.birthday.subtask_data_reference&&Object(k.d)(n,t.birthday.subtask_data_reference),r=a||{},i=r.day,o=r.month,s=r.year,l=i&&o&&s&&Hr(new Date(s,o-1,i));return!t.ignore_birthday&&a&&l?m.createElement(T.a,{accessibilityLabel:Wr({birthdate:l}),accessibilityRole:"button",name:"editBirthday",onClick:this._handleBirthdayEdit},m.createElement(It.a,{defaultValue:l,name:"birthday",style:V.formTextInput})):null},n._renderPhoneOrEmailField=function(){var e=this.props,t=e.subtask,n=t.phone_number,a=t.email,r=e.subtaskInputs,i=n&&n.subtask_data_reference&&Object(k.d)(r,n.subtask_data_reference),o=a&&a.subtask_data_reference&&Object(k.d)(r,a.subtask_data_reference);return i?m.createElement(T.a,{name:"editPhone",onClick:this._handlePhoneEdit},m.createElement(It.a,{defaultValue:i||"",name:"phone",style:V.formTextInput})):o?m.createElement(T.a,{name:"editEmail",onClick:this._handleEmailEdit},m.createElement(It.a,{defaultValue:o||"",name:"email",style:V.formTextInput})):null},t}(m.Component),Kr=U.a.create((function(e){return{detailText:{marginTop:e.spaces.jumbo}}})),Xr=Yr,Zr="selected_search_topic_ids",Qr="selected_topic_ids",Jr=[],$r=Object(Q.createSelector)((function(e,t){var n=Object(Y.q)(e);return Object(k.d)(n,{key:Zr,subtask_id:t.subtaskId})}),(function(e,t){var n=Object(Y.q)(e);return Object(k.d)(n,{key:Qr,subtask_id:t.subtaskId})}),(function(e,t){return t.subtask.selected_topics_cart?t.subtask.selected_topics_cart.selected_topic_ids:Jr}),(function(e,t,n){return{initialSearchTopicIds:e||Jr,initialSelectedTopicIds:t||n}})),ei=Object(X.c)($r),ti=n("Rp9C"),ni=n("HOh7"),ai=n.n(ni),ri=n("Znyr"),ii=n("sgih"),oi=n("feu+"),si=(n("1t7P"),n("jQ/y"),n("ey4P")),li=n.n(si),ci=n("B4TA"),ui=n.n(ci),di=Object.freeze({TopicCategory:"topic_category",Topic:"topic"}),pi=n("hi+m"),hi=n.n(pi),fi=n("j7Bv"),_i=n("CGyZ"),mi=n("cm6r"),bi=n("zfvc"),gi=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,_()(d()(t),"_handleFollow",(function(){var e=t.props;(0,e.onFollowTopic)(e.id)})),_()(d()(t),"_handleUnfollow",(function(){var e=t.props;(0,e.onUnfollowTopic)(e.id)})),t}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.id,n=e.selectedTopicIds,a=e.subtaskInputs,r=e.topicsById[t],i=n.includes(this.props.id);return m.createElement(T.a,{style:yi.cell},m.createElement(fi.a,{Icon:hi.a,size:"large",style:yi.topicIcon}),m.createElement(T.a,{style:yi.topicInfo},m.createElement(S,s()({weight:"bold"},r.title,{subtaskInputs:a})),r.description?m.createElement(S,s()({color:"deepGray"},r.description,{subtaskInputs:a})):null),m.createElement(_i.a,{isFollowing:i,onFollow:this._handleFollow,onUnfollow:this._handleUnfollow,showRelationshipChangeConfirmation:!1,size:"normalCompact",type:"topic"}))},t}(m.PureComponent),vi=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,_()(d()(t),"state",{expanded:!1}),_()(d()(t),"_handleClick",(function(){t.setState({expanded:!t.state.expanded})})),t}h()(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.categoriesById,n=e.id,a=e.isTopLevel,r=e.subtaskInputs,i=this.state.expanded,o=t[n],l=i?wi:ki;return m.createElement(m.Fragment,null,m.createElement(mi.a,{onClick:this._handleClick,style:yi.cell},m.createElement(S,s()({color:"primary",size:a?"large":"normal",weight:a?"heavy":"bold"},o.title,{subtaskInputs:r})),l),m.createElement(T.a,{style:yi.children},m.createElement(bi.b,{show:i},this._renderChildren())))},n._renderChildren=function(){var e=this.props,n=e.categoriesById,a=e.id,r=e.selectedTopicIds,i=e.onFollowTopic,o=e.onUnfollowTopic,l=e.subtaskInputs,c=e.topicsById,u=n[a],d={selectedTopicIds:r,onFollowTopic:i,onUnfollowTopic:o,topicsById:c,subtaskInputs:l};return u.children_items.map((function(e){var a=e.id;return e.type===di.Topic?m.createElement(gi,s()({},d,{id:a,key:a})):m.createElement(t,s()({},d,{categoriesById:n,id:a,key:a}))}))},t}(m.PureComponent),yi=U.a.create((function(e){return{cell:{alignItems:"center",flexDirection:"row",paddingVertical:e.spaces.xSmall,paddingHorizontal:e.spaces.xxSmall,justifyContent:"space-between",borderBottomColor:e.colors.borderColor,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small},topicInfo:{flexGrow:1,flexShrink:1,marginRight:e.spaces.xSmall},topicIcon:{flexShrink:0,marginRight:e.spaces.xSmall},plusIcon:{color:e.colors.deepGray},minusIcon:{color:e.colors.primary},children:{marginLeft:e.spaces.xSmall}}})),ki=m.createElement(ui.a,{style:yi.plusIcon}),wi=m.createElement(li.a,{style:yi.minusIcon}),Ci=ht.a.f134915f,Ei=ht.a.h6beb5fa,Ii=ht.a.b8fb87e0,Si=m.createElement(ai.a,null),xi=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,_()(d()(t),"state",{hideBanner:!1,selectedTopicIds:t.props.initialSelectedTopicIds,showCart:!1}),_()(d()(t),"_renderCartButton",(function(){var e=t.props.subtask.selected_topics_cart,n=t.state.selectedTopicIds;return e&&e.title&&n.length>0?m.createElement(T.a,null,m.createElement(z.a,{accessibilityLabel:Ii,icon:Si,onPress:t._handleOpenCart,size:"normalCompact",type:"secondary"}),m.createElement(ri.a,{count:n.length,truncatedCountFormatter:Ei,unreadCountLabel:Ci,withBorder:!0})):null})),_()(d()(t),"_renderCart",(function(){var e=t.props,n=e.subtask,a=e.subtaskInputs,r=n.selected_topics_cart,i=r&&r.done_label?m.createElement(z.a,{key:"button_cancel",onPress:t._handleCloseCart,style:Oi.cartButton,type:"neutral"},r.done_label.text):null;return m.createElement(ii.a,{onMaskClick:t._handleCloseCart,style:Oi.cart,type:"bottom",withMask:!0},r&&r.title?m.createElement(S,s()({align:"center",size:"large",style:Oi.cartHeader,subtaskInputs:a,weight:"heavy"},r.title)):null,t._renderCartItems(),i)})),_()(d()(t),"_handleOpenCart",(function(){t.setState({showCart:!0}),t.props.analytics.scribe({element:"cart",action:"impression"})})),_()(d()(t),"_handleCloseCart",(function(){t.setState({showCart:!1}),t.props.analytics.scribe({element:"cart",action:"dismiss"})})),_()(d()(t),"_renderBanner",(function(){var e=t.props.subtask.banner,n=t.state.hideBanner;return e&&!n?m.createElement(oi.a,{actionLabel:e.dismiss_label.text,headline:e.title.text,onAction:t._handleBannerDismiss,onClose:t._handleBannerDismiss,subtext:e.subtitle.text}):null})),_()(d()(t),"_renderText",(function(){var e=t.props,n=e.subtask,a=e.subtaskInputs,r=n.primary_text,i=n.secondary_text;return m.createElement(T.a,{style:Oi.textContainer},r?m.createElement(S,s()({align:"center",size:"large",subtaskInputs:a,weight:"heavy"},r)):null,i?m.createElement(S,s()({align:"center",color:"deepGray",style:Oi.bodyText,subtaskInputs:a},i)):null)})),_()(d()(t),"_renderSkip",(function(){var e=t.props.subtask.skip_link;return e?m.createElement(z.a,{onPress:t._handleSkipButtonClick,size:"normalCompact",style:Oi.skipButton,type:"text"},e.label):null})),_()(d()(t),"_renderDone",(function(){return m.createElement(z.a,{onPress:t._handleNextButtonClick,size:"normalCompact",type:"primary"},t.props.subtask.next_link.label)})),_()(d()(t),"_renderCartItems",(function(){var e=t.props,n=e.subtask,a=e.subtaskInputs,r=t.state.selectedTopicIds;return r.map((function(e){return m.createElement(gi,{id:e,key:e,onFollowTopic:t._handleFollowTopic,onUnfollowTopic:t._handleUnfollowTopic,selectedTopicIds:r,subtaskInputs:a,topicsById:n.topic_by_id_list})}))})),_()(d()(t),"_renderItems",(function(){var e=t.props,n=e.subtask,a=e.subtaskInputs,r=t.state.selectedTopicIds;return n.top_category_ids.map((function(e){return m.createElement(vi,{categoriesById:n.category_by_id_list,id:e,isTopLevel:!0,key:e,onFollowTopic:t._handleFollowTopic,onUnfollowTopic:t._handleUnfollowTopic,selectedTopicIds:r,subtaskInputs:a,topicsById:n.topic_by_id_list})}))})),_()(d()(t),"_handleFollowTopic",(function(e){t.props.analytics.scribe({element:"topic",action:"follow",data:{items:[ti.a.forTopic(e)]}}),t.setState({selectedTopicIds:[].concat(ia()(t.state.selectedTopicIds),[e])})})),_()(d()(t),"_handleUnfollowTopic",(function(e){t.props.analytics.scribe({element:"topic",action:"unfollow",data:{items:[ti.a.forTopic(e)]}}),t.setState({selectedTopicIds:t.state.selectedTopicIds.filter((function(t){return t!==e}))})})),_()(d()(t),"_handleBannerDismiss",(function(){t.props.analytics.scribe({element:"prompt",action:"dismiss"}),t.setState({hideBanner:!0})})),_()(d()(t),"_handleNextButtonClick",(function(){var e=t.props,n=e.onNavigate,a=e.subtask,r=e.subtaskId,i=e.updateFlow,o=t.state.selectedTopicIds;i(r,{link:a.next_link.link_id,selected_topic_ids:o}),n(a.next_link)})),_()(d()(t),"_handleSkipButtonClick",(function(){var e=t.props,n=e.onNavigate,a=e.subtask,r=e.subtaskId;(0,e.updateFlow)(r,{link:a.skip_link.link_id}),n(a.skip_link)})),t}h()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.analytics;e.subtask.banner&&t.scribe({element:"prompt",action:"impression"})},n.render=function(){var e=this.props,t=e.errorDialog,n=e.history,a=e.location,r=this.state.showCart,i=m.createElement(T.a,{style:Oi.buttonContainer},this._renderSkip(),this._renderDone()),o=this._renderCartButton();return m.createElement(A.a,{history:n,leftControl:o,location:a,rightControl:i},m.createElement(T.a,{style:V.contentArea},this._renderBanner(),this._renderText(),this._renderItems()),r?this._renderCart():null,t)},t}(m.Component),Oi=U.a.create((function(e){return{buttonContainer:{flexDirection:"row"},skipButton:{marginRight:e.spaces.xSmall},cart:{backgroundColor:e.colors.cellBackground,flexGrow:1,maxHeight:"80vh",overflow:"auto",padding:e.spaces.medium,paddingBottom:e.spaces.medium},cartButton:{marginTop:e.spaces.xSmall},cartHeader:{marginBottom:e.spaces.xSmall},textContainer:{marginBottom:e.spaces.xSmall},bodyText:{alignSelf:"center",marginTop:e.spaces.xSmall,maxWidth:400}}})),Ai=Object(_e.a)(ei(xi),{section:"topics_selector"}),Ri=Object(Q.createSelector)((function(e,t){var n=Ga.f(e);return(n?qa.g(e,n):[])[0]}),(function(e,t){var n=Ga.g(e);return(n?qa.g(e,n):[])[0]}),(function(e,t){return{avatarMedia:e,bannerMedia:t}})),Ti={scribeAction:W.c,updateProfileAvatar:Ga.i,updateProfileBanner:Ga.j},Pi=Object(X.g)(Ri,Ti),Di=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,_()(d()(t),"_scribeUploadStart",(function(e){var n=t.props,a=n.flowToken,r=n.subtaskId,i=n.scribeAction,o=n.scribeNamespace;i(Object.assign({},o,{section:e,element:"upload",action:"start"}),{items:[{token:a,name:r}]})})),_()(d()(t),"_updateMedia",(function(){var e=t.props,n=e.avatarMedia,a=e.bannerMedia,r=e.subtask.sources,i=e.updateProfileAvatar,o=e.updateProfileBanner;return new Promise((function(e,s){try{r.forEach((function(e){var r=e.style;r===w.h.Avatar&&n?(t._scribeUploadStart("select_avatar"),i(n.id)):r===w.h.Banner&&a&&(t._scribeUploadStart("select_banner"),o(a.id))})),e()}catch(l){s(l)}}))})),t}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.subtask,n=e.subtaskId,a=e.onNavigate;return m.createElement(aa,{navigationLink:t.next_link,onNavigate:a,subtaskAction:this._updateMedia,subtaskId:n})},t}(m.Component),ji=Object(de.c)()(Pi(Di)),Ni=(n("lTEL"),n("7xRU"),n("LqLs"),n("kYxP"),n("QIgh")),Fi=n("8UdT"),Bi=n("IcAo"),Li=n("Ka9G"),Ui=function(e,t,n){return function(a){a.loggedInUserId,a.promotedContent;var r=a.userId;return m.createElement(_i.a,{isFollowing:n.has(r),onFollow:e(r),onUnfollow:t(r),showRelationshipChangeConfirmation:!1,size:"normalCompact",style:Vi.followButton,type:"user"})}},Vi=U.a.create((function(e){return{followButton:{alignSelf:"flex-start",marginLeft:e.spaces.xSmall}}})),Mi=function(e,t,n){return function(a){var r=a.user.id.toString();n.has(r)?t(r)():e(r)()}},zi=n("VTxf"),qi=n("ZNT5"),Gi=n("fTQJ"),Hi=n("wgnn"),Wi=n("I7xG"),Yi=function(e){switch(e){case Hi.a.NOT_FOUND:return m.createElement(zi.a,null);default:return Object(fe.a)("Unhandled timeline unavailable reason: "+e),null}},Ki=function(e){function t(t){var n;return n=e.call(this,t)||this,_()(d()(n),"_getModule",Object(Wi.a)(d()(n),(function(e){return e.subtaskId}),(function(e){return e.flowToken}),(function(e,t){return a=(n={subtask_id:e,flow_token:t||""}).subtask_id,r=n.flow_token,Object(qi.a)({timelineId:"nux-user-recos-"+a,getEndpoint:function(e){return e.URT.fetchNUXUserRecommendations},getEndpointParams:function(e){return Object.assign({subtask_id:a,flow_token:r},e)},context:"FETCH_NUX_USER_RECOS",perfKey:"nux-user-recos"});var n,a,r}))),_()(d()(n),"_onFollow",(function(e){return function(){var t=Object(oa.a)(ia()(n.state.selectedUsers));t.add(e),n.setState({selectedUsers:t})}})),_()(d()(n),"_onUnfollow",(function(e){return function(){var t=Object(oa.a)(ia()(n.state.selectedUsers));t.has(e)&&t.delete(e),n.setState({selectedUsers:t})}})),_()(d()(n),"_getFollowText",(function(e,t,n){return!e||n<1?t:e.concat(n.toString())})),_()(d()(n),"_handleFollowButtonClick",(function(){var e=n.props,t=e.onNavigate,a=e.subtask,r=e.subtaskId;(0,e.updateFlow)(r,{link:a.next_link.link_id,selected_user_recommendations:ia()(n.state.selectedUsers)}),t(a.next_link)})),_()(d()(n),"_handleSkipButtonClick",(function(){var e=n.props,t=e.onNavigate,a=e.subtask.skip_link,r=e.subtaskId,i=e.updateFlow;a&&i(r,{link:a.link_id}),a&&t(a)})),n.state={selectedUsers:new Set},n}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.history,n=e.location,a=e.onBackClick,r=e.onNavigate,i=e.subtask,o=e.subtaskInputs,l=this.state.selectedUsers,c="";if(i.next_link_threshold_text&&i.next_link_threshold_text.length>0){var u=i.next_link_threshold_text[0];c=u&&u.text&&u.text.text}var d,p,h,f,_,g=i.next_link.label,v=l.size,y=this._getFollowText(c,g,v),k=m.createElement(z.a,{onPress:this._handleFollowButtonClick,size:"normalCompact",type:"primary"},y),w=i.skip_link?m.createElement(z.a,{onPress:this._handleSkipButtonClick,size:"normalCompact",type:"text"},i.skip_link.label):null,C=v>=(i.min_follow_count||0)?k:w,E=Array.from(l).join(",");return m.createElement(A.a,{history:t,location:n,onBackClick:a,rightControl:C},m.createElement(T.a,{style:Zi.main},i.primary_text?m.createElement(S,s()({},i.primary_text,{nativeID:b.e,onNavigate:r,size:"xLarge",style:V.headline,subtaskInputs:o,weight:"bold"})):null,i.secondary_text?m.createElement(S,s()({},i.secondary_text,{onNavigate:r,size:"normal",style:V.subHeader,subtaskInputs:o,weight:"bold"})):null,m.createElement(Gi.a,{entryConfiguration:(d={onFollow:this._onFollow,onUnfollow:this._onUnfollow,currentFollows:l},h=d.onFollow,f=d.onUnfollow,_=d.currentFollows,Object(Bi.a)({},Ni.b,((p={})[Fi.a.User]=Object(Li.a)({decoration:Ui(h,f,_),withLink:!1,shouldScribe:!1,onClick:Mi(h,f,_)}),p))),fetchOptions:{follows:E},module:this._getModule(),renderUnavailable:Yi,title:""})),this.props.errorDialog)},t}(m.Component),Xi=Object(de.c)({page:"onboarding"})(Ki),Zi=U.a.create((function(e){return{main:{marginHorizontal:e.spaces.medium}}})),Qi=(n("aLgo"),n("DfhM"),n("TEoO")),Ji=n("v6aA"),$i=n("VoLI"),eo=n("Jkc4"),to=n("tocL"),no=n("Re5t"),ao=n("IMA+"),ro=n("wCd/"),io=n("tn7R"),oo=function(e){return e.items.map((function(e){return e.user_id_str})).join("-")},so=function(){return null},lo=function(e){function t(t){var n;return n=e.call(this,t)||this,_()(d()(n),"_renderGroup",Object(Wi.a)(d()(n),(function(e){return e.followedUserIds}),(function(e){return function(t){var a=t.items.every((function(t){return e.has(t.user_id_str)}));return m.createElement(T.a,{key:t.header,style:co.group},m.createElement(T.a,{style:co.groupHeader},m.createElement(C.c,{size:"large",weight:"bold"},t.header),n.state.useCheckboxes?m.createElement(M.a,{checked:a,onChange:n._handleGroupCheckboxChange(t,a)}):null),n._renderUserCells(t.items))}}))),_()(d()(n),"_renderSearchedUsers",(function(e){var t=n.props.selectedSearchHeader,a=Object(io.a)(e);return t&&a.length?m.createElement(T.a,{key:"search-results",style:co.group},m.createElement(T.a,{style:co.groupHeader},m.createElement(C.c,{size:"large",weight:"bold"},t)),n._renderSearchUserCells(a)):null})),_()(d()(n),"_getSearchCellDecorator",(function(e){if(n.state.useCheckboxes){var t=n._handleSearchUserUnfollowed(e.id_str);return m.createElement(M.a,{checked:!0,onChange:t})}return n._getUserFollowButton({id:e.id_str,name:e.name,screenName:e.screen_name,isFollowing:!0,onFollow:function(e){return O.a},onUnfollow:n._handleSearchUserUnfollowed})})),_()(d()(n),"_handleSearchUserUnfollowed",(function(e){return function(){return n.props.onSearchUserRemove(e)}})),_()(d()(n),"_renderUserCell",(function(e){var t=e.id,a=e.description,r=e.name,i=e.profileImageUrl,o=e.screenName,s=e.isFollowing,l=e.isVerified,c=e.onCellClick,u=e.socialText,d=e.decorator,p=e.tweets,h=e.user,f=c(t,s),_=u?{contextType:to.a.Follow,text:u}:void 0;return m.createElement(T.a,{accessibilityRole:"label",key:t,style:co.userCellContainer},m.createElement(ao.a,{avatarUri:i,decoration:d,description:a,displayMode:no.a.UserDetailed,entities:{},isVerified:l,key:t,name:r,onCellClick:f,promotedItemType:"users",screenName:o,socialContext:_,style:co.userCell,userId:t,withBottomBorder:!0,withLink:!1}),p&&0!==p.length&&h?n._renderQuoteTweet(p,h):null)})),_()(d()(n),"_getUserFollowButton",(function(e){var t=e.id,n=(e.name,e.screenName),a=e.isFollowing,r=e.onFollow,i=e.onUnfollow;return m.createElement(_i.a,{isFollowing:a,name:n,onFollow:r(t),onUnfollow:i(t),showRelationshipChangeConfirmation:!1,size:"normalCompact",style:co.followButton,type:"user"})})),_()(d()(n),"_getUserCellDecorator",(function(e,t){var a=e.user,r=e.user_id_str;if(n.state.useCheckboxes){var i=n._handleDecoratorChange(r,t);return m.createElement(M.a,{checked:t,onChange:i})}return n._getUserFollowButton({id:r,name:a.name,screenName:a.screen_name,isFollowing:t,onFollow:n._handleOnFollow,onUnfollow:n._handleOnUnfollow})})),_()(d()(n),"_handleGroupCheckboxChange",(function(e,t){return function(){var a=e.items.map((function(e){return e.user_id_str}));n._updateFollowedItems(a,!t)}})),_()(d()(n),"_handleOnFollow",(function(e){return function(){n._updateFollowedItems([e],!0)}})),_()(d()(n),"_handleOnUnfollow",(function(e){return function(){n._updateFollowedItems([e],!1)}})),_()(d()(n),"_handleDecoratorChange",(function(e,t){return function(){n._updateFollowedItems([e],!t)}})),n.state={useCheckboxes:t.followButtonType===w.e.Checkbox},n}h()(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.userGroups,n=e.selectedSearchUsers,a=e.onNearEnd,r=this.context.loggedInUserId;return m.createElement(T.a,null,this._renderSearchedUsers(n),m.createElement(Qi.a,{cacheKey:"userSelectList/"+r,identityFunction:oo,items:t,nearEndProximityRatio:1.15,noItemsRenderer:so,onNearEnd:a,renderer:this._renderGroup()}))},n._renderSearchUserCells=function(e){var t=this;return m.createElement(m.Fragment,null,e.map((function(e){var n=t._getSearchCellDecorator(e);return t._renderUserCell({id:e.id_str,name:e.name,profileImageUrl:e.profile_image_url_https,screenName:e.screen_name,isFollowing:!0,isVerified:e.verified,onCellClick:t._handleSearchUserUnfollowed,decorator:n})})))},n._renderUserCells=function(e){var t=this,n=this.props.followedUserIds;return m.createElement(m.Fragment,null,e.map((function(e){var a=e.user,r=e.user_id_str,i=e.tweets,o=n.has(r),s=t._getUserCellDecorator(e,o);return t._renderUserCell({id:r,description:a.description,name:a.name,profileImageUrl:a.profile_image_url_https,screenName:a.screen_name,isFollowing:o,isVerified:a.verified,onCellClick:t._handleDecoratorChange,socialText:e.social_text,decorator:s,tweets:i,user:a})})))},n._renderQuoteTweet=function(e,t){var n=t.followers_count,a=t.friends_count,r=t.screen_name;return m.createElement(T.a,{style:co.quoteTweetContainer},m.createElement(eo.a,null,(function(e){return m.createElement(ro.a,{followersCount:n,friendsCount:a,onPress:e(),screenName:r,style:co.userStats,withLink:!1})})),m.createElement($i.a,{shouldTruncate:!0,style:co.quoteTweet,tweet:e[0],withInlineMedia:!0,withLink:!0}))},n._updateFollowedItems=function(e,t){var n=this.props,a=n.onFollow,r=n.onUnfollow;t?a(e):r(e)},t}(m.Component);_()(lo,"contextType",Ji.a),_()(lo,"defaultProps",{onNearEnd:O.a});var co=U.a.create((function(e){return{group:{borderTopColor:e.colors.borderColor,borderTopStyle:"solid",borderTopWidth:e.borderWidths.small},followButton:{alignSelf:"flex-start",marginLeft:e.spaces.xSmall},groupHeader:{alignItems:"center",borderBottomColor:e.colors.borderColor,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small,flexDirection:"row",justifyContent:"space-between",paddingHorizontal:e.spaces.medium,paddingVertical:e.spaces.xSmall},userCell:{paddingHorizontal:e.spaces.medium},quoteTweetContainer:{marginBottom:e.spaces.medium,paddingRight:e.spaces.medium,paddingLeft:"calc(2*"+e.spaces.xLarge+")"},quoteTweet:{marginTop:e.spaces.xSmall},userCellContainer:{display:"flex",flexDirection:"column",justifyContent:"center"},userStats:{marginBottom:e.spaces.xSmall,marginLeft:e.spaces.micro}}}));function uo(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return po(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return po(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function po(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var ho=[fa.a.Users],fo="selected_user_recommendations",_o=function(e){function t(t){var n;n=e.call(this,t)||this,_()(d()(n),"_getPreCheckedUsers",(function(e){return void 0===e&&(e=[]),Object(oa.a)(e.reduce((function(e,t){var n=t.items.reduce((function(e,t){return t.checked_by_default&&e.push(t.user_id_str),e}),[]);return[].concat(ia()(e),ia()(n))}),[]))})),_()(d()(n),"_getFollowText",(function(e,t,n){return!e||n<1?t:e.concat(n.toString())})),_()(d()(n),"_handleSelectionChanged",(function(e){n.setState({selectedUsers:Object(oa.a)(e)})})),_()(d()(n),"_handleOnUnfollowsSelected",(function(e){for(var t,a=Object(oa.a)(ia()(n.state.selectedUsers)),r=n.state.selectedSearchUsers,i=uo(e);!(t=i()).done;){var o=t.value;a.has(o)&&a.delete(o),delete r[o]}n.setState({selectedUsers:a,selectedSearchUsers:r})})),_()(d()(n),"_handleOnFollowsSelected",(function(e){for(var t,a=Object(oa.a)(ia()(n.state.selectedUsers)),r=uo(e);!(t=r()).done;){var i=t.value;a.add(i)}n.setState({selectedUsers:a})})),_()(d()(n),"_handleFollowButtonClick",(function(){var e=n.props,t=e.onNavigate,a=e.subtask,r=e.subtaskId;(0,e.updateFlow)(r,{link:a.next_link.link_id,selected_user_recommendations:ia()(n.state.selectedUsers),searched_users:Object.keys(n.state.selectedSearchUsers)}),t(a.next_link)})),_()(d()(n),"_handleSkipButtonClick",(function(){var e=n.props,t=e.onNavigate,a=e.subtask.skip_link,r=e.subtaskId,i=e.updateFlow;a&&i(r,{link:a.link_id}),a&&t(a)})),_()(d()(n),"_handleSearchUserRemoved",(function(e){return n._handleOnUnfollowsSelected([e])})),_()(d()(n),"_handleSearchSuggestionSelected",(function(e,t){var a=e.data,r=n.state,i=r.selectedSearchUsers,o=r.selectedUsers;n._recommendedUsers.has(a.id_str)&&o.add(a.id_str),i[a.id_str]=a,n.setState({selectedSearchUsers:i,selectedUsers:o})}));var a=t.subtaskId,r=t.subtaskInputs,i=Object(oa.a)([]),o=Object(k.d)(r,{key:fo,subtask_id:a},i);return n._recommendedUsers=Object(oa.a)(t.subtask.groups.map((function(e){return e.items.map((function(e){return e.user_id?e.user_id.toString():""}))})).reduce((function(e,t){return e.concat(t)}))),n.state={selectedSearchUsers:{},selectedUsers:o&&o.size?o:n._getPreCheckedUsers(t.subtask.groups)},n}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.history,n=e.location,a=e.onBackClick,r=e.onNavigate,i=e.subtask,o=e.subtaskInputs,l=this.state,c=l.selectedSearchUsers,u=l.selectedUsers,d=(((i.next_link_threshold_text||{})[0]||{}).text||{}).text,p=i.next_link.label,h=(c?Object.keys(c).length:0)+u.size,f=this._getFollowText(d,p,h),_=m.createElement(z.a,{onPress:this._handleFollowButtonClick,size:"normalCompact",type:"primary"},f),g=i.skip_link?m.createElement(z.a,{onPress:this._handleSkipButtonClick,size:"normalCompact",type:"text"},i.skip_link.label):null,v=null===i.min_follow_count||void 0===i.min_follow_count?1:i.min_follow_count,y=u.size>=v?_:g,k=i.show_user_search?m.createElement(T.a,{style:[V.contentArea,mo.searchContainer]},m.createElement(pa.c,{filter:ho,onItemClick:this._handleSearchSuggestionSelected,placeholder:i.hint,rounded:!0,shouldAutoFocus:!0,shouldClearOnSelect:!0,source:fa.d.WelcomeFlow})):null;return m.createElement(A.a,{history:t,location:n,onBackClick:a,rightControl:y},m.createElement(T.a,null,m.createElement(T.a,{style:mo.main},i.primary_text?m.createElement(S,s()({},i.primary_text,{nativeID:b.e,onNavigate:r,size:"xLarge",style:V.headline,subtaskInputs:o,weight:"bold"})):null,i.secondary_text?m.createElement(S,s()({},i.secondary_text,{onNavigate:r,size:"normal",style:V.subHeader,subtaskInputs:o,weight:"bold"})):null),k,m.createElement(T.a,null,m.createElement(lo,{followButtonType:i.follow_button_type,followedUserIds:u,onFollow:this._handleOnFollowsSelected,onSearchUserRemove:this._handleSearchUserRemoved,onUnfollow:this._handleOnUnfollowsSelected,selectedSearchHeader:i.custom_recommendations_header&&i.custom_recommendations_header.text||void 0,selectedSearchUsers:c,userGroups:i.groups}))),this.props.errorDialog)},t}(m.Component),mo=U.a.create((function(e){return{secondaryText:{marginBottom:e.spaces.small},main:{marginHorizontal:e.spaces.medium},searchContainer:{marginBottom:e.spaces.small,zIndex:1}}})),bo=n("Qwev"),go=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this._timer&&clearTimeout(this._timer)},n.componentDidMount=function(){var e=this.props,t=e.subtask,n=e.onNavigate;this._timer=setTimeout((function(){n(t.next_link,!0)}),t.wait_time_ms)},n.render=function(){var e=this.props,t=e.history,n=e.location;return m.createElement(A.a,{history:t,location:n},m.createElement(T.a,{style:vo.indicator},m.createElement(bo.a,null)))},t}(m.Component),vo=U.a.create((function(e){return{indicator:{display:"flex",flex:1,justifyContent:"center"}}})),yo={page:"onboarding"},ko=ht.a.c20aaf3d,wo=ht.a.a219e217,Co=function(e){function t(t){var n;return n=e.call(this,t)||this,_()(d()(n),"_handleBackAttempt",(function(e,t){var a=n.props.currentSubtask,r=!a||!a.subtask_back_navigation||a.subtask_back_navigation!==w.n.Disallow,i=!n.currentPreviousNavigableSubtaskId&&n._onFirstTaskSinceStart&&r;return!("POP"===t&&!i)||(n.currentPreviousNavigableSubtaskId&&r&&n._navigateToPreviousSubtask(),!1)})),_()(d()(n),"_sendGaOnboardingEvent",(function(e){(0,n.props.googleAnalyticsSendEvent)("signup",e,"new-user")})),_()(d()(n),"_startFlow",(function(e){var t=e.countryCode,a=e.debugOverrides,r=e.inputFlowData,i=e.location,o=e.startFlow,s=e.startLocation,l=e.targetUserId,c=e.testCountryCode,u=e.flowName,d=e.createLocalApiErrorHandler,p=i.state||{},h=p.fromApp,f=p.gatedAction,_=Object.keys(s||{}).length?{start_location:s}:{start_location:{location:h?"unknown":"manual_link"}},m={flow_context:Object.assign({debug_overrides:a,gated_action:f},_)},b=Object.assign({},r,{country_code:t||r.country_code,target_user_id:l||r.target_user_id},m);"signup"===u&&n._sendGaOnboardingEvent("signup-clicked"),n._onFirstTaskSinceStart=!0,o({flow_name:u,input_flow_data:b,subtask_versions:k.a,test_country_code:c}).catch(d(Tt(u,null,n._displayFailureMessage)))})),_()(d()(n),"_handleFlowRestart",(function(){n._startFlow(n.props)})),_()(d()(n),"_handleDeepLink",(function(e){var t=n.props.history;if(e){var a=Object(na.a)(e);a&&t.replace(a)}})),_()(d()(n),"_handleAbortFlow",(function(e){var t=n.props,a=t.clearFlow,r=t.currentSubtask,i=t.location,o=t.history,s=t.onAbort,l=t.returnPath;a({clearPersistence:!0});var c=r&&Object(k.f)(r);s?s():l?o.replace({pathname:l,query:{flow_status:e}}):c===w.p.OpenHomeTimeline?o.replace("/home"):(n._unblockHistory&&n._unblockHistory(),Object(ur.a)({},{location:i})?o.goBack():o.replace("/home"))})),_()(d()(n),"_displayFailureMessage",(function(e){n.setState({alertFailureMessage:e})})),_()(d()(n),"_submitFlow",(function(e){var t=(void 0===e?{}:e).isTaskNavigation,a=n.props,r=a.flowName,i=a.submitFlow,o=a.createLocalApiErrorHandler;return i({isTaskNavigation:t}).then((function(e){return n._onFirstTaskSinceStart=!1,e}),(function(e){var t=n.props,a=t.failureMessage,i=t.shouldAbort;return o(Tt(r,a,i?n._displayFailureMessage:void 0))(e)}))})),_()(d()(n),"_handleNavigate",(function(e,t){void 0===t&&(t=!1);var a=n.props,r=a.navigateSubtask,i=a.submitFlow,o=e.is_destructive,s=e.subtask_id,l=e.subtask_navigation_context;switch(e.suppress_client_events||n._scribeSubtaskNavigate(e),e.link_type){case w.i.Abort:i().catch(O.a),n._handleAbortFlow();break;case w.i.Subtask:r({subtaskId:s,navigationContext:l,destructive:o,fromHiddenSubtask:t});break;case w.i.Finish:case w.i.Task:n._submitFlow({isTaskNavigation:!0});break;case w.i.Deeplink:n._submitFlow(),n._handleDeepLink(e.url);break;case w.i.DeeplinkAndAbort:i().catch(O.a),n._handleDeepLink(e.url);break;case w.i.WeblinkAndAbort:i().catch(O.a),window.open(e.url,"_blank"),n._handleAbortFlow();break;case w.i.Web:mt.b.navigateTo(e.url);break;case w.i.ChromelessWeb:window.open(e.url,"_blank");break;case w.i.DeeplinkInPlace:break;default:Object(fe.a)("Unknown Navigation Link Type "+e.link_type),n._handleAbortFlow()}})),_()(d()(n),"_scribeSubtaskNavigate",(function(e){var t=n.props,a=t.currentSubtask,r=t.scribeAction,i=t.flowToken;if(a&&a.subtask_id){var o=e.link_id;r(Object.assign({},yo,{element:"link",action:"click"}),{items:[{token:i,name:a.subtask_id,description:o}]})}})),_()(d()(n),"_navigateToSubtask",(function(e){return function(){n._handleNavigate({link_id:"",link_type:w.i.Subtask,subtask_id:e})}})),_()(d()(n),"_endFlowSubtaskAction",(function(e,t){var a=n.props.submitFlow;switch(t){case w.i.Abort:a().catch(O.a).then((function(){return n._handleAbortFlow(e)}));break;case w.i.Finish:n._submitFlow().then((function(){return n._handleAbortFlow(e)}));break;default:Object(fe.a)("Unknown End Flow Type "+t),n._handleAbortFlow()}})),_()(d()(n),"_render",(function(){var e=n.props,t=e.currentSubtask,a=e.previousNavigableSubtaskId,r=e.subtasks.find((function(e){return e.subtask_id===a}));return t?t.alert_dialog||t.menu_dialog?m.createElement(m.Fragment,null,n._renderSubtask(t),r&&n._renderSubtask(r)):n._renderSubtask(t):null})),_()(d()(n),"_renderDefault",(function(){var e=n.props,t=e.currentSubtask,a=e.flowToken,r=e.history,i=e.location,o=e.subtasks.map((function(e){return m.createElement(C.c,{key:e.subtask_id,onClick:n._navigateToSubtask(e.subtask_id)},e.subtask_id)}));return m.createElement(A.a,{history:r,location:i},m.createElement(T.a,{style:{margin:5}},m.createElement(C.c,null,a),m.createElement(C.c,null,"Current Subtask: "+(t?t.subtask_id:"")),o))})),_()(d()(n),"_handleAbortFlowOnConfirm",(function(){n._handleAbortFlow()})),_()(d()(n),"_onNoopInvisibleSubtask",(function(){return Promise.resolve()})),_()(d()(n),"_navigateToPreviousSubtask",(function(){var e=n.props;(0,e.navigateSubtask)({subtaskId:e.previousNavigableSubtaskId,destructive:!0})})),_()(d()(n),"_renderErrorDialog",(function(){var e=n.props,t=e.failureMessage,a=e.history,r=e.location;return m.createElement(A.a,{hideBackButton:!0,history:a,location:r},m.createElement(g.a,{confirmButtonLabel:wo,headline:ko,onConfirm:n._handleAbortFlowOnConfirm,text:t||At,withCancelButton:!1}))})),_()(d()(n),"_renderSubtask",(function(e){var t=n.props,a=t.addToast,r=t.fetchTemporaryPassword,i=t.flowName,o=t.flowToken,l=t.history,c=t.location,u=t.previousNavigableSubtaskId,d=t.removeContacts,p=t.shouldAbort,h=t.submitFailed,f=t.subtaskInputs,_=t.updateFlow,b=e.subtask_id,v=e.progress_indication,y=p?m.createElement(g.a,{confirmButtonLabel:wo,headline:ko,onConfirm:n._handleAbortFlowOnConfirm,text:n.state.alertFailureMessage,withCancelButton:!1}):null,k={onNavigate:n._handleNavigate,subtaskId:b,updateFlow:_},w=u?{onBackClick:n._getBackNavigation(e)}:{};if(e.end_flow)return n._endFlowSubtaskAction(e.end_flow.status,e.end_flow.end_flow_type),n._renderDefault();if(e.fetch_temporary_password)return m.createElement(aa,{navigationLink:e.fetch_temporary_password.next_link,onNavigate:n._handleNavigate,subtaskAction:n._handleInvisibleSubtask(b,e.fetch_temporary_password,r),subtaskId:b});if(e.cta)return m.createElement(L,s()({errorDialog:y,history:l,location:c,subtask:e.cta,subtaskInputs:f},k,w));if(e.app_download_cta)return m.createElement(N,s()({errorDialog:y,history:l,location:c,subtask:e.app_download_cta,subtaskInputs:f},k,w));if(e.alert_dialog)return m.createElement(x,s()({history:l,subtask:e.alert_dialog,subtaskInputs:f},k,w));if(e.alert_dialog_suppress_client_events)return m.createElement(x,s()({history:l,subtask:e.alert_dialog_suppress_client_events,subtaskInputs:f},k,w));if(e.menu_dialog)return m.createElement(ya,s()({subtask:e.menu_dialog,subtaskInputs:f},k));if(e.open_account){var C=e.open_account;return n._sendGaOnboardingEvent("account-create"),m.createElement(aa,{navigationLink:C.next_link,onNavigate:n._handleNavigate,subtaskAction:n._openAccountAction,subtaskId:b})}return e.sign_up?m.createElement(qr,s()({history:l,location:c,subtask:e.sign_up,subtaskInputs:f},k)):e.sign_up_review?m.createElement(Xr,s()({errorDialog:y,history:l,location:c,progressIndication:v,subtask:e.sign_up_review,subtaskInputs:f},k,w)):e.phone_verification?m.createElement(Ua,s()({errorDialog:y,flowName:i,history:l,location:c,submitFailed:h,subtask:e.phone_verification,subtaskInputs:f},k,w)):e.recaptcha?m.createElement(qn,s()({errorDialog:y,history:l,location:c,subtask:e.recaptcha,subtaskInputs:f},k,w)):e.privacy_options?m.createElement(za,s()({subtask:e.privacy_options,subtaskInputs:f},k)):e.interest_picker?m.createElement(ga,s()({errorDialog:y,history:l,location:c,subtask:e.interest_picker,subtaskInputs:f},k)):e.topics_selector?m.createElement(Ai,s()({errorDialog:y,history:l,location:c,subtask:e.topics_selector,subtaskInputs:f},k)):e.notifications_permission_prompt?m.createElement(Oa,s()({history:l,location:c,subtask:e.notifications_permission_prompt,subtaskInputs:f},k)):e.open_home_timeline?("signup"===i&&n._sendGaOnboardingEvent("complete-NUX"),m.createElement(aa,{navigationLink:e.open_home_timeline.next_link,onNavigate:n._handleNavigate,subtaskAction:n._onNoopInvisibleSubtask,subtaskId:b})):e.open_link?m.createElement(Ra,{flowName:i,onNavigate:n._handleNavigate,subtask:e.open_link,subtaskId:b}):e.upload_media?m.createElement(ji,{flowToken:o,onNavigate:n._handleNavigate,subtask:e.upload_media,subtaskId:b}):e.user_recommendations_list?m.createElement(_o,s()({errorDialog:y,history:l,location:c,subtask:e.user_recommendations_list,subtaskInputs:f},k,w)):e.user_recommendations_urt?m.createElement(Xi,s()({errorDialog:y,flowToken:o,history:l,location:c,subtask:e.user_recommendations_urt,subtaskInputs:f},k,w)):e.update_users?m.createElement(aa,{navigationLink:e.update_users.next_link,onNavigate:n._handleNavigate,subtaskAction:n._handleInvisibleSubtask(b,e.update_users,n._updateUsersAction),subtaskId:b}):e.enter_password?m.createElement(Dn,s()({errorDialog:y,history:l,location:c,subtask:e.enter_password,subtaskInputs:f},k)):e.settings_list?m.createElement(yr,s()({addToast:a,errorDialog:y,removeContacts:d,subtask:e.settings_list,subtaskInputs:f},k,w)):e.email_contacts_sync?m.createElement(kt,s()({errorDialog:y,history:l,location:c,subtask:e.email_contacts_sync,subtaskInputs:f},k,w)):e.select_avatar?m.createElement(er,s()({errorDialog:y,history:l,location:c,subtask:e.select_avatar,subtaskInputs:f},k,w)):e.select_banner?m.createElement(cr,s()({errorDialog:y,history:l,location:c,subtask:e.select_banner,subtaskInputs:f},k,w)):e.enter_text?m.createElement(Gn,s()({errorDialog:y,history:l,location:c,subtask:e.enter_text,subtaskInputs:f},k,w)):e.email_verification?m.createElement(Nt,s()({errorDialog:y,flowName:i,history:l,location:c,submitFailed:h,subtask:e.email_verification,subtaskInputs:f},k,w)):e.enter_username?m.createElement(ta,s()({errorDialog:y,history:l,location:c,subtask:e.enter_username,subtaskInputs:f},k,w)):e.enter_email?m.createElement(bn,s()({errorDialog:y,history:l,location:c,subtask:e.enter_email,subtaskInputs:f},k,w)):e.enter_phone?m.createElement(Vn,s()({errorDialog:y,history:l,location:c,subtask:e.enter_phone,subtaskInputs:f},k,w)):e.choice_selection?m.createElement(G,s()({history:l,location:c,subtask:e.choice_selection,subtaskInputs:f},k,w)):e.contacts_live_sync_permission_prompt?m.createElement(be,s()({history:l,location:c,subtask:e.contacts_live_sync_permission_prompt,subtaskInputs:f},k,w)):e.wait_spinner?m.createElement(go,{history:l,location:c,onNavigate:n._handleNavigate,subtask:e.wait_spinner,subtaskId:b}):n._renderDefault()})),_()(d()(n),"_getBackNavigation",(function(e){var t=e.subtask_back_navigation;return t&&t!==w.n.Allow?void 0:n._navigateToPreviousSubtask})),_()(d()(n),"_scribeSubtaskView",(function(){var e=n.props,t=e.currentSubtask,a=e.scribeAction,r=e.flowToken;t&&t.subtask_id&&!Object(k.i)(t)&&a(Object.assign({},yo,{element:"view",action:"impression"}),{items:[{token:r,name:t.subtask_id}]})})),_()(d()(n),"_openAccountAction",(function(){var e=n.props,t=e.logNymizerSignup,a=e.scribeAction,r=e.verifyCredentials,i=Object(Ta.d)()||{},o=i.encryptedReferer,s=i.encryptedReferralDetails;return r().then((function(){t(),n._maybeScribeAppInstallBanner(),a({page:"signup",action:"success"},{referer:o,external_referer:s})}))})),_()(d()(n),"_updateUsersAction",(function(e,t){var a=n.props,r=a.createLocalApiErrorHandler,i=a.fetchUsers,o=null==t?void 0:t.users;o&&o.length&&i(o.map((function(e){return e.id_str}))).catch(r({showToast:!0}))})),_()(d()(n),"_maybeScribeAppInstallBanner",(function(){var e=n.props.scribeAction;F.a.hasPromptWaiting()&&e({page:"signup",component:"install_banner",action:"waiting"})})),n.state={alertFailureMessage:""},n}h()(t,e);var n=t.prototype;return n.UNSAFE_componentWillReceiveProps=function(e){this.props.flowName!==e.flowName&&this._startFlow(e)},n.componentDidUpdate=function(e){var t=e.currentSubtask,n=this.props.currentSubtask,a=t&&t.subtask_id;n&&n.subtask_id!==a&&this._scribeSubtaskView()},n.UNSAFE_componentWillMount=function(){this._startFlow(this.props)},n.componentDidMount=function(){var e=this.props,t=e.googleAnalyticsPageView,n=e.history;(0,e.scribePageImpression)(yo),t(yo),this._unblockHistory=n.block(this._handleBackAttempt)},n.componentWillUnmount=function(){this._unblockHistory&&this._unblockHistory(),this.props.clearFlow()},n.render=function(){var e=this.props,t=e.currentSubtask;e.shouldEndFlow&&this._handleAbortFlow();var n=this.props.fetchStatus;return n===ut.a.FAILED||t||(n=ut.a.LOADING),m.createElement(T.a,{style:Eo.root},m.createElement(dt.a,{fetchStatus:n,onRequestRetry:this._handleFlowRestart,render:this._render,renderFailure:this._renderErrorDialog,retryable:!this.props.shouldAbort}))},n._handleInvisibleSubtask=function(e,t,n){return function(){return new Promise((function(a,r){a(n(e,t))}))}},c()(t,[{key:"currentPreviousNavigableSubtaskId",get:function(){return this.props.previousNavigableSubtaskId}}]),t}(m.Component);_()(Co,"defaultProps",{inputFlowData:{}});var Eo=U.a.create((function(e){return{root:{backgroundColor:e.colors.cellBackground,flexGrow:1,flexShrink:1}}}));t.default=Object(de.c)(yo)(ue(Co))},"i+/A":function(e,t,n){"use strict";(function(t,a){var r=n("JfD+").Buffer,i=t.crypto||t.msCrypto;i&&i.getRandomValues?e.exports=function(e,t){if(e>4294967295)throw new RangeError("requested too many random bytes");var n=r.allocUnsafe(e);if(e>0)if(e>65536)for(var o=0;o<e;o+=65536)i.getRandomValues(n.slice(o,o+65536));else i.getRandomValues(n);if("function"==typeof t)return a.nextTick((function(){t(null,n)}));return n}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this,n("fRV1"),n("F63i"))},nS1w:function(e,t,n){"use strict";n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"e",(function(){return b}));n("LW0h"),n("z84I"),n("wFPu"),n("+KXO");var a,r=n("3XMw"),i=n.n(r),o=n("mtvn"),s=((a={})[1]={label:i.a.hac89abf,numDays:31},a[2]={label:i.a.ef30b309,numDays:28,numDaysLeapYear:29},a[3]={label:i.a.b56920fa,numDays:31},a[4]={label:i.a.b1a0f1ec,numDays:30},a[5]={label:i.a.daf779c8,numDays:31},a[6]={label:i.a.c6ad074d,numDays:30},a[7]={label:i.a.f1db106b,numDays:31},a[8]={label:i.a.i4e80b7a,numDays:31},a[9]={label:i.a.efa6cc1d,numDays:30},a[10]={label:i.a.f40a0cbe,numDays:31},a[11]={label:i.a.ac74a31c,numDays:30},a[12]={label:i.a.i6c1e4b2,numDays:31},a),l=function(e){return{label:""+e,value:""+e}},c=Object(o.a)(1,29).map(l),u=Object(o.a)(1,30).map(l),d=Object(o.a)(1,31).map(l),p=Object(o.a)(1,32).map(l),h=function(){return Object.keys(s).map((function(e){return{label:s[e].label,value:e}}))},f=function(e,t,n,a){void 0===e&&(e=1);var r=t||new Date(Date.now()).getFullYear();return Object(o.a)(e,r+1).reverse().filter((function(e){return 2===a&&29===n?_(e):e})).map(l)},_=function(e){return 1===new Date(e,1,29).getMonth()},m=function(e,t){if(!e)return p;switch(2===e&&(!t||t&&_(t))?s[e].numDaysLeapYear:s[e].numDays){case 28:return c;case 29:return u;case 30:return d;case 31:default:return p}},b=function(e,t,n){return"number"==typeof e&&"number"==typeof t&&"number"==typeof n?n+"-"+(t<10?"0"+t:""+t)+"-"+(e<10?"0"+e:""+e):""};t.a={getFormattedDateValue:b}},yuM6:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var a=n("W/Kd"),r=n.n(a),i=n("ERkP"),o=n("6/RC"),s=function(e){function t(){return e.apply(this,arguments)||this}r()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.location.query,t=e.code,n=e.error,a=e.scope,r=e.state,i={callback_url:"https://"+window.location.hostname+window.location.pathname,code:t,error:n,scope:a,state:r},s=o.canUseDOM&&window.opener;s?(s.postMessage(i,"https://"+window.location.hostname),window.close(),s.focus()):this.props.history.push("/")},n.render=function(){return null},t}(i.Component)}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/web_legacy/bundle.Ocf.20618554.js.map