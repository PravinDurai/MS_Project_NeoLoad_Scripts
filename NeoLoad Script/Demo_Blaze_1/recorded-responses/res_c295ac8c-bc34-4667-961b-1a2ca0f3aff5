(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{BUB3:function(e,t,n){"use strict";n("IAdD");var r=n("LdEA"),a=n.n(r),o=n("ERkP"),i=n("sNn6"),c=n("rHpw"),l=n("3xO4"),s=n.n(l),m=c.a.create((function(e){return{activeRoot:{backgroundColor:e.colors.faintGray},overlay:Object.assign({},c.a.absoluteFillObject,{borderRightStyle:"solid",borderRightWidth:e.borderWidths.medium,borderRightColor:e.colors.primary,zIndex:1})}}));t.a=function(e){var t=e.children,n=a()(e,["children"]);return o.createElement(i.a,n,(function(e){return o.createElement(s.a,{style:[e&&m.activeRoot]},"function"==typeof t?t(e):t,e?o.createElement(s.a,{pointerEvents:"none",style:m.overlay}):null)}))}},DghG:function(e,t,n){"use strict";n.r(t),n.d(t,"UserMomentsScreen",(function(){return j}));var r=n("1Pcy"),a=n.n(r),o=n("W/Kd"),i=n.n(o),c=n("KEM+"),l=n.n(c),s=n("ERkP"),m=n("es0u"),d=(n("KqXw"),n("WNMA"),n("RqPI")),u=n("oEGd"),p=n("0KEI"),h=n("hqKg"),f=n("Fg8X"),v=n("G6rE"),b=function(e,t){return t.match.params.screenName},g=Object(h.createSelector)(b,(function(e,t){var n=b(0,t);return v.e.selectByScreenName(e,n)}),d.g,(function(e,t,n){return{screenName:e,user:t,userId:null==t?void 0:t.id_str,loggedInUserId:n}})),E={createLocalApiErrorHandler:Object(p.d)("USER_MOMENTS"),createMoment:f.a.create,fetchOneUserByScreenNameIfNeeded:v.e.fetchOneByScreenNameIfNeeded},y=Object(u.g)(g,E),I=n("7JQg"),_=n("c+OQ"),w=n("7wqI"),M=n("3XMw"),x=n.n(M),C=n("8jkQ"),S=n("yoO3"),O=n("zCf4"),k=n("VS6U"),A=(n("AxOO"),n("aITJ")),T=n("gbni"),R=n("yrzJ"),L=(n("aWzz"),x.a.b4af8c6a),j=function(e){function t(t){var n;return n=e.call(this,t)||this,l()(a()(n),"_renderTimeline",(function(){var e=n.props,t=e.screenName,r=e.userId,a=n._isOwnMoments();return s.createElement(T.a,{isOwnMoments:a,screenName:t,userId:r,withAuthorControls:!1})})),l()(a()(n),"_handleFetchUser",(function(){var e=n.props,t=e.createLocalApiErrorHandler;(0,e.fetchOneUserByScreenNameIfNeeded)(e.screenName).catch(t())})),l()(a()(n),"_handleCreateMoment",(function(){var e=n.props,t=e.createLocalApiErrorHandler;(0,e.createMoment)().then((function(e){e&&e.id&&C.b.navigateTo("https://twitter.com/i/moments/edit/"+e.id)}),t({showToast:!0}))})),n._createMomentEnabled=A.a.isDesktopOS(),n}i()(t,e);var n=t.prototype;return n.componentDidMount=function(){this._handleFetchUser()},n.render=function(){var e=this.props,t=e.history,n=e.location,r=e.screenName,a=e.user,o=!a||a&&Object(w.b)({isOwnProfile:this._isOwnMoments(),user:a}),i=this._createMomentEnabled&&this._isOwnMoments()?s.createElement(_.a,{onPress:this._handleCreateMoment}):void 0;return o?s.createElement(S.a,null,s.createElement(k.a,{backLocation:"/"+r,history:t,location:n,primaryContent:this._renderTimeline(),rightControl:i,sidebarContent:s.createElement(m.a,null),subtitle:s.createElement(R.a,{screenName:r}),title:L})):s.createElement(O.a,{to:"/"+r})},n._isOwnMoments=function(){var e=this.props,t=e.userId,n=e.loggedInUserId;return!!n&&t===n},t}(s.Component);t.default=Object(I.c)({page:"profile",section:"moments"})(y(j))},MREw:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));n("2G9S");var r=n("1Pcy"),a=n.n(r),o=n("W/Kd"),i=n.n(o),c=n("KEM+"),l=n.n(c),s=n("ERkP"),m=n("U9kc"),d=n("apAj"),u=n("Uwiv"),p=n.n(u),h=n("/aF9"),f=n.n(h),v=n("NNEa"),b=n.n(v),g=n("3xO4"),E=n.n(g),y=n("/yvb"),I=n("rHpw"),_=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,l()(a()(t),"_renderMenu",(function(e){var n=t.props,r=n.author,a=n.momentId,o=n.redirectOnDelete,i=n.title;return s.createElement(d.a,{author:r,id:a,onClose:e,redirectOnDelete:o,title:i,type:m.b.OVERFLOW})})),l()(a()(t),"_getIcons",(function(){var e=t.props.withGrayIcons&&w.colorDeepGray;return{editIcon:s.createElement(b.a,{style:e}),linkIcon:s.createElement(p.a,{style:e}),moreStrokeIcon:s.createElement(f.a,{style:e})}})),t}return i()(t,e),t.prototype.render=function(){var e=this.props,t=e.eventId,n=e.momentId,r=e.size,a=this._getIcons(),o=a.editIcon,i=a.linkIcon,c=a.moreStrokeIcon;return s.createElement(E.a,{style:w.buttonContainer},s.createElement(y.a,{icon:o,link:"/i/moment_maker/edit/"+n,pullRight:!0,size:r,style:w.button,type:"text"}),s.createElement(y.a,{icon:i,link:"/i/events/"+(t||n),pullRight:!0,size:r,style:[w.button,w.buttonExtraSpace],type:"text"}),s.createElement(y.a,{icon:c,pullRight:!0,renderMenu:this._renderMenu,size:r,style:[w.button,w.buttonExtraSpace],type:"text"}))},t}(s.Component);l()(_,"defaultProps",{size:"normal"});var w=I.a.create((function(e){return{buttonContainer:{flexDirection:"row"},button:{marginRight:e.spaces.xxSmall},buttonExtraSpace:{marginStart:e.spaces.xSmall},colorDeepGray:{color:e.colors.deepGray}}}))},gbni:function(e,t,n){"use strict";n.d(t,"a",(function(){return fe}));n("2G9S");var r,a,o,i=n("1Pcy"),c=n.n(i),l=n("W/Kd"),s=n.n(l),m=n("KEM+"),d=n.n(m),u=n("ERkP"),p=n("R972"),h=n("PnFR"),f=n("8UdT"),v=(n("1t7P"),n("jQ/y"),n("IAdD"),n("Blm6"),n("VPAj")),b=n("0KEI"),g=n("zlxh"),E=n("lPpt"),y=n("Fg8X"),I=(n("uFXj"),n("FwvS")),_=n("0mK8"),w=n("BUB3"),M=n("3XMw"),x=n.n(M),C=n("MREw"),S=n("zOwA"),O=n("3xO4"),k=n.n(O),A=n("htQn"),T=n("t62R"),R=n("GBcw"),L=n("TIdA"),j=n("A91F"),D=n("9Xij"),N=n("rHpw"),z=n("29/U"),P=x.a.ca15dd4d,U=x.a.cc8f8a8f,G=x.a.c33a97d6,H=x.a.d8d73100,B=x.a.ecb27dc6,F=x.a.jc1c857a,W=x.a.bb40bf65,K=((r={})[z.c.private]="red",r[z.c.public]="green",r[z.c.unlisted]="deepGray",r),V=((a={})[z.c.private]=P,a[z.c.public]=G,a[z.c.unlisted]=U,a),Q=((o={})[z.a.CurationStudio]=H,o[z.a.MomentMakerPro]=B,o[z.a.MomentMakerLite]=void 0,o[z.a.MomentMakerMobile]=void 0,o),X=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,d()(c()(t),"_renderViewerMomentSummary",(function(){var e=t.props,n=e.author,r=e.category,a=e.contextImage,o=e.contextLabel,i=e.onClick,c=e.lastPublishedTime,l=e.totalLikes,s=e.visibilityMode;return u.createElement(A.a,{link:t._getLinkToMoment(),onClick:i,style:[J.root,J.flexDirectionRow]},u.createElement(k.a,{style:J.details},u.createElement(k.a,{style:J.aboveTitle},n?u.createElement(_.a,{author:n,size:"small"}):u.createElement(T.c,{color:"deepGray",size:"small"},r),c?u.createElement(_.d,null):null,c?u.createElement(T.c,{size:"small"},u.createElement(R.a,{timestamp:c})):null),t._renderTitle(),s!==z.c.public?t._renderVisibilityLabel(s):null,a&&o?u.createElement(S.a,{image:a,label:o,textSize:"small"}):u.createElement(T.c,{size:"small"},u.createElement(_.c,{totalLikes:l||0}))),t._renderCoverImage())})),d()(c()(t),"_renderAuthorMomentSummary",(function(){var e=t._getLinkToPreview(),n={pathname:e,anchorless:!0};return u.createElement(w.a,{exact:!1,path:e},t._renderAuthorMomentSummaryContent(n))})),d()(c()(t),"_renderAuthorMomentSummaryContent",(function(e){return function(n){var r=t.props,a=r.creationSource,o=r.description,i=r.onClick,c=r.lastModifiedTime,l=r.lastPublishedTime,s=r.visibilityMode,m=a&&Q[a];return u.createElement(A.a,{accessibilityRole:"tab",accessibilityState:{selected:n},link:e,onClick:i,style:J.root},u.createElement(k.a,{style:J.flexDirectionRow},u.createElement(k.a,{style:J.topText},t._renderTitle(),o?u.createElement(T.c,{color:"deepGray",numberOfLines:3,size:"normal",style:J.description,withHashflags:!0},o):null),t._renderCoverImage()),u.createElement(k.a,{style:J.bottomContainer},u.createElement(k.a,null,u.createElement(k.a,{style:J.flexDirectionRow},t._renderVisibilityLabel(s),s&&m?u.createElement(_.d,null):null,m?u.createElement(T.c,{color:"deepGray"},m):null),c?t._renderTime(F,c):null,l&&s!==z.c.private?t._renderTime(W,l):null),t._renderButtons()))}})),d()(c()(t),"_renderTitle",(function(){var e=t.props,n=e.title;return e.withAuthorControls?u.createElement(T.c,{numberOfLines:2,size:"large",weight:"heavy",withHashflags:!0},n):u.createElement(T.c,{style:J.title,weight:"bold",withHashflags:!0},n)})),d()(c()(t),"_renderCoverImage",(function(){var e=t.props.coverMedia,n=e&&I.c(e);return u.createElement(k.a,{style:J.coverContainer},n&&e?u.createElement(L.a,{accessibilityLabel:"",aspectMode:j.a.SQUARE,backgroundColor:I.a(e),cropCandidates:I.b(e),image:n}):u.createElement(D.a,{ratio:1},u.createElement(_.e,{icon:"lightning"})),e?u.createElement(_.b,{style:J.lightningBadge}):null)})),d()(c()(t),"_renderButtons",(function(){var e=t.props,n=e.associatedEventId,r=e.author,a=e.momentId,o=e.title;return u.createElement(k.a,{style:J.buttonContainer},u.createElement(C.a,{author:r,eventId:n,momentId:a,size:"small",title:o,withGrayIcons:!0}))})),d()(c()(t),"_renderVisibilityLabel",(function(e){var t=e?K[e]:null,n=e?V[e]:null;return t&&n?u.createElement(T.c,{color:t,weight:"bold"},n):null})),d()(c()(t),"_renderTime",(function(e,t){return u.createElement(k.a,{style:J.flexDirectionRow},u.createElement(T.c,{color:"deepGray",size:"small"},e),u.createElement(_.d,null),u.createElement(T.c,{color:"deepGray",size:"small"},u.createElement(R.a,{humanReadable:!0,timestamp:t})))})),d()(c()(t),"_handleFetch",(function(){var e=t.props,n=e.associatedEventId,r=e.createLocalApiErrorHandler,a=e.fetchEvent,o=e.withAuthorControls;n&&o&&a(n).catch(r())})),d()(c()(t),"_getLinkToMoment",(function(){return"/i/events/"+t.props.momentId})),d()(c()(t),"_getLinkToPreview",(function(){return"/i/moment_maker/preview/"+t.props.momentId})),t}s()(t,e);var n=t.prototype;return n.componentDidMount=function(){this._handleFetch()},n.render=function(){return this.props.withAuthorControls?this._renderAuthorMomentSummary():this._renderViewerMomentSummary()},t}(u.Component),J=N.a.create((function(e){return{root:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical,justifyContent:"space-between"},flexDirectionRow:{flexDirection:"row"},aboveTitle:{alignItems:"center",flexDirection:"row"},coverContainer:{backgroundColor:e.colors.lightGray,borderRadius:e.borderRadii.large,height:"15%",maxHeight:"100px",maxWidth:"100px",minHeight:"70px",minWidth:"70px",overflow:"hidden",width:"15%"},coverMedia:{height:"100%",width:"100%"},lightningBadge:{bottom:e.spaces.xSmall,left:e.spaces.xSmall},topText:{justifyContent:"flex-start",maxWidth:"calc(100% - 70px)",minWidth:"calc(100% - 100px)",paddingRight:e.spaces.small,width:"calc(100% - 15%)"},details:{flex:1,marginRight:e.spaces.xSmall},title:{marginVertical:e.spaces.micro},description:{marginBottom:e.spaces.small,marginTop:e.spaces.xxSmall},visibility:{alignItems:"flex-start"},bottomContainer:{flexDirection:"row",alignItems:"flex-end",justifyContent:"space-between"},timestamp:{marginTop:e.spaces.xxSmall},buttonContainer:{marginTop:e.spaces.small}}})),q=n("zh9S"),Y=n("Rp9C"),Z=n("RqPI"),$=function(e){var t=e.errorContext;return Object(v.a)({createLocalApiErrorHandler:Object(b.d)(t),fetchEvent:E.a.fetchOneIfNeeded,scribe:q.c})},ee=function(e){var t=e.entry;return{associatedEvent:function(e){var n=y.a.select(e,t.content.momentId),r=null==n?void 0:n.associated_event_id;return r?E.a.select(e,r):void 0},author:function(e){return y.a.selectAuthor(e,t.content.momentId)},isLoggedIn:Z.e,moment:function(e){return y.a.select(e,t.content.momentId)},momentCoverMedia:function(e){return y.a.selectCoverMedia(e,t.content.momentId)}}},te=function(e){var t=e.withAuthorControls;return function(e){var n=e.data,r=n.associatedEvent,a=n.author,o=(n.isLoggedIn,n.moment),i=n.momentCoverMedia,c=e.entry,l=e.actions,s=l.createLocalApiErrorHandler,m=l.fetchEvent,d=l.scribe,u=e.scribeNamespace;if(!o||o.isDeleted)return null;var p=function(e){var t=e.entry,n=e.moment,r=Object.assign({moments_details:{moment_id:n.id,navigation_uri:n.url,visibility:n.visibility_mode}},Y.a.getAllSurfaceDetails(t.itemMetadata.clientEventInfo)),a=t.itemMetadata&&t.itemMetadata.clientEventInfo&&t.itemMetadata.clientEventInfo.details&&t.itemMetadata.clientEventInfo.details.momentsDetails;if(a){var o=a.contextScribeInfo&&a.contextScribeInfo.position;return Object.assign({},r,{moments_details:Object.assign({},r.moments_details,{guide_category_id:a.guideCategoryId,impression_id:a.impressionId}),position:o?parseInt(o,10):void 0})}return r}({entry:c,moment:o}),h=c.content.socialContext,f=(h=void 0===h?{}:h).generalContext,v=o.associated_event_id,b=v&&t;return{associatedEventId:v,author:a,category:o.subcategory_string,coverMedia:b?Object(g.i)(r):i,createLocalApiErrorHandler:s,creationSource:o.creation_source,description:(b?null==r?void 0:r.liveEventDetails.description:o.description)||"",fetchEvent:m,lastModifiedTime:o.last_modified_time,lastPublishedTime:o.last_publish_time,momentId:o.id,onClick:function(){d(Object.assign({},u,{action:"click"}),{items:[p]})},title:(b?null==r?void 0:r.liveEventDetails.title:o.title)||"",totalLikes:o.total_likes,visibilityMode:o.visibility_mode,contextLabel:f&&f.text,contextImage:f&&f.contextImageUrls&&f.contextImageUrls[0],withAuthorControls:t}}},ne=function(e){var t;return(t={})[f.a.TimelineCursor]=h.a,t[f.a.Moment]=function(e){var t=e.withAuthorControls,n=e.errorContext;return p.d(p.f({isFocusable:Object(v.a)(!0),component:X,bindActions:$({errorContext:n}),selectData:ee,createProps:te({withAuthorControls:t})}))}({withAuthorControls:e,errorContext:"USER_MOMENTS_TIMELINE"}),t[f.a.MomentAnnotation]=p.d(p.a()),t},re=n("fTQJ"),ae=n("iUle"),oe=n("FIs5"),ie=n("I7xG"),ce=x.a.fea74b66,le=x.a.e14206c3,se=x.a.d1e5e327,me=x.a.ee75768c,de=x.a.f5978663,ue=x.a.a357d876,pe=function(){return u.createElement(oe.a,{message:ue})},he=function(e,t){return function(){return u.createElement(oe.a,{header:t?le:me({screenName:e}),message:t?se:de})}},fe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,d()(c()(t),"_getModule",Object(ie.a)(c()(t),(function(e){return{userId:e.userId,activeTeamId:e.activeTeamId}}),(function(e){var t=e.userId,n=e.activeTeamId;return Object(ae.a)(t,n)}))),t}return s()(t,e),t.prototype.render=function(){var e=this.props,t=e.isOwnMoments,n=e.screenName,r=e.withAuthorControls;return u.createElement(re.a,{entryConfiguration:ne(r),module:this._getModule(),renderEmptyState:he(n,t),renderUnavailable:pe,title:ce({screenName:n})})},t}(u.Component)}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/web_legacy/bundle.UserMoments.cfbb5cc4.js.map