

  
  
  
  

    
    
    
    
            
        
        
            
        
    





        








    


    
    
        
        
    
    
    
    
    
    

    
    
        

        
        
        
        
            
        
        
        
    
    
        
        
        
        
        
            
        
        
        
    
    
        
            
        
        
        
        
        
        
            
        
        
        
    
    
        
            
        
        
        
        
        
        
            
        
        
        
    
    
        
            
        
        
        
        
        
        
            
        
        
        
    
    
        
            
        
        
        
        
        
        
            
        
        
        
    
    
        
            
        
        
        
        
        
        
            
        
        
        
    
    
        
        
    
    
        
    








        
    
    
    

        

        





    
    
    
    
































    
    
    
    
            
        
        
            
        
        
            
        
        
            
        
        



    
        



    
        
            
        
        
            
        
        
        



    
        
            
        
        
            
        
        
        {"isAcceleratedExperience":false,"apiConfigs":[{"CD":{"baseRetryInterval":4000,"maxRetries":1,"ajaxTimeout":10000}},{"GDM":{"baseRetryInterval":4000,"maxRetries":1,"ajaxTimeout":10000}},{"GDS":{"baseRetryInterval":4000,"maxRetries":0,"ajaxTimeout":10000}},{"GD":{"baseRetryInterval":4000,"maxRetries":1,"ajaxTimeout":10000}},{"WD":{"baseRetryInterval":4000,"maxRetries":0,"ajaxTimeout":10000}}],"images":{"spinner":"https://images-eu.ssl-images-amazon.com/images/G/31/goldbox/spinner._CB485946442_.gif","loading_large":"https://images-eu.ssl-images-amazon.com/images/G/31/ui/loadIndicators/loading-large._CB485945283_.gif","loading":"https://images-eu.ssl-images-amazon.com/images/G/31/x-locale/personalization/shoveler/loading-indicator._CB485936391_.gif","arrow_right":"https://images-eu.ssl-images-amazon.com/images/G/31/goldbox/mshop/arrow_right._CB485935595_.png","prime":"https://images-eu.ssl-images-amazon.com/images/G/31/x-locale/subscriptions/primeclub/prime-check-badge-17._CB485936842_.gif","arrow_left":"https://images-eu.ssl-images-amazon.com/images/G/31/goldbox/mshop/arrow_left._CB485935594_.png","goldbox_upcoming":"https://images-eu.ssl-images-amazon.com/images/G/31/goldbox/gui/upcoming_200x_9._CB485918587_.gif"},"interests":[],"marketingIDs":[{"marketingID":"bookPD17","string":"Book Lovers"},{"marketingID":"sportsPD17","string":"Fitness freaks"},{"marketingID":"homePD17","string":"Home DÃ©cor"},{"marketingID":"kitchenPD17","string":"Home Chefs"},{"marketingID":"techPD17","string":"Gadget gurus"},{"marketingID":"moviePD17","string":"Movie Fans"},{"marketingID":"kidsPD17","string":"Kids"},{"marketingID":"fashionPD17","string":"Fashion Forward"}],"categories":[{"nodeId":"all","category":"All"},{"nodeId":"20505709031","category":"Academic books"},{"nodeId":"10894223031","category":"Amazon Launchpad"},{"nodeId":"5122348031","category":"Appliances"},{"nodeId":"1380375031","category":"Artwork"},{"nodeId":"1571274031","category":"Baby Products"},{"nodeId":"1355016031","category":"Beauty"},{"nodeId":"976389031","category":"Books"},{"nodeId":"5866078031","category":"Business Industrial & Scientific Supplies"},{"nodeId":"1388978031","category":"Camera accessories"},{"nodeId":"1388977031","category":"Cameras & Photography"},{"nodeId":"4772060031","category":"Car & Motorbike Accessories"},{"nodeId":"1380363031","category":"Chimneys-Kitchen"},{"nodeId":"1953148031","category":"Clothing (Baby)"},{"nodeId":"1967851031","category":"Clothing (Boys')"},{"nodeId":"1967936031","category":"Clothing (Girls')"},{"nodeId":"1968024031","category":"Clothing (Men's)"},{"nodeId":"1953602031","category":"Clothing (Women's)"},{"nodeId":"1571271031","category":"Clothing & Accessories"},{"nodeId":"13712257031","category":"Collectibles & Fine Art"},{"nodeId":"1375344031","category":"Computer Components"},{"nodeId":"976392031","category":"Computers & Accessories"},{"nodeId":"1375393031","category":"Data Storage & External Devices"},{"nodeId":"1375392031","category":"Desktops"},{"nodeId":"1389177031","category":"DSLRs"},{"nodeId":"976419031","category":"Electronics"},{"nodeId":"1388867031","category":"Electronics Accessories"},{"nodeId":"57236051","category":"Everything Else"},{"nodeId":"1380441031","category":"Furniture "},{"nodeId":"2454175031","category":"Garden & Outdoors"},{"nodeId":"3704982031","category":"Gift Cards"},{"nodeId":"2454178031","category":"Grocery"},{"nodeId":"1983338031","category":"Handbags"},{"nodeId":"1388921031","category":"Headphones"},{"nodeId":"1350384031","category":"Health & Personal Care"},{"nodeId":"1380374031","category":"Home &amp; Decor"},{"nodeId":"976442031","category":"Home &amp; Kitchen"},{"nodeId":"1389335031","category":"Home Audio & Accessories"},{"nodeId":"1389375031","category":"Home Entertainment Systems"},{"nodeId":"1380442031","category":"Home Furnishing"},{"nodeId":"3704992031","category":"Home Improvement"},{"nodeId":"1380510031","category":"Home Storage & Organization"},{"nodeId":"1374515031","category":"Household Supplies"},{"nodeId":"1380485031","category":"Indoor Lighting"},{"nodeId":"1951048031","category":"Jewellery"},{"nodeId":"5210069031","category":"Jewellery (Precious)"},{"nodeId":"1375412031","category":"Keyboards, Mice & Input Devices"},{"nodeId":"1634753031","category":"Kindle eBooks"},{"nodeId":"5925789031","category":"Kitchen & Dining"},{"nodeId":"1375424031","category":"Laptops"},{"nodeId":"1380263031","category":"Large Appliances"},{"nodeId":"2454169031","category":"Luggage & Bags"},{"nodeId":"5311359031","category":"Luxury Beauty"},{"nodeId":"1389402031","category":"Mobile Accessories"},{"nodeId":"1389432031","category":"Mobiles"},{"nodeId":"976416031","category":"Movies & TV Shows"},{"nodeId":"1389433031","category":"MP3 Players & Accessories"},{"nodeId":"976445031","category":"Music"},{"nodeId":"3677697031","category":"Musical Instruments"},{"nodeId":"1375427031","category":"Networking Devices"},{"nodeId":"2454172031","category":"Office & School Supplies"},{"nodeId":"9574332031","category":"Pantry"},{"nodeId":"1374594031","category":"Personal Care"},{"nodeId":"2454181031","category":"Pet Supplies"},{"nodeId":"1380365031","category":"Refrigerators"},{"nodeId":"1983320031","category":"Shoe Care & Accessories"},{"nodeId":"1983397031","category":"Shoes (Boys')"},{"nodeId":"1983456031","category":"Shoes (Girls')"},{"nodeId":"1983518031","category":"Shoes (Men's)"},{"nodeId":"1983578031","category":"Shoes (Women's)"},{"nodeId":"9840692031","category":"Showers"},{"nodeId":"976451031","category":"Software"},{"nodeId":"1389365031","category":"Speakers"},{"nodeId":"1984443031","category":"Sporting Goods"},{"nodeId":"1389339031","category":"Streaming Media Players"},{"nodeId":"1967862031","category":"Sunglasses (Boys')"},{"nodeId":"1967947031","category":"Sunglasses (Girls')"},{"nodeId":"1968036031","category":"Sunglasses (Men's)"},{"nodeId":"1968401031","category":"Sunglasses (Women's)"},{"nodeId":"1375458031","category":"Tablets"},{"nodeId":"1389396031","category":"Televisions"},{"nodeId":"1350380031","category":"Toys"},{"nodeId":"976460031","category":"Video Games"},{"nodeId":"1350387031","category":"Watches"},{"nodeId":"2563506031","category":"Watches (Kids')"},{"nodeId":"2563504031","category":"Watches (Men's)"},{"nodeId":"2563505031","category":"Watches (Women's)"},{"nodeId":"11599648031","category":"Wearable Devices"},{"nodeId":"PRIME_EARLY_ACCESS","category":"Prime Early Access Deals"}],"urls":{"prime_signup_redirect":"/gp/prime?ie=UTF8&locationId=prime_confirm&primeCampaignId=primeEarlyAccess_goldboxdeals_desktop&redirectURL=L2dwL2RlYWwvYWpheC9mZXRjaFdpZGdldENvbmZpZy5odG1sP2llPVVURjgmY29uZmlnX25hbWU9Z2Itc2hvdmVsZXImbm9jYWNoZT0xNTk2MDQ3NzQ4NTA2&ref=primeEarlyAccess_goldboxdeals_widgetpage","exclusive_access_prime_signup_redirect":"/gp/prime?ie=UTF8&locationId=prime_confirm&primeCampaignId=primeExclusiveLD_goldboxdeals_desktop&redirectURL=L2dwL2RlYWwvYWpheC9mZXRjaFdpZGdldENvbmZpZy5odG1sP2llPVVURjgmY29uZmlnX25hbWU9Z2Itc2hvdmVsZXImbm9jYWNoZT0xNTk2MDQ3NzQ4NTA2&ref=primeExclusiveAccessLD_goldboxdeals_widgetpage","watching_login_redirect":"http://www.amazon.in/gp/sign-in.html?ie=UTF8&path=%2Fgp%2Fdeal%2Fajax%2FwatchDeal.html&query=%3Fie%3DUTF8%26marketplaceID%3D%257BmarketplaceID%257D%26dest%3D%252Fgp%252Fdeal%252Fajax%252FfetchWidgetConfig.html%253Fie%253DUTF8%2526config%255Fname%253Dgb-shoveler%2526nocache%253D1596047748506%26watchAction%3DADD%26dealId%3D%257BdealID%257D&useRedirectOnSuccess=1","login_url":"/gp/sign-in.html?ie=UTF8&path=%2Fgp%2Fdeal%2FclaimDeal.html&query=%3Fie%3DUTF8%26category%3D%257Bcategory%257D%26marketplaceID%3D%257BmarketplaceID%257D%26dest%3D%252Fgp%252Fdeal%252Fajax%252FfetchWidgetConfig.html%253Fie%253DUTF8%2526config%255Fname%253Dgb-shoveler%2526gbld.asin%253D%25257Basin%25257D%2526gbld.category%253D%25257Bcategory%25257D%2526gbld.dealID%253D%25257BdealID%25257D%2526gbld.message%253D%25257Bmessage%25257D%2526gbld.state%253D%25257Bstate%25257D%2526nocache%253D1596047748506%26dealID%3D%257BdealID%257D%26asin%3D%257Basin%257D&useRedirectOnSuccess=1","exclusive_dotd_prime_signup_redirect":"/gp/prime?ie=UTF8&locationId=prime_confirm&primeCampaignId=primeExclusiveDOTD_goldboxdeals_desktop&redirectURL=L2dwL2RlYWwvYWpheC9mZXRjaFdpZGdldENvbmZpZy5odG1sP2llPVVURjgmY29uZmlnX25hbWU9Z2Itc2hvdmVsZXImbm9jYWNoZT0xNTk2MDQ3NzQ4NTA2&ref=primeExclusiveAccessDOTD_goldboxdeals_widgetpage","exclusive_bd_prime_signup_redirect":"/gp/prime?ie=UTF8&locationId=prime_confirm&primeCampaignId=primeMemberPromo_POS_desktop&redirectURL=L2dwL2RlYWwvYWpheC9mZXRjaFdpZGdldENvbmZpZy5odG1sP2llPVVURjgmY29uZmlnX25hbWU9Z2Itc2hvdmVsZXImbm9jYWNoZT0xNTk2MDQ3NzQ4NTA2&ref=primeMemberPromo_POS_detailpage","wishlist_login_redirect":"http://www.amazon.in/gp/sign-in.html?ie=UTF8&path=%2Fgp%2Fmobile%2Fdeals%2Fajax%2FaddToWishListOnLoginRedirect.html&query=%3Fie%3DUTF8%26asin%3D%257Basin%257D&useRedirectOnSuccess=1","app_login_url":"/ap/signin?_encoding=UTF8&openid.assoc_handle=inamazon&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns%2Fpage=http%3A%2F%2Fspecs.openid.net%2Fextensions%2Fpape%2F1.0&openid.pape.max_auth_age=0"},"weblabs":{"gb_ifd_message_ags_in":0,"gb_currency_of_preference":null,"gb_au_enable_rrp":null,"prime_day_badging_2016":0,"gb_language_of_preference":1,"gb_giveaway_deals":null,"gb_sponsored_badge":3},"strings":{"csld-refine_state":"Filtered to","gb_app_early_access":"App Early Access Deals","fiona_digital_price_42515":"Digital List Price:","gb_filter_clear_all":"Clear All","gb-upcoming-deal-of-the-day":"UPCOMING DEAL OF THE DAY","csld-refine":"Filter","gb_previous_page":"Previous","gb_ends_in_zero":"Ends in 00:00","gb_change_selection_see_more":"Change your selection to see more deals.","gb-ships-from-and-sold-by-amazon":"Ships from and sold by Amazon.com.","gb_prime_early_access_deal_caps":"PRIME EARLY ACCESS","csld-refine_clear":"Clear filters","gb_no_active_deals_on_filters":"There are no active deals that match the filters you've applied.","gb_ppu_price":null,"csld-select":"Select","amazon_giveaway":null,"gb_early_access_text_non_prime":"to get 30-minute early access to this deal\n","csld-loading_alt":"Loading...","gb-restrictions-apply":"Restrictions apply","gb_prime_eligible":"Eligible","gb_deal_starts_at":"Deal starts at","gb_ships_from_and_sold_by_x":"Ships from and sold by ${merchant}.","gb_starts_for_prime_at":"Starts at","gb_already_in_wishlist":"Already in Wish List","gb_early_access_text_prime":null,"csld-all_retries_failed":"Error, please try again","gb_no_results_to_show_for":"No results to show for","gb_am":"am","gb_starts_at":"Starts at","gb_get_access_to_this_deal_now_with":"to get this deal. ","gb_prime_deal_of_the_day":"PRIME EXCLUSIVE DEAL","gb_discount_range_start":"Up to ${end}% off","gb_month_2":"March","gb_view_wishlist":"View Wish List","gb_see_options":"Choose options","gb_max_limit_reached":null,"gb_month_11":"December","gb_deal_starts_for_you_in":"Deal starts for you in","gb_download_app":"Download App","gb_ends_in":"Ends in","gb_pc_waitlist_full":"Waitlist full","gbd_minute_separator":"m","gb_deal_in_your_cart":"This deal is in your Cart.","gb_see_all_deals":"See all deals","gb_heavy_traffic_msg":null,"gb_product_details":"Product details","gb_deal_of_the_day":"Deal of the Day","gbd_check_out_in":"Check out in","gbd_members":null,"gb_coupons_left":"Only ${couponsLeft} left","gb_discount_range_end":"${start}% Off or More","gb-is-cod-allowed":"Cash on Delivery available","gb_soldby_x_and_fulfilled_by_amazon":"Sold by ${merchant} and Fulfilled by Amazon.","gb_all_available":"All Available","gb-list":"M.R.P.: ","gb_shovl_pagination_count":"Page ${current} of ${total}","gb_pc_left_to_add_to_cart":"left to add this deal to Cart.","gb_watch_this_deal_failed_retrying":"Failed. Retrying..","gb_pm":"pm","gb_view_ebook_edition":"View the Kindle Edition","gb_next_page":"Next","gb_deal_starts_for_you_at":"Deal starts for you at","gb_early_access_text":"Get early access with ","gb_m_prime_exclusive_deal":"PRIME EXCLUSIVE","gb_starts_for_prime_in":"Starts in","gb_view_deal":"View Deal","gb_giveaway_pc_chance_to_win":null,"gb_month_6":"July","gb_stars_and_up":"& Up","gb_expand_time":"${hours} hours ${minutes} minutes ${seconds} seconds","gb_you_are_on_waitlist":"You are on the Waitlist for this item.","gb_deal_has_ended":"Deal has ended.","gbd-prime-only-access-msg-get":" ","gb_starts_for_you_at":"Starts for all at","gb_month_9":"October","gbd_seconds_separator":"s","giveaway_value":null,"csld-percent_off":" (${discountPercentage}% off)\n","gb_heavy_traffic_retrying_msg":"We are currently experiencing heavy traffic. Retrying..","gb_coupon_deal":"Coupons","gb-added-to-cart":"Added to Cart","gbd_hour_separator":"h","gb_early_access_deal":null,"gb_prime_only_dotd":null,"gb-price":"Price: ","gb_month_10":"November","gb_best_deal":"Savings & Sales","gb_month_8":"September","gb_no_results_to_show":"No results found","gb_item_added_to_cart":"Item added to your Cart","gb_app_all_deals_url":"/gp/goldbox/all-deals","gb_app_early_access_caps":null,"gb_price_range":"&#8377;${start} - &#8377;${end}","gb_prime_early_access":"Prime Early Access Deals","gb_deal_starts_for_prime_at":null,"gb_sort_price_down":"Price - High to Low","gb_starts":"Starts","gb-lightning-deal":"LIGHTNING DEAL","gb_showing_x_results_for":"Showing ${start}-${end} of ${total} results for","gb-prime-only-access-msg-get":"to get this deal","gb_date":" ","csld-number_coupons":" Number of coupons: ${coupons}","gb_learn_more":"Learn More","gb_watching_deal":"Watching","gb_active":"Active","gb_pc_waitlist_available":"Waitlist available","gbd_join_waitlist":"Join Waitlist","proceed_to_checkout":"Proceed to Checkout","gb_availability":"Availability","gb_watch_deal":"Watch this deal","gb_showing_x_results":"Showing ${start}-${end} of ${total} Results","gb_month_5":"June","csld-retrying_deal_status":"Please wait.","gb_sort_discount_down":"Discount - High to Low","gb_lightning_prime_early_access_deal":null,"gb_watchdeal_popup_message_before_boldtext":null,"gb_sort_start_time":"Start time: Soonest to latest","gb_deal_soldout":"Deal sold out","gb_watchdeal_popup_message_after_boldtext":"to save it to your watching list and get notified when the deal is about to start.  Download the Amazon app and we'll also notify you on your phone.","gb_see_more":"Show more","gb_missed":"Missed","gb_free_shipping_eligible":"Free Shipping by Amazon","gb_soldout":"Sold out","gb_ends_at":"Ends at","gb_try_again_change_filters":"Please try again using different search filters.","gbd_see_all_x_deals":"See all ${dealCount} deals","retail_value":null,"deals_widget_ifd_message":"<a href=\"https://www.amazon.in/l/7320996031\" target=\"_blank\">Import Fees Deposit may apply</a>","gb_deal_claimed":"You have claimed this deal","gb_prime_exclusive_lightning_deal":"PRIME EXCLUSIVE DEAL","gb_items":"items","gb_starts_in":"Starts in","gb_starts_for_you_in":"Starts for all in ","gb_Deal":"Deal","gb_exclusive_access_text":null,"gb_deal_available_for_you":"This deal is now available for you.","gb_prime_only_dotdl_caps":"PRIME EXCLUSIVE DEAL","gbd-prime-members":"  ","gbd_add-to-cart-to-see-price":"Add to cart to see price","gb_global_eligible":"International Shipping (AmazonGlobal)","gb_page_title":"Today's Deals","gb_retry":null,"gb_you_have":"You have","gb_deal_starts_for_prime_in":null,"gb_deal_details":"Deal details","gb_prime_only_ld":null,"gb_sort_discount_up":"Discount - Low to High","b2b-benefits-prime-program-name-no-break":"<span style=\"white-space:nowrap\">Business Prime</span>","gb_month_3":"April","gb_price_range_end":"&#8377;${start} and above","gb_adding_to_cart":"Adding to Cart","gb_upcoming_prime_early_access_deal":null,"gb_upcoming":"Upcoming","gbd_deal_atc_time_part1":"You have","gb_time":"${hours}:${minutes}${period}","gb_giveaway_pc_all_entries_receive_a_discount":null,"gb_deal_ended":"Deal has ended","gb-cart-error":"Sorry, there's a problem adding this item to your Cart. Please try again","gb_filter_clear":"Clear","gb_coupon":"Coupon","gb_sort_bestselling":"Best Selling","gb_x_stars_and_up":"${stars} Stars & Up","added_to_cart":"Added to Cart","csld-restrictions_link":"/gp/help/customer/display.html?nodeId=201500980#ldterms","gb_app_only_access_caps":"APP ONLY ACCESS","gb_month_4":"May","gb_watchdeal_popup_message_boldtext":null,"gb_to_get_early_access_to_this_deal":null,"gb-podotd-quantity-restriction-violated-msg":"You have reached the maximum quantity allowed for this deal","gb_date_format":"${day} ${month}${date_suffix}","gb_sort_score":"Featured","gbd_check_out_within_time_part2_single":"to receive this discount.","gb_deal_starts_in":"Deal starts in","gb_adding_to_wishlist":"Adding to Wish List","gb_upcoming_prime_exclusive_deal":null,"gb_prime_early_access_deal":"Prime Early Access","gb_sort_by":"Sort by","gb_checkout":"check out.","fiona_list_price_35050":"M.R.P.:","gb_department":"Department","gb_prime_day_deal":"Prime Day deal","gb_lightning_deal":"Lightning Deals","csld-checking_deal_status_alt":"Checking Deal Status","gb_clip_coupon":"Collect Coupon","gb_discount_range":"${start}% to ${end}% off","gb_sort_relevant":"Featured","gb-fullfilled-by-amazon":"Fullfilled by Amazon","gbd_see_all_x_reviews":"See all ${reviewCount} reviews","gb_price_range_start":"Under &#8377;${end}","gb_add_to_cart":"Add to Cart","gbd_coming_soon":"Coming Soon!","gb-deal-of-the-day":"DEAL OF THE DAY","gb_deal_starts":"Deal starts","gb_no_watched_deals_punting_message":"When you see deals you like, click ${watchDeal} to save them here.","gb-cart-error-header":"There's a problem adding this item right now","gb_ends":"Ends","gb_deal_has_sold_out":"Deal has sold out.","gb_filter_dropdown":"Category","gb_summary_filter_separator":"or","gb_month_0":"January","gb_item":"item","gb_app_only_access":"App Only Access Deals","gb_month_7":"August","gb_see_all_supple_deals":"See all ${dealCount} Deals of the Day","gb_gift_wrappable":"Gift Wrappable","gb_to_get_access_to_this_deal":"to get access to this deal","csld-cancel":"Cancel","gb_see_less":"Show less","csld-upcoming":"Upcoming Deal","gb_prime_summary":"Prime eligible","gb_early_access_non_prime_join":"Join","gb_left_to":"left to","csld-pct_claimed_hero":"${percentClaimed}% Claimed","gb_stop_watching_deal":"Stop Watching","gb-upcoming-lightning-deal":"UPCOMING LIGHTNING DEAL","gb_month_1":"February","gb_filter_customer_reviews":"Avg. Customer Review","gb_product_detail_link":"See product details","gb_sort_price_up":"Price - Low to High","gb-quantity-restriction-violated":"Added to Cart. You've reached the limit of ${quantityLimit}","gb_added_to_wishlist":"Added to Wish List","gb_prime_link":"Amazon Prime"},"customerData":{"isPrimeMarketplace":true,"isWatchDealPopupMarked":true,"locale":"en_IN","gbZoneInfo":{"name":"IST","currentTimeStampInMillis":1596047744000,"offset":19800000},"amznMerchantID":"AT95IG9ONZD7S","hasEarlyAccessBenefit":false,"primeProgramName":"gb_prime_link","currencyOfPreference":"INR","sessionId":"259-5549146-3116120","customerId":"","marketplaceId":"A21TJRUUN4KGV","languageOfPreference":"en_IN","realm":"IN","isPrimeMember":false},"dealViewConfig":{"enableHidingClaimedBar":1,"imageSizeLarge":"210","enableTimerStyling":0,"miniDPImageSize":"300","imageSize":"210","enableClaimedStyling":0},"widgetViewConfig":{"enableAutoTitleAdjustment":1,"dcsMetadataVersion":"V2.2","forceApplyIncartTimer":1,"clickStreamRefMarker":"GBshov","maxNumberofDealsInRow":12,"callDataBuilder":"getGBSuppleCallDataArray","maxFeaturedDealsElevationSize":100,"useCssEllipsification":0,"supportedPlatforms":["pc","tablet"],"disableOrientationChange":0,"defaultNumberOfRows":1,"preFetchGDMDeals":300,"preFetchGetDeals":12,"maxDisplayableRows":1,"disableNavigationToTop":1},"isMobileNotificationSubscriptionDisabled":false,"widget":"gb-shoveler","deviceInfo":{"isUDPv3":1,"isIOS":0,"doesAppHaveURLInterception":0,"isAndroidUserAgent":0,"isIOSInterstitialSupported":0,"ipAddress":"117.217.185.79","userAgent":"Mozilla/5.0 (Windows NT 6.3; WOW64; Trident/7.0; rv:11.0) like Gecko","isCSS3Supported":1,"isKindleGen5":0,"isAWDesktopViewEnforced":0,"operatingSystemVersion":"","isAndroidOSVersionBelow4dot4":null,"operatingSystem":"","isMetro":0,"isKindleGen7":0,"isApp":0,"isFirePhone":0,"isWindowsPhone":0,"isAndroidPhone":0,"isKindleGen6":0,"isAppVersionHigher":1,"deviceName":null,"isWin":0,"isPhone":0,"isIPad":0,"isIPhone":0,"isAndroidTab":0,"isKindle":0,"isAndroid":0},"templates":{"widgetView":[{"template":"<a id=\"launchCell\" class=\"a-link-normal launchCell dealView {{data.cssClasses}}\" href=\"{{data.redirectLink}}\">\n    <div class=\"a-section a-spacing-none\">\n        <span class=\"a-size-base allDealsText\">\n            {{data.seeAllText}}\n        </span>\n    </div>\n</a>","name":"launchCell"},{"template":"<~\n    var constants = gb.enums.ShovlConstants;\n    var actionType = constants.SHOVL_NEXT;\n    var nextString = gb.resources.getString('gb_next_page');\n\n    var buttonStatus = \"normal\",\n        arrowID = \"nextButton\";\n\n    var isLastPage = data.currentPage === data.totalPages;\n    if (data.disableButton || !data.totalPages || isLastPage) {\n        buttonStatus = constants.DISABLED;\n        arrowID = \"nextButtonDisableArrow\";\n    }\n\n    if (data.hideButton) {\n        arrowID = \"nextButtonHidden\";\n    }\n~>\n<span class=\"a-declarative\" data-action=\"{{data.actionName}}\" data-{{data.actionName}}=\"{&quot;attribute&quot;:&quot;{{gb.enums.BinningParams.PAGE.key}}&quot;,&quot;actionType&quot;:&quot;{{actionType}}&quot;,&quot;currentPage&quot;:&quot;{{data.currentPage}}&quot;,&quot;totalPages&quot;:&quot;{{data.totalPages}}&quot;,&quot;widgetID&quot;:&quot;{{data.widgetID}}&quot;,&quot;buttonStatus&quot;:&quot;{{buttonStatus}}&quot;}\" id=\"{{arrowID}}\">\n    <a aria-label=\"{{nextString}}\" class=\"a-link-normal\" href=\"#\" role=\"button\">\n        <i class=\"a-icon a-icon-next rightArrow\" role=\"img\" aria-label=\"{{nextString}}\"></i>\n    </a>\n</span>","name":"nextButton"},{"template":"<~\n    if (data.isGDMFailing) {\n        var heavyTrafficMessage = gb.resources.getString('gb_heavy_traffic_msg');\n        if(data.isRetryInProgress) {\n            heavyTrafficMessage = gb.resources.getString('gb_heavy_traffic_retrying_msg');\n        }\n\n        var tryAgainStr = gb.resources.getString('gb_retry');\n~>\n        <div class=\"a-row a-spacing-top-large noDealsMessage\">\n            <span class=\"a-size-base a-color-secondary\">{{heavyTrafficMessage}}</span>\n            <br>\n<~      if(data.isRetryInProgress) { ~>\n            <img src='<~ print(gb.resources.getImage('loading')) ~>' alt=\"<~ print(gb.resources.getString('csld-loading_alt')) ~>\" />\n<~      } else { ~>\n            <span class=\"a-declarative\" data-action=\"refresh-widget\" data-refresh-widget=\"{&quot;widgetID&quot;:&quot;{{data.widgetID}}&quot;}\">\n                <a class=\"a-link-normal\" href=\"#\">{{tryAgainStr}}</a>\n            </span>\n<~      } ~>\n        </div>\n<~\n    } else if (data.noDealsMessage) {\n~>\n        <div class=\"a-row a-spacing-top-large noDealsMessage\">\n            <span class=\"a-size-base a-color-secondary\">\n                {{data.noDealsMessage}}\n            </span>\n        </div>\n<~\n    } else {\n        var dealViewID, position = 0;\n        while (position < data.lastDealIDPosition) {\n            dealViewID = gb.utils.getDealViewID(data.widgetID, position);\n            position++;\n~>\n            <div id=\"{{dealViewID}}\" class=\"a-section a-spacing-none dealView {{data.gridColumnCSS}}\"> </div>\n<~\n        }\n    }\n~>","name":"widgetContent"},{"template":"    <div class=\"a-row padCenter aok-relative\">\n<~\n    if (data.title) {\n~>\n        <div class=\"a-row a-spacing-top-base\">\n            <h1 class=\"a-size-large\" role=\"header\">\n\n                {{data.title}}\n<~\n                if (data.redirectLink) {\n~>\n                    <a class=\"a-size-base a-align-center a-link-normal\" href=\"{{data.redirectLink}}\" role=\"link\">\n                        {{data.seeAllText}}\n                    </a>\n<~\n                }\n~>\n            </h1>\n        </div>\n<~\n    }\n    if (!data.isGDMFailing) {\n~>\n        <div id=\"{{data.viewIDs.SHOVL_STATE_HEADER}}\" aria-label=\"{{data.title}}\" class=\"a-row a-spacing-top-small\" role=\"tablist\">\n        </div>\n        <hr class=\"a-spacing-small a-divider-normal\">\n        <div id=\"{{data.viewIDs.SHOVL_PAGINATION}}\" class=\"a-row a-spacing-none\">\n        </div>\n<~\n    }\n~>\n        <div class=\"a-section padCenterContainer aok-relative\">\n<~\n        var buttonContainerClasses = \"buttonContainer\";\n\n        if (data.isGDMFailing) {\n            buttonContainerClasses = buttonContainerClasses + \" \" + \"aok-hidden\";\n        } else {\n            buttonContainerClasses = buttonContainerClasses + \" \" + \"aok-inline-block\";\n        }\n\n        var prevButtonContainerClasses = buttonContainerClasses + \" \" + \"previousButtonContainer\";\n        var nextButtonContainerClasses = buttonContainerClasses + \" \" + \"nextButtonContainer aok-float-right\";\n~>\n            <div class=\"a-section contentContainer\">\n                <div id=\"{{data.viewIDs.CONTENT}}\" class=\"a-section a-spacing-micro widgetContent aok-inline-block\">\n                </div>\n            </div>\n\n            <div id=\"{{data.viewIDs.PREV_SHOVL_BUTTON}}\" class=\"a-section {{prevButtonContainerClasses}}\">\n            </div>\n            <div id=\"{{data.viewIDs.NEXT_SHOVL_BUTTON}}\" class=\"a-section {{nextButtonContainerClasses}}\">\n            </div>\n\n        </div>\n        <hr class=\"a-divider-normal\">\n<~\n        if (!data.schedulingParams.disableRestrictionsApply) {\n            data.restrictionsApplyLink = data.getReffedURL(data.restrictionsApplyLink, gb.metrics.refTags.restrictionsApply);\n~>\n            <div class=\"a-row a-spacing-small\">\n                <a class=\"a-link-normal restrictionsApplyContainer\" href=\"{{data.restrictionsApplyLink}}\">\n                    {{data.restrictionsApplyText}}\n                </a>\n            </div>\n<~\n        }\n~>\n    </div>","name":"wireFrame"},{"template":"<~\n    if (data.totalPages > 0) {\n        var paginationCountString = gb.resources.getString(\n            'gb_shovl_pagination_count', {\n            current : data.currentPage,\n            total   : data.totalPages\n        });\n~>\n        <span class=\"a-size-base-plus a-color-tertiary pagination\">\n            {{paginationCountString}}\n        </span>\n<~\n    }\n~>","name":"pagination"},{"template":"<~\n    var constants = gb.enums.ShovlConstants;\n    var actionType = constants.SHOVL_PREVIOUS;\n    var prevString = gb.resources.getString('gb_previous_page');\n    \n    var buttonStatus = \"normal\",\n        arrowID = \"prevButton\";\n\n    if (data.disableButton || !data.totalPages || data.currentPage === 1) {\n        buttonStatus = constants.DISABLED;\n        arrowID = \"prevButtonDisableArrow\";\n    }\n\n    if (data.hideButton) {\n        arrowID = \"prevButtonHidden\";\n    }\n~>\n<span class=\"a-declarative\" data-action=\"{{data.actionName}}\" data-{{data.actionName}}=\"{&quot;attribute&quot;:&quot;{{gb.enums.BinningParams.PAGE.key}}&quot;,&quot;actionType&quot;:&quot;{{actionType}}&quot;,&quot;currentPage&quot;:&quot;{{data.currentPage}}&quot;,&quot;totalPages&quot;:&quot;{{data.totalPages}}&quot;,&quot;widgetID&quot;:&quot;{{data.widgetID}}&quot;,&quot;buttonStatus&quot;:&quot;{{buttonStatus}}&quot;}\" id=\"{{arrowID}}\">\n    <a aria-label=\"{{prevString}}\" class=\"a-link-normal\" href=\"#\" role=\"button\">\n        <i class=\"a-icon a-icon-previous leftArrow\" role=\"img\" aria-label=\"{{prevString}}\"></i>\n    </a>\n</span>","name":"previousButton"},{"template":"<~\n    var widgetTabConfig = data.schedulingParams.widgetTabConfig;\n    if (!_.isEmpty(widgetTabConfig)) {\n        var index = 0, widgetCurrentTab = data.schedulingParams.widgetCurrentTab, selectedTabCSS = \"\";\n~>\n        <div class=\"a-section a-spacing-micro\">\n<~\n        _.each(widgetTabConfig, function(widgetTabHash) {\n            var title    = widgetTabHash.title;\n            var tabState = false;\n            var displayableTitle = gb.resources.getString(title);\n            displayableTitle = displayableTitle || title;\n\n            if (index === widgetCurrentTab) {\n                selectedTabCSS = \"selectedStateTab\";\n                tabState       = true;\n            } else {\n                selectedTabCSS = \"\";\n            }\n~>\n            <span class=\"a-declarative\" data-action=\"gbshovl-state\" data-gbshovl-state=\"{&quot;attribute&quot;:&quot;{{gb.enums.BinningParams.DEAL_STATE.key}}&quot;,&quot;tabIndex&quot;:&quot;{{index}}&quot;,&quot;widgetID&quot;:&quot;{{data.widgetID}}&quot;}\">\n                <a aria-label=\"{{displayableTitle}}\" aria-selected=\"{{tabState}}\" class=\"a-link-normal\" href=\"#\" role=\"tab\">\n                    <span class=\"a-size-base a-color-secondary stateTab {{selectedTabCSS}}\">\n                        {{displayableTitle}}\n                    </span>\n                </a>\n            </span>\n<~\n            index++;\n        });\n~>\n        </div>\n<~\n    }\n~>","name":"stateHeader"},{"template":"<~\n    var categoryString = gb.resources.getString(\"gb_filter_dropdown\");\n    var filterPopoverName = gb.enums.WidgetViewIDs.SHOVL_FILTER + '_' + data.widgetID;\n~>\n<div class=\"a-section aok-float-right\">\n    <span class=\"a-declarative\" data-action=\"a-popover\" data-a-popover=\"{&quot;padding&quot;:&quot;none&quot;,&quot;closeButton&quot;:&quot;false&quot;,&quot;dataStrategy&quot;:&quot;preload&quot;,&quot;popoverLabel&quot;:&quot;{{categoryString}}&quot;,&quot;position&quot;:&quot;triggerBottom&quot;,&quot;name&quot;:&quot;{{filterPopoverName}}&quot;}\">\n        <a href=\"javascript:void(0)\" class=\"a-popover-trigger a-declarative\">\n            {{categoryString}}\n        <i class=\"a-icon a-icon-popover\"></i></a>\n    </span>\n\n    <div class=\"a-popover-preload\" id=\"a-popover-{{filterPopoverName}}\">\n        <hr class=\"a-spacing-mini a-divider-normal\">\n        <div id=\"{{data.filterDomID}}\" class=\"a-section gbShovelerPopoverContent\">\n        </div>\n    </div>\n</div>","name":"filterHeader"},{"template":"<~\n    var loadingText = gb.resources.getString('csld-loading_alt');\n    var imageURL    = gb.resources.getImage('loading_large');\n~>\n    <div class=\"a-section a-text-center\">\n        <img alt=\"~{{loadingText}}\" src=\"{{imageURL}}\" class=\"widgetLoading\">\n    </div>","name":"widgetLoading"},{"template":"<div id=\"cartError\" class=\"a-box a-alert a-alert-error a-spacing-mini\" aria-live=\"assertive\" role=\"alert\"><div class=\"a-box-inner a-alert-container\"><h4 class=\"a-alert-heading\">{{data.errorAlertHeaderText}}</h4><i class=\"a-icon a-icon-alert\"></i><div class=\"a-alert-content\">\n    {{data.errorText}}\n</div></div></div>","name":"widgetErrorAlert"}],"miniDPDealView":[{"template":"<~\n    var textColor     = 'base';\n    var priceCSSClass = 'dealPriceText';\n\n    if(gb.utils.isDOTDDeal(data.deal) && (data.deal.dealState === gb.enums.DealStates.SOLDOUT || data.deal.dealState === gb.enums.DealStates.EXPIRED)) {\n        textColor = 'secondary';\n        priceCSSClass = 'dealPriceExpiredText';\n    }\n    if(data.deal.auxiliaryData.breaksMAP) {\n~>\n    <span class=\"a-size-medium a-color-{{textColor}} aok-inline-block unitLineHeight\">\n<~\n        print( gb.resources.getString('gbd_add-to-cart-to-see-price') );\n~>\n    </span>\n<~\n    } else if(data.marketingMessage) {\n~>\n    <span class=\"a-size-medium a-color-base aok-inline-block unitLineHeight\">\n        {{data.marketingMessage}}\n    </span>\n<~\n    } else if(data.deal.pricingData.prices.dealPrice) {\n        var price = data.deal.pricingData.prices.dealPrice.min.formattedValue;\n        if(data.deal.pricingData.prices.dealPrice.min.value !== data.deal.pricingData.prices.dealPrice.max.value) {\n            price += ' - ' + data.deal.pricingData.prices.dealPrice.max.formattedValue;\n\n            if(data.deal.detail.itemType === gb.enums.ItemTypes.VARIATION && data.asin) {\n                price = data.asin.dealPriceFormatted;\n            }\n        }\n        if(gb.utils.showPPU(data.deal.dealID) && data.deal.pricingData.unitPrice && data.deal.pricingData.baseUnit) {\n                price += ' ' + gb.resources.getString('gb_ppu_price', {\n                        price     : data.deal.pricingData.unitPrice.formattedValue,\n                        unitValue : data.deal.pricingData.baseUnit.value,\n                        unitName  : data.deal.pricingData.baseUnit.name\n                    });\n        }\n~>\n        <span class=\"heading4 aok-inline-block unitLineHeight {{priceCSSClass}}\">\n            {{price}}\n        </span>\n<~\n    }\n~>","name":"priceBlock"},{"template":"<~\n    var url = data.deal.detail.URL;\n    if(data.deal.dealState === gb.enums.DealStates.UPCOMING || data.deal.dealState === gb.enums.DealStates.COMINGSOON) {\n        if(data.deal.teaser.teaserLine != null) {\n            title = data.deal.teaser.teaserLine;\n        }\n\n        url = data.deal.teaser.teaserURL || \"\";\n    }\n\n    if(url) {\n        url = data.getReffedURL(url, gb.metrics.refTags.title);\n        var linkText = gb.resources.getString(\"gb_product_detail_link\");\n~>\n    <div class=\"a-row\">\n        <a class=\"a-size-mini a-link-normal\" href=\"{{url}}\">\n            <span class=\"a-declarative\" data-action=\"gbdeal-actionrecord\" data-gbdeal-actionrecord=\"{&quot;actionType&quot;:&quot;LEARN_MORE&quot;,&quot;position&quot;:&quot;{{data.position}}&quot;,&quot;widgetID&quot;:&quot;{{data.widgetID}}&quot;,&quot;dealID&quot;:&quot;{{data.deal.dealID}}&quot;}\">\n                {{linkText}}\n            </span>\n        </a>\n    </div>\n<~\n    }\n~>","name":"dpLink"},{"template":"<~\n    var youOnWaitlistMessg = gb.resources.getString('gb_you_are_on_waitlist');\n~>\n    <div class=\"a-row a-size-base\">\n        {{youOnWaitlistMessg}}\n    </div>","name":"inwaitlist"},{"template":"<~\n    if (data.showDateOrTime) {\n\n        var timerPrefix = data.timerPrefix;\n~>\n        <div class=\"a-row\">\n<~\n            if (data.deal.dealState === gb.enums.DealStates.UPCOMING || data.deal.dealState === gb.enums.DealStates.COMINGSOON) {\n~>\n                <span class=\"a-size-base a-color-base aok-inline-block unitLineHeight\">\n                    {{timerPrefix}}\n                </span>\n                <span class=\"a-size-base a-color-base aok-inline-block unitLineHeight a-text-bold\">\n                    {{data.showDateOrTime}}\n                </span>\n<~\n            } else {\n~>\n                <span class=\"a-size-mini a-color-secondary aok-inline-block unitLineHeight\">\n                    {{timerPrefix}}\n                </span>\n                <span class=\"a-size-mini a-color-secondary aok-inline-block unitLineHeight\">\n                    {{data.showDateOrTime}}\n                </span>\n<~\n            }\n~>\n        </div>\n<~\n    } else if (data.timeString) {\n\n        var spanID = gb.enums.WidgetViewIDs.MINI_DP_MODAL + gb.utils.getDealViewID(data.widgetID, data.position) + gb.enums.dealViewIDs.DEALCLOCK;\n        var timerPrefix = data.timerPrefix;\n~>\n        <div class=\"a-row\">\n<~\n            if (data.viewStyleInfo.shouldStyleTimerMessaging) {\n~>\n                <span class=\"a-size-mini a-color-state aok-inline-block unitLineHeight\">\n                    {{timerPrefix}}\n                </span>\n\n                <span id=\"{{spanID}}\" class=\"a-size-mini a-color-state aok-inline-block unitLineHeight\" role=\"timer\">\n                    {{data.timeString}}\n                </span>\n<~\n            } else if (data.deal.dealState === gb.enums.DealStates.UPCOMING || data.deal.dealState === gb.enums.DealStates.COMINGSOON) {\n~>\n                <span class=\"a-size-base a-color-base aok-inline-block unitLineHeight\">\n                    {{timerPrefix}}\n                </span>\n\n                <span id=\"{{spanID}}\" class=\"a-size-base a-color-base aok-inline-block unitLineHeight a-text-bold\" role=\"timer\">\n                    {{data.timeString}}\n                </span>\n<~\n            } else {\n~>\n                <span class=\"a-size-mini a-color-secondary aok-inline-block unitLineHeight\">\n                    {{timerPrefix}}\n                </span>\n\n                <span id=\"{{spanID}}\" class=\"a-size-mini a-color-secondary aok-inline-block unitLineHeight\" role=\"timer\">\n                    {{data.timeString}}\n                </span>\n<~\n            }\n~>\n        </div>\n<~\n    } else {\n\n        var spanID = gb.enums.WidgetViewIDs.MINI_DP_MODAL + gb.utils.getDealViewID(data.widgetID, data.position) + gb.enums.dealViewIDs.DEALCLOCK;\n~>\n        <span id=\"{{spanID}}\">\n        </span>\n<~\n    }\n~>","name":"time"},{"template":"<div class=\"a-row a-spacing-none\">\n    <div class=\"a-box a-alert-inline a-alert-inline-success a-spacing-none\"><div class=\"a-box-inner a-alert-container\"><i class=\"a-icon a-icon-alert\"></i><div class=\"a-alert-content\">\n        {{data.deal.postActionMessage}}\n    </div></div></div>\n</div>","name":"cartMessage"},{"template":"<~\n    if( data.templateDecisionInfo.shouldDisplayIFDMessage ) {\n~>\n        <div class=\"a-row a-spacing-small ifdMessage\">\n            <span class=\"a-size-mini a-color-secondary\">\n<~\n                print( gb.resources.getString('deals_widget_ifd_message') );\n~>\n            </span>\n        </div>\n<~\n    }\n~>","name":"ifdMessage"},{"template":"<~\n    var textColor = 'base';\n    var textSize  = 'gb-font-size-mini';\n    var merchant  = data.deal.merchantName;\n    var realm     = gb.resources.getCustomerData('realm');\n    if (data.deal.dealState === gb.enums.DealStates.SOLDOUT || data.deal.dealState === gb.enums.DealStates.EXPIRED) {\n        textColor = 'secondary';\n    }\n\n    if (data.isMiniDP) {\n        textSize  = 'gb-font-size-base';\n    }\n\n    if(merchant) {\n~>\n    <div class=\"a-row unitLineHeight\">\n        <span id=\"shipSoldInfo\" class=\"a-color-{{textColor}} inlineBlock {{textSize}} unitLineHeight\">\n<~\n            var defaultMerchantName = gb.enums.merchantName[realm];\n            if (defaultMerchantName && merchant === defaultMerchantName) {\n                print(gb.resources.getString('gb-ships-from-and-sold-by-amazon'));\n            } else if (data.deal.detail.isFulfilledByAmazon && data.deal.detail.isFulfilledByAmazon !== \"0\") {\n                print(gb.resources.getString('gb_soldby_x_and_fulfilled_by_amazon', {merchant: merchant}));\n            } else {\n                print(gb.resources.getString('gb_ships_from_and_sold_by_x', {merchant: merchant}));\n            }\n~>\n        </span>\n    </div>\n<~\n    }\n~>","name":"shipSold"},{"template":"<~\n    var primeText = (data.deal.dealState === gb.enums.DealStates.UPCOMING) ? \n                    gb.resources.getString('gb_exclusive_access_text') : gb.resources.getString('gbd-prime-only-access-msg-get');\n    var primeSignUpUrl = data.templateDecisionInfo.primeSignUpUrl;\n~>\n    <span class=\"a-size-base a-color-base\">{{primeText}}</span>\n<~\n    if (gb.resources.getCustomerData('isPrimeMember')) {\n~>\n        <span class=\"a-size-mini\">{{gb.resources.getString('gbd-prime-members')}}</span>\n<~\n    } else {\n\n        var isPrimeSignupRedirectSupported = gb.utils.isPrimeSignupRedirectSupported();\n        if (isPrimeSignupRedirectSupported) { ~>\n            <a class=\"a-size-mini a-spacing-none a-spacing-top-small a-link-normal\" href=\"{{primeSignUpUrl}}\">{{gb.resources.getString('gb_prime_link')}}</a>\n<~      } else { ~>\n            <span class=\"a-color-base\">{{gb.resources.getString('gb_prime_link')}}</span>\n<~      } ~>\n        <span class=\"a-color-base\">{{gb.resources.getString('gbd_members')}}</span>\n<~\n    }\n    if(!gb.resources.getCustomerData('isPrimeMember')) {\n        var isTabletButton = data.isTabletButton;\n        var buttonContext  = templateDecisionInfo.buttonText + \" \" + data.deal.detail.title;\n        var buttonID       = data.widgetID + \" \" + data.deal.dealID;\n~>\n        <div class=\"a-row a-spacing-top-{{data.buttonContainerSpacing}}\">\n            <span class=\"a-declarative\" data-action=\"gbdeal-actionrecord\" data-gbdeal-actionrecord=\"{&quot;actionType&quot;:&quot;TRY_PRIME&quot;,&quot;position&quot;:&quot;{{data.position}}&quot;,&quot;widgetID&quot;:&quot;{{data.widgetID}}&quot;,&quot;dealID&quot;:&quot;{{data.deal.dealID}}&quot;}\">\n<~          if(isTabletButton) {    ~>\n                    <span id=\"{{buttonID}}\" class=\"a-button a-button-span12 a-button-base a-button-small fixedWidth210 exclusively-prime-signup-button\"><span class=\"a-button-inner\"><a id=\"{{buttonID}}-announce\" href=\"{{primeSignUpUrl}}\" aria-label=\"{{buttonContext}}\" class=\"a-button-text a-text-center\" role=\"button\">\n                        {{gb.resources.getString('gb_learn_more')}}\n                    </a></span></span>\n<~          } else {    ~>\n                <span id=\"{{buttonID}}\" class=\"a-button a-button-span12 a-button-base fixedWidth210 exclusively-prime-signup-button\"><span class=\"a-button-inner\"><a id=\"{{buttonID}}-announce\" href=\"{{primeSignUpUrl}}\" aria-label=\"{{buttonContext}}\" class=\"a-button-text a-text-center\" role=\"button\">\n                    {{gb.resources.getString('gb_learn_more')}}\n                </a></span></span>\n<~          }   ~>\n            </span>\n        </div>\n<~\n    }\n~>","name":"primeOnlyAccess"},{"template":"<div id=\"cartError\" class=\"a-box a-alert a-alert-error a-spacing-mini\" aria-live=\"assertive\" role=\"alert\"><div class=\"a-box-inner a-alert-container\"><h4 class=\"a-alert-heading\">{{data.errorAlertHeaderText}}</h4><i class=\"a-icon a-icon-alert\"></i><div class=\"a-alert-content\">\n    {{data.errorText}}\n</div></div></div>","name":"widgetErrorAlert"},{"template":"<~\n    if (data.modalPrimeShowDateOrTime) {\n        var modalPrimeTimerPrefix = data.modalPrimeTimerPrefix;\n~>\n        <span class=\"a-size-base a-color-base\">\n            {{modalPrimeTimerPrefix}}\n        </span>\n\n        <span class=\"a-size-base a-color-base a-text-bold\">\n            {{data.modalPrimeShowDateOrTime}}.\n        </span>\n<~\n    } else if (data.modalPrimeTimeString) {\n        var spanID = gb.enums.WidgetViewIDs.MINI_DP_MODAL + gb.enums.WidgetViewIDs.PRIME + gb.utils.getDealViewID(data.widgetID, data.position) + gb.enums.dealViewIDs.DEALCLOCK;\n        var modalPrimeTimerPrefix = data.modalPrimeTimerPrefix;\n~>\n        <span class=\"a-size-base a-color-base\">\n            {{modalPrimeTimerPrefix}}\n        </span>\n\n        <span id=\"{{spanID}}\" class=\"a-size-base a-color-base a-text-bold\" role=\"timer\">\n            {{data.modalPrimeTimeString}}\n        </span>\n\n<~\n    } else {\n        var spanID = gb.enums.WidgetViewIDs.MINI_DP_MODAL + gb.enums.WidgetViewIDs.PRIME + gb.utils.getDealViewID(data.widgetID, data.position) + gb.enums.dealViewIDs.DEALCLOCK;\n~>\n        <span id=\"{{spanID}}\"></span>\n<~\n    }\n~>","name":"primeTime"},{"template":"<~\n    var atcTimeID        = gb.enums.WidgetViewIDs.MINI_DP_MODAL + gb.utils.getDealViewID(data.widgetID, data.position) + gb.enums.dealViewIDs.PENDINGATCCLOCK;\n    var atcInMessg       = gb.resources.getString('gbd_deal_atc_time_part1');\n    var toReceiveDisMsg  = gb.resources.getString('gb_pc_left_to_add_to_cart');\n    var dealAvailableMsg = gb.resources.getString('gb_deal_available_for_you');\n\n    if (data.modalPendingatcTimeString) {\n        if (!gb.controller.schedulingParams[data.widgetID].showShortCellView) {\n~>\n            <div class=\"a-row a-size-mini\">\n                {{dealAvailableMsg}}\n                <br>\n                {{atcInMessg}}\n                <span id=\"{{atcTimeID}}\" class=\"a-text-bold\">\n                    {{data.modalPendingatcTimeString}}\n                </span>\n                {{toReceiveDisMsg}}\n            </div>\n<~\n        } else {\n~>\n            <div class=\"a-row a-size-base\">\n                {{atcInMessg}}\n                <span id=\"{{atcTimeID}}\" class=\"a-text-bold\">\n                    {{data.modalPendingatcTimeString}}\n                </span>\n                {{toReceiveDisMsg}}\n            </div>\n<~\n        }\n    }\n~>","name":"pendingatc"},{"template":"<~\n    var imageURL = gb.resources.getImage('prime');\n    if(data.deal.auxiliaryData.isPrimeEligible) {\n~>\n        <img alt=\"~{{data.deal.detail.accessType}}\" src=\"{{imageURL}}\" class=\"aok-inline-block\" role=\"img\">\n<~\n    }\n~>","name":"primeBadge"},{"template":"<~\n    if (!data.dimensionData) {\n        return;\n    }\n       \n    var dimensionNames = _.keys(data.dimensionData);\n    var selectText = gb.resources.getString('csld-select');\n    var dimensionName = null, preSelection, encodedValue, nativeID, dimensionNameArray;\n~>\n    <div class=\"a-row a-spacing-top-small\">\n    </div>\n\n<~\n    for(var dimensionIndex = 0; dimensionIndex < dimensionNames.length; dimensionIndex++) { \n        dimensionName = dimensionNames[dimensionIndex]; \n        preSelection = null;    \n        if (data.selectedDimension && data.selectedDimension[dimensionName]) {  \n            preSelection = data.selectedDimension[dimensionName];   \n        } else {    \n            preSelection = selectText;  \n        }   \n        nativeID = dimensionName.replace(/\\s/g, '') + data.deal.dealID;     \n        nativeID = encodeURIComponent(nativeID);    \n~>\n    \n        <div class=\"a-row\">   \n            <span class=\"a-dropdown-container\"><label for=\"{{nativeID}}\" class=\"a-native-dropdown\">{{dimensionName}}: </label><select name=\"{{dimensionName}}\" autocomplete=\"off\" id=\"{{nativeID}}\" tabIndex=\"-1\" class=\"a-native-dropdown a-button-span12 a-spacing-mini a-spacing-top-mini\">\n    \n            <option value=\"{{selectText}}\">   \n                {{selectText}}  \n            </option>    \n<~      \n            data.dimensionData[dimensionName].sort();\n            dimensionNameArray = data.dimensionData[dimensionName];\n    \n            for(var dimensionNameDataIndex = 0; dimensionNameDataIndex < dimensionNameArray.length; dimensionNameDataIndex++) { \n                encodedValue = encodeURIComponent(dimensionNameArray[dimensionNameDataIndex]);  \n                if (dimensionNameArray[dimensionNameDataIndex] === data.selectedDimension[dimensionName]) { \n~>  \n                    <option value=\"{{encodedValue}}\" selected>  \n                        {{dimensionNameArray[dimensionNameDataIndex]}}  \n                    </option>    \n<~  \n                } else {    \n~>  \n                    <option value=\"{{encodedValue}}\"> \n                        {{dimensionNameArray[dimensionNameDataIndex]}}  \n                    </option>    \n<~  \n                }   \n            }   \n~>  \n            </select><span tabIndex=\"-1\" id=\"ldVariationSelector{{nativeID}}\" data-a-class=\"miniDPDealButton\" class=\"a-button a-button-dropdown a-spacing-mini a-spacing-top-mini a-button-span12 miniDPDealButton\"><span class=\"a-button-inner\"><span class=\"a-button-text a-declarative\" data-action=\"a-dropdown-button\" role=\"button\" tabIndex=\"0\" aria-hidden=\"true\"><span class=\"a-dropdown-label\">{{dimensionName}}: </span><span class=\"a-dropdown-prompt\">{{preSelection}}</span></span><i class=\"a-icon a-icon-dropdown\"></i></span></span></span>    \n        </div>    \n<~  \n    }   \n~>  ","name":"selector"},{"template":"<~\nvar reviewStars       = gb.utils.getReviewStars(data.deal.reviews.rating),\n    fullStars         = reviewStars.fullStars,\n    seeAllReviewsText = gb.resources.getString ('gbd_see_all_x_reviews', { reviewCount: data.deal.reviews.total });\n    \nif(data.deal.reviews.URL) {\n\n    var reviewsURL  = data.getReffedURL(data.deal.reviews.URL, gb.metrics.refTags.reviews);\n    if (data.sponsoredDealAttr && data.sponsoredDealAttr.isSponsored) {\n        reviewsURL = gb.utils.getSponsoredDealUrl(data.sponsoredDealAttr, reviewsURL);\n    }\n    var altText     = gb.resources.getString(\"gb_filter_customer_reviews\");\n    if (fullStars) {\n~>\n        <div class=\"a-row reviewStars\">\n            <a aria-label=\"{{seeAllReviewsText}}\" class=\"a-link-normal touchAnchor\" href=\"{{reviewsURL}}\" role=\"link\">        \n                <span class=\"a-declarative\" data-action=\"gbdeal-actionrecord\" data-gbdeal-actionrecord=\"{&quot;actionType&quot;:&quot;REVIEWS&quot;,&quot;position&quot;:&quot;{{data.position}}&quot;,&quot;widgetID&quot;:&quot;{{data.widgetID}}&quot;,&quot;dealID&quot;:&quot;{{data.deal.dealID}}&quot;}\">\n<~\n                    // If half stars are present show them.\n                    if (reviewStars.hasHalfStar) {\n                        if(fullStars === 1) { ~>\n                            <i class=\"a-icon a-icon-star a-star-1-5\"><span class=\"a-icon-alt\">{{altText}}</span></i>\n                        <~ } else if (fullStars === 2) { ~>\n                            <i class=\"a-icon a-icon-star a-star-2-5\"><span class=\"a-icon-alt\">{{altText}}</span></i>\n                        <~ } else if (fullStars === 3) { ~>\n                            <i class=\"a-icon a-icon-star a-star-3-5\"><span class=\"a-icon-alt\">{{altText}}</span></i>\n                        <~ } else if (fullStars === 4) { ~>\n                            <i class=\"a-icon a-icon-star a-star-4-5\"><span class=\"a-icon-alt\">{{altText}}</span></i>\n                        <~ }\n                    } else {\n                        if(fullStars === 1) { ~>\n                            <i class=\"a-icon a-icon-star a-star-1\"><span class=\"a-icon-alt\">{{altText}}</span></i>\n                        <~ } else if(fullStars === 2) { ~>\n                            <i class=\"a-icon a-icon-star a-star-2\"><span class=\"a-icon-alt\">{{altText}}</span></i>\n                        <~ } else if(fullStars === 3) { ~>\n                            <i class=\"a-icon a-icon-star a-star-3\"><span class=\"a-icon-alt\">{{altText}}</span></i>\n                        <~ } else if(fullStars === 4) { ~>\n                            <i class=\"a-icon a-icon-star a-star-4\"><span class=\"a-icon-alt\">{{altText}}</span></i>\n                        <~ } else if(fullStars === 5) { ~>\n                            <i class=\"a-icon a-icon-star a-star-5\"><span class=\"a-icon-alt\">{{altText}}</span></i>\n                        <~ }\n                    } ~>\n\n                    <span class=\"a-size-small a-color-base\">{{data.deal.reviews.total}}</span>\n                </span>\n            </a>\n        </div>\n<~\n    }\n\n}\n~>","name":"reviewStars"},{"template":"<~\n\tif (data.deal.detail.accessType === gb.enums.DealAccessTypes.PRIME_EARLY_ACCESS ) {\n\t\tvar amazonPrimeLink;\n\t\tvar earlyAccessMessage;\n\t\tif(!gb.resources.customerData.hasEarlyAccessBenefit) {\n\n\t\t\tvar amazonPrimeLink = gb.resources.getString(gb.resources.customerData.primeProgramName);\n\t\t\tvar isPrimeSignupRedirectSupported = gb.utils.isPrimeSignupRedirectSupported();\n\t\t\tearlyAccessMessage = gb.resources.getString('gb_early_access_text', {duration : data.deal.detail.accessDurationInMs / (60 * 1000)});\n\t  \n\t  \t\tif(gb.utils.isDealInEarlyAccessWindow(data.deal)) {\n\t\t\t\tearlyAccessMessage = gb.resources.getString('gb_get_access_to_this_deal_now_with');\n\t  \t\t}\n~>  \n\t\t\t<span class=\"a-size-base a-color-base\">{{earlyAccessMessage}}</span>\n<~  \t\tif (isPrimeSignupRedirectSupported) { ~>\n\t\t\t\t<a class=\"a-size-base a-spacing-none a-spacing-top-none a-link-normal\" href=\"{{data.templateDecisionInfo.primeSignUpUrl}}\">\n\t\t\t\t\t{{amazonPrimeLink}}.\n\t\t\t\t</a>\n<~  \t\t} else { ~>\n\t\t\t\t<span class=\"a-size-base a-color-base\">{{amazonPrimeLink}}.</span>\n<~  \n\t\t\t}\n\t\t}      \n\t}\n~>","name":"primeEarlyAccess"},{"template":"<~\n    var imageURL = gb.baseUtils.checkAndSetSSLImageUrl(gb.resources.getImage('goldbox_upcoming'));\n    var truncatedAltDescription = gb.utils.trimToMaxLengthAtWordBoundary(data.deal.detail.title, 125);\n\n    if(data.asin) {\n        imageURL = data.asin.imageURL;\n    } else {\n        if(data.deal.detail.imageAsin) {\n            imageURL = data.deal.detail.imageAsin;\n        }\n\n        if(data.deal.dealState === gb.enums.DealStates.UPCOMING || data.deal.dealState === gb.enums.DealStates.COMINGSOON) {\n            if(data.deal.teaser.teaserImage) {\n                imageURL = data.deal.teaser.teaserImage;\n            }\n        }\n    }\n\n    imageURL = gb.utils.resizeImage(imageURL, data.dealViewConfig.miniDPImageSize);\n~>\n    <div class=\"a-section miniDPImageBlock\">\n        <img alt=\"{{truncatedAltDescription}}\" src=\"{{imageURL}}\" role=\"img\">\n    </div>\n","name":"image"},{"template":"<~\n    var waitlistFull = gb.resources.getString('gb_pc_waitlist_full');\n    var textSize     = data.widgetViewConfig.purchaseStateTextSize || \"base\";\n~>\n<div class=\"a-row a-size-{{textSize}}\">\n    {{waitlistFull}}\n</div>","name":"waitlistfull"},{"template":"<~\n    if(data.deal.pricingData.prices.dealPrice) {\n        var basisPrice;\n        var textColor  = 'base';\n\n        if(gb.utils.isDOTDDeal(data.deal) && (data.deal.dealState === gb.enums.DealStates.SOLDOUT || \n                data.deal.dealState === gb.enums.DealStates.EXPIRED)) {\n            textColor = 'secondary';\n        }\n\n        if(data.deal.detail.itemType === gb.enums.ItemTypes.SINGLE || data.deal.detail.itemType === gb.enums.ItemTypes.VARIATION) {\n\n            var percentOff = data.deal.pricingData.percentOff;\n            if (percentOff && data.deal.pricingData.prices.basisPrice) {\n                basisPrice = data.deal.pricingData.prices.basisPrice.min.formattedValue;\n            }\n\n            if (data.asin) {\n                percentOff = data.asin.percentOff;\n                basisPrice = data.asin.basisPriceFormatted;\n                if (!data.showPercentOff && data.asin.percentOff) {\n                    percentOff = Math.round(gb.utils.getDisplayablePercentOff(data.asin.percentOff)*10)/10;\n                }\n            }\n\n            if (data.showPercentOff && percentOff && !data.templateDecisionInfo.shouldSuppressAgsStp && !data.templateDecisionInfo.shouldSuppressBasisPrice) {\n                var percentOffString = gb.resources.getString('csld-percent_off', {discountPercentage: percentOff});\n\n                if (textColor === 'secondary') {\n~>\n                    <div class=\"a-row a-spacing-top-small unitLineHeight\">\n                       <span class=\"a-size-base a-color-secondary aok-inline-block unitLineHeight\">\n                            {{data.priceText}}\n                        </span>\n                        <span class=\"a-size-base a-color-secondary aok-inline-block unitLineHeight a-text-strike\">{{basisPrice}}</span>\n                        <span class=\"a-size-base a-color-secondary aok-inline-block unitLineHeight\">\n                            {{percentOffString}}\n                        </span>\n                    </div>\n<~\n                } else if (textColor === 'base') {\n~>\n                    <div class=\"a-row a-spacing-top-small unitLineHeight\">\n                       <span class=\"a-size-base a-color-base aok-inline-block unitLineHeight\">\n                            {{data.priceText}}\n                        </span>\n                        <span class=\"a-size-base a-color-base aok-inline-block unitLineHeight a-text-strike\">{{basisPrice}}</span>\n\n                        <span class=\"a-size-base a-color-base aok-inline-block unitLineHeight\">\n                            {{percentOffString}}\n                        </span>\n                    </div>\n<~\n                }\n            }\n        }\n    }\n~>","name":"percentOff"},{"template":"<div class=\"a-row dealButtonContainer\">\n    <div class=\"a-column a-span12 a-text-center\">\n\n<~\n        var spinnerImage = gb.resources.getImage('spinner');\n        var checkDealStatus = gb.resources.getString('csld-checking_deal_status_alt');\n~>\n\n        <img alt=\"~{{checkDealStatus}}\" src=\"{{spinnerImage}}\" role=\"img\">\n        <span class=\"a-size-small a-color-base dealStatusMessageHolder\">\n<~\n            print(checkDealStatus);\n~>\n        </span>\n    </div>\n</div>","name":"checkingDealStatus"},{"template":"<~\n    var dealTypeText = \"\";\n    var dotdSoldout = false;\n\n    if(data.deal.dealType === gb.enums.DealTypes.DOTD && data.deal.dealState === gb.enums.DealStates.SOLDOUT) {\n        dotdSoldout = true;\n    }\n    if(data.deal.dealType === gb.enums.DealTypes.DOTD) {\n        dealTypeText = gb.resources.getString('gb-deal-of-the-day');\n    } else if(data.deal.dealType === gb.enums.DealTypes.LD) {\n        if(data.deal.dealState === gb.enums.DealStates.UPCOMING) {\n            dealTypeText = gb.resources.getString('gb-upcoming-lightning-deal');\n            if (data.deal.detail.accessType === gb.enums.DealAccessTypes.PRIME_EARLY_ACCESS ) {\n                dealTypeText = gb.resources.getString('gb_upcoming_prime_early_access_deal');\n            } else if(data.deal.detail.isPrimeOnly) {\n                dealTypeText = gb.resources.getString('gb_upcoming_prime_exclusive_deal');\n            }\n\n        } else {\n            dealTypeText = gb.resources.getString('gb-lightning-deal');\n            if (data.deal.detail.accessType === gb.enums.DealAccessTypes.PRIME_EARLY_ACCESS ) {\n                dealTypeText = gb.resources.getString('gb_lightning_prime_early_access_deal');\n            } else if(data.deal.detail.isPrimeOnly) {\n                dealTypeText = (data.deal.detail.accessType === gb.enums.DealAccessTypes.PRIME_ONLY_LD ) ? gb.resources.getString('gb_m_prime_exclusive_deal') :\n                                    gb.resources.getString('gb_prime_only_dotdl_caps');\n            }\n        }\n    }\n\n    if(dealTypeText) {\n\n        if(dotdSoldout) {\n~>\n            <span class=\"a-size-mini a-color-secondary aok-inline-block unitLineHeight\">\n                {{dealTypeText}}\n            </span>\n<~\n        } else {\n~>\n            <span class=\"a-size-mini aok-inline-block unitLineHeight\">\n                {{dealTypeText}}\n            </span>\n<~\n        }\n    }\n~>","name":"dealType"},{"template":"    <div class=\"a-row a-spacing-{{data.buttonContainerSpacing}}\">\n<~\n            var templateDecisionInfo = data.templateDecisionInfo;\n            var cssClass             = 'fixedWidth210';\n            var buttonAction         = null;\n            var changeoverText       = null;\n            var changeoverId         = null;\n            var asin                 = data.deal.detail.buyAsin;\n            var buttonStatus         = \"normal\";\n            var isVariation          = data.deal.detail.itemType === gb.enums.ItemTypes.VARIATION;\n            var widgetView           = gb.widgets[data.widgetID];\n            var isTabletButton       = data.isTabletButton;\n            var buttonContext        = templateDecisionInfo.buttonText + \" \" + data.deal.detail.title;\n            var buttonID             = data.widgetID + \" \" + data.deal.dealID;\n            if(data.isMiniDP) {\n                cssClass = 'miniDPDealButton';\n            }\n            if(gb.utils.isPODealForNonPrimeUser(data.deal) && gb.utils.isPrimeSignupRedirectSupported()) {\n~>\n                    <span class=\"a-declarative\" data-action=\"gbdeal-actionrecord\" data-gbdeal-actionrecord=\"{&quot;actionType&quot;:&quot;TRY_PRIME&quot;,&quot;position&quot;:&quot;{{data.position}}&quot;,&quot;widgetID&quot;:&quot;{{data.widgetID}}&quot;,&quot;dealID&quot;:&quot;{{data.deal.dealID}}&quot;}\">\n<~                  if(isTabletButton) {    ~>\n                        <span id=\"{{buttonID}}\" class=\"a-button a-button-span12 a-button-base a-button-small {{cssClass}}\"><span class=\"a-button-inner\"><a id=\"{{buttonID}}-announce\" href=\"{{templateDecisionInfo.primeSignUpUrl}}\" aria-label=\"{{buttonContext}}\" class=\"a-button-text a-text-center\" role=\"button\">\n                            {{gb.resources.getString('gb_learn_more')}}\n                        </a></span></span>\n<~                  } else {    ~>\n                        <span id=\"{{buttonID}}\" class=\"a-button a-button-span12 a-button-base {{cssClass}}\"><span class=\"a-button-inner\"><a id=\"{{buttonID}}-announce\" href=\"{{templateDecisionInfo.primeSignUpUrl}}\" aria-label=\"{{buttonContext}}\" class=\"a-button-text a-text-center\" role=\"button\">\n                            {{gb.resources.getString('gb_learn_more')}}\n                        </a></span></span>\n<~                  }   ~>\n                    </span>\n<~\n            } else {\n                if (templateDecisionInfo.purchaseState === gb.enums.PurchaseStates.PENDINGATC || templateDecisionInfo.purchaseState === gb.enums.PurchaseStates.ADD_TO_CART || templateDecisionInfo.purchaseState === gb.enums.PurchaseStates.JOIN_WAITLIST) {\n                    if(templateDecisionInfo.purchaseState === gb.enums.PurchaseStates.ADD_TO_CART || templateDecisionInfo.purchaseState === gb.enums.PurchaseStates.PENDINGATC) {\n                        buttonAction = gb.enums.ButtonActions.ATC;\n                    } else {\n                        buttonAction = gb.enums.ButtonActions.JW;\n                    }\n\n                    if(isVariation) {\n                        asin = data.asin ? data.asin.asinID : null;\n\n                        if(data.unavailableAsinSelected) {\n                            buttonStatus = \"disabled\";\n                            buttonAction = null;\n                        }\n                    }\n                    if (data.sponsoredDealAttr && data.sponsoredDealAttr.isSponsored) {\n~>\n                        <span class=\"a-declarative\" data-action=\"{{buttonAction}}\" data-{{buttonAction}}=\"{&quot;position&quot;:&quot;{{data.position}}&quot;,&quot;widgetID&quot;:&quot;{{data.widgetID}}&quot;,&quot;offerID&quot;:&quot;{{data.deal.offerID}}&quot;,&quot;dealID&quot;:&quot;{{data.deal.dealID}}&quot;,&quot;qualifier&quot;:&quot;{{data.sponsoredDealAttr.qualifier}}&quot;,&quot;dealState&quot;:&quot;{{data.deal.dealState}}&quot;,&quot;legacyDealID&quot;:&quot;{{data.deal.legacyDealID}}&quot;,&quot;dealType&quot;:&quot;{{data.deal.dealType}}&quot;,&quot;isSponsored&quot;:&quot;{{data.sponsoredDealAttr.isSponsored}}&quot;,&quot;widgetName&quot;:&quot;{{data.sponsoredDealAttr.widgetName}}&quot;,&quot;adId&quot;:&quot;{{data.sponsoredDealAttr.adId}}&quot;,&quot;asin&quot;:&quot;{{asin}}&quot;,&quot;id&quot;:&quot;{{data.sponsoredDealAttr.id}}&quot;}\">\n<~                      if(isTabletButton) {    ~>\n                            <span id=\"{{buttonID}}\" class=\"a-button a-button-{{buttonStatus}} a-button-span12 a-button-primary a-button-small {{cssClass}}\"><span class=\"a-button-inner\"><button id=\"{{buttonID}}-announce\" aria-label=\"{{buttonContext}}\" class=\"a-button-text a-text-center\" type=\"button\">\n                                {{data.templateDecisionInfo.buttonText}}\n                            </button></span></span>\n<~                      } else {    ~>\n                            <span id=\"{{buttonID}}\" class=\"a-button a-button-{{buttonStatus}} a-button-span12 a-button-primary {{cssClass}}\"><span class=\"a-button-inner\"><button id=\"{{buttonID}}-announce\" aria-label=\"{{buttonContext}}\" class=\"a-button-text a-text-center\" type=\"button\">\n                                {{data.templateDecisionInfo.buttonText}}\n                            </button></span></span>\n<~                      }   ~>\n                        </span>\n<~\n                    } else {\n~>\n                        <span class=\"a-declarative\" data-action=\"{{buttonAction}}\" data-{{buttonAction}}=\"{&quot;dealState&quot;:&quot;{{data.deal.dealState}}&quot;,&quot;legacyDealID&quot;:&quot;{{data.deal.legacyDealID}}&quot;,&quot;dealType&quot;:&quot;{{data.deal.dealType}}&quot;,&quot;position&quot;:&quot;{{data.position}}&quot;,&quot;asin&quot;:&quot;{{asin}}&quot;,&quot;widgetID&quot;:&quot;{{data.widgetID}}&quot;,&quot;offerID&quot;:&quot;{{data.deal.offerID}}&quot;,&quot;dealID&quot;:&quot;{{data.deal.dealID}}&quot;}\">\n<~                      if(isTabletButton) {    ~>\n                            <span id=\"{{buttonID}}\" class=\"a-button a-button-{{buttonStatus}} a-button-span12 a-button-primary a-button-small {{cssClass}}\"><span class=\"a-button-inner\"><button id=\"{{buttonID}}-announce\" aria-label=\"{{buttonContext}}\" class=\"a-button-text a-text-center\" type=\"button\">\n                                {{data.templateDecisionInfo.buttonText}}\n                            </button></span></span>\n<~                      } else {    ~>\n                            <span id=\"{{buttonID}}\" class=\"a-button a-button-{{buttonStatus}} a-button-span12 a-button-primary {{cssClass}}\"><span class=\"a-button-inner\"><button id=\"{{buttonID}}-announce\" aria-label=\"{{buttonContext}}\" class=\"a-button-text a-text-center\" type=\"button\">\n                                {{data.templateDecisionInfo.buttonText}}\n                            </button></span></span>\n<~                      }   ~>\n                        </span>\n<~\n                    }\n                } else if (templateDecisionInfo.purchaseState === gb.enums.PurchaseStates.SEE_DEAL) {\n                    // Open a miniDP popover in case of Supple widget tall cell view and variation deal\n                    if (isVariation && !gb.controller.schedulingParams[data.widgetID].showShortCellView && !gb.resources.isAcceleratedExperience) {\n                        var buttonAction = gb.enums.ButtonActions.SO;\n~>\n                        <span class=\"a-declarative\" data-action=\"{{buttonAction}}\" data-{{buttonAction}}=\"{&quot;dealState&quot;:&quot;{{data.deal.dealState}}&quot;,&quot;legacyDealID&quot;:&quot;{{data.deal.legacyDealID}}&quot;,&quot;dealType&quot;:&quot;{{data.deal.dealType}}&quot;,&quot;position&quot;:&quot;{{data.position}}&quot;,&quot;asin&quot;:&quot;{{asin}}&quot;,&quot;widgetID&quot;:&quot;{{data.widgetID}}&quot;,&quot;offerID&quot;:&quot;{{data.deal.offerID}}&quot;,&quot;dealID&quot;:&quot;{{data.deal.dealID}}&quot;}\">\n<~                      if(isTabletButton) {    ~>\n                            <span id=\"{{buttonID}}\" class=\"a-button a-button-span12 a-button-primary a-button-small {{cssClass}}\"><span class=\"a-button-inner\"><button id=\"{{buttonID}}-announce\" aria-label=\"{{buttonContext}}\" class=\"a-button-text a-text-center\" type=\"button\">\n                                {{data.templateDecisionInfo.buttonText}}\n                            </button></span></span>\n<~                      } else {    ~>\n                            <span id=\"{{buttonID}}\" class=\"a-button a-button-span12 a-button-primary {{cssClass}}\"><span class=\"a-button-inner\"><button id=\"{{buttonID}}-announce\" aria-label=\"{{buttonContext}}\" class=\"a-button-text a-text-center\" type=\"button\">\n                                {{data.templateDecisionInfo.buttonText}}\n                            </button></span></span>\n<~                      }   ~>\n                        </span>\n<~\n                    } else if (data.deal.detail.isGiveawayDeal) {\n\n                        var amazonGiveawayNavigationLink = data.getReffedURL(data.deal.detail.URL, gb.metrics.refTags.giveawayDesktop);\n                        var enterGiveaway = gb.resources.getString('amazon_giveaway');\n~>\n                        <span class=\"a-declarative\" data-action=\"gbdeal-actionrecord\" data-gbdeal-actionrecord=\"{&quot;actionType&quot;:&quot;SEE_MORE&quot;,&quot;position&quot;:&quot;{{data.position}}&quot;,&quot;widgetID&quot;:&quot;{{data.widgetID}}&quot;,&quot;dealID&quot;:&quot;{{data.deal.dealID}}&quot;}\">\n                            <span id=\"{{buttonID}}\" class=\"a-button a-button-span12 a-button-primary {{cssClass}}\"><span class=\"a-button-inner\"><a id=\"{{buttonID}}-announce\" href=\"{{amazonGiveawayNavigationLink}}\" aria-label=\"{{buttonContext}}\" class=\"a-button-text a-text-center\" role=\"button\">\n                                  {{enterGiveaway}}\n                            </a></span></span>\n                        </span>\n<~ \n                    } else {\n                        var customerReffedURL = data.getReffedURL(data.deal.detail.URL, data.customerRefTag);\n~>\n                        <span class=\"a-declarative\" data-action=\"gbdeal-actionrecord\" data-gbdeal-actionrecord=\"{&quot;actionType&quot;:&quot;SEE_MORE&quot;,&quot;position&quot;:&quot;{{data.position}}&quot;,&quot;widgetID&quot;:&quot;{{data.widgetID}}&quot;,&quot;dealID&quot;:&quot;{{data.deal.dealID}}&quot;}\">\n<~                      if(isTabletButton) {    ~>\n                            <span id=\"{{buttonID}}\" class=\"a-button a-button-span12 a-button-primary a-button-small {{cssClass}}\"><span class=\"a-button-inner\"><a id=\"{{buttonID}}-announce\" href=\"{{customerReffedURL}}\" aria-label=\"{{buttonContext}}\" class=\"a-button-text a-text-center\" role=\"button\">\n                                {{data.templateDecisionInfo.buttonText}}\n                            </a></span></span>\n<~                     } else { ~>\n                            <span id=\"{{buttonID}}\" class=\"a-button a-button-span12 a-button-primary {{cssClass}}\"><span class=\"a-button-inner\"><a id=\"{{buttonID}}-announce\" href=\"{{customerReffedURL}}\" aria-label=\"{{buttonContext}}\" class=\"a-button-text a-text-center\" role=\"button\">\n                                {{data.templateDecisionInfo.buttonText}}\n                            </a></span></span>\n<~                      }   ~>\n                        </span>\n<~\n                    }\n                } else if (templateDecisionInfo.purchaseState === gb.enums.PurchaseStates.LEARN_MORE) {\n                    var customerReffedURL = data.getReffedURL(data.deal.detail.URL, data.customerRefTag);\n~>\n                    <span class=\"a-declarative\" data-action=\"gbdeal-actionrecord\" data-gbdeal-actionrecord=\"{&quot;actionType&quot;:&quot;LEARN_MORE&quot;,&quot;position&quot;:&quot;{{data.position}}&quot;,&quot;widgetID&quot;:&quot;{{data.widgetID}}&quot;,&quot;dealID&quot;:&quot;{{data.deal.dealID}}&quot;}\">\n<~                  if(isTabletButton) {    ~>\n                        <span id=\"{{buttonID}}\" class=\"a-button a-button-span12 a-button-base a-button-small {{cssClass}}\"><span class=\"a-button-inner\"><a id=\"{{buttonID}}-announce\" href=\"{{customerReffedURL}}\" aria-label=\"{{buttonContext}}\" class=\"a-button-text a-text-center\" role=\"button\">\n                            {{data.templateDecisionInfo.buttonText}}\n                        </a></span></span>\n<~                  } else if(data.deal.detail.accessType === gb.enums.DealAccessTypes.APP_ONLY_LD || data.deal.detail.accessType === gb.enums.DealAccessTypes.APP_EARLY_ACCESS) { ~>\n                        <span id=\"{{buttonID}}\" class=\"a-button a-button-span12 a-button-primary {{cssClass}}\"><span class=\"a-button-inner\"><a id=\"{{buttonID}}-announce\" href=\"{{customerReffedURL}}\" aria-label=\"{{buttonContext}}\" class=\"a-button-text a-text-center\" role=\"button\">\n                            {{data.templateDecisionInfo.buttonText}}\n                        </a></span></span>\n<~                  } else {    ~>\n                        <span id=\"{{buttonID}}\" class=\"a-button a-button-span12 a-button-base {{cssClass}}\"><span class=\"a-button-inner\"><a id=\"{{buttonID}}-announce\" href=\"{{customerReffedURL}}\" aria-label=\"{{buttonContext}}\" class=\"a-button-text a-text-center\" role=\"button\">\n                            {{data.templateDecisionInfo.buttonText}}\n                        </a></span></span>\n<~                  }   ~>\n                    </span>\n<~\n                }\n            }\n~>\n    </div>","name":"button"},{"template":"<~\n    var title           = data.deal.detail.title;\n    var url             = data.deal.detail.URL;\n    var dotdSoldout     = false;\n\n    if (gb.utils.isDOTDDeal(data.deal) && data.deal.dealState === gb.enums.DealStates.SOLDOUT) {\n        dotdSoldout = true;\n    }\n\n    if (data.deal.dealState === gb.enums.DealStates.UPCOMING || data.deal.dealState === gb.enums.DealStates.COMINGSOON) {\n        if(data.deal.teaser.teaserLine) {\n            title = data.deal.teaser.teaserLine;\n            url = data.deal.teaser.teaserURL || \"\";\n        }\n    }\n\n    if (url) {\n        url = data.getReffedURL(url, gb.metrics.refTags.title);\n    }\n\n    if (dotdSoldout) {\n~>\n        <div class=\"a-row a-spacing-top-mini aok-inline-block unitLineHeight\">\n            <span class=\"a-size-base a-color-secondary titleLineHeight\">\n                {{title}}\n            </span>\n        </div>\n<~\n    } else {\n~>\n        <span class=\"a-declarative\" data-action=\"gbdeal-actionrecord\" data-gbdeal-actionrecord=\"{&quot;actionType&quot;:&quot;TITLE&quot;,&quot;position&quot;:&quot;{{data.position}}&quot;,&quot;widgetID&quot;:&quot;{{data.widgetID}}&quot;,&quot;dealID&quot;:&quot;{{data.deal.dealID}}&quot;}\">\n            <div class=\"a-row a-spacing-top-mini aok-inline-block unitLineHeight\">\n                <a class=\"a-size-base a-link-normal titleLineHeight\" href=\"{{url}}\">\n                    {{title}}\n                </a>\n            </div>\n        </span>\n<~\n    }\n~>","name":"title"},{"template":"<~\n    var checkoutTimeID = gb.enums.WidgetViewIDs.MINI_DP_MODAL + gb.utils.getDealViewID(data.widgetID, data.position) + gb.enums.dealViewIDs.INCARTCLOCK;\n    var youHaveMsg     = gb.resources.getString('gb_you_have');\n    var leftToMsg      = gb.resources.getString('gb_left_to');\n    var checkOut       = gb.resources.getString('gb_checkout');\n    var dealInCartMsg  = gb.resources.getString('gb_deal_in_your_cart');\n    var cartUrl        = decodeURIComponent(gb.enums.MiscLinks.CART_URL);\n\n    if (data.modalIncartTimeString) {\n~>\n        <div class=\"a-row a-size-base\">\n            <div class=\"a-box a-alert-inline a-alert-inline-success a-spacing-none\"><div class=\"a-box-inner a-alert-container\"><i class=\"a-icon a-icon-alert\"></i><div class=\"a-alert-content\">\n                {{dealInCartMsg}}\n            </div></div></div>\n            <br>\n            {{youHaveMsg}}\n            <span id=\"{{checkoutTimeID}}\" class=\"a-text-bold\">\n                {{data.modalIncartTimeString}}\n            </span>\n            {{leftToMsg}}\n            <a class=\"a-link-normal\" href=\"{{cartUrl}}\">\n                {{checkOut}}\n            </a>\n        </div>\n<~\n    }\n~>","name":"incart"},{"template":"<~\n    var percentClaimed = data.asin ? data.asin.status.percentClaimed : data.deal.status.percentClaimed;\n\n    if (percentClaimed !== null) {\n\n        var percentClaimedMessage = gb.resources.getString('csld-pct_claimed_hero', {percentClaimed : percentClaimed});\n\n        if (data.viewStyleInfo.shouldStyleScarcityMessaging) {\n~>\n            <span class=\"a-size-mini a-color-state aok-inline-block unitLineHeight\">\n                {{percentClaimedMessage}}\n            </span>\n<~\n        } else {\n~>\n            <span class=\"a-size-mini a-color-secondary aok-inline-block unitLineHeight\">\n                {{percentClaimedMessage}}\n            </span>\n<~\n        }\n    }\n~>","name":"percentClaimed"},{"template":"<~\n    var couponCountString = gb.resources.getString('csld-number_coupons',{ coupons: data.deal.couponCounts.total });\n~>\n<div class=\"a-row\">\n    <span class=\"a-size-mini a-color-secondary inlineBlock unitLineHeight\">\n        {{couponCountString}}\n    </span>\n</div>","name":"couponCount"},{"template":"<~\n    var percentClaimed = data.asin ? data.asin.status.percentClaimed : data.deal.status.percentClaimed;\n    var shouldShowPercentClaimed = data.templateDecisionInfo.showPercentClaimed;\n\n    if (shouldShowPercentClaimed && percentClaimed !== null) {\n        var percentClaimedFormatted = percentClaimed + '%';\n        var progbarClass = 'progbar';\n~>\n\n        <div class=\"a-row progbarWrapper\">\n        <div class=\"{{progbarClass}}\" style=\"width:{{percentClaimedFormatted}}\"></div>\n        </div>\n<~\n    }\n~>","name":"percentClaimedBar"}],"dealState":[{"template":"<div class=\"dealLoading\">\n    <img src='<~ print(gb.resources.getImage('loading')) ~>' alt=\"<~ print(gb.resources.getString('csld-loading_alt')) ~>\" />\n</div>","name":"loading"},{"template":"<~\n    if (gb.controller.schedulingParams[data.widgetID].showShortCellView) {\n~>\n        <div class=\"a-section dealContainer\">\n\n<~\n    var url = data.deal.detail.URL;\n    if (data.deal.detail.isGiveawayDeal && url) {\n        url = data.getReffedURL(url, gb.metrics.refTags.giveawayDesktop);\n    }\n~>\n    <div class=\"a-section backGround layer\">\n    </div>\n\n    <div class=\"a-section layer\">\n<~\n        var itemType = data.deal.detail.itemType;\n        dealStatusText = gb.resources.getString('gb_deal_ended');\n        if(gb.utils.isDOTDDeal(data.deal)) {\n            if(data.isDoubleCell) {\n~>\n                <div class=\"a-section\">\n                    {{data.elements.image}}\n                    <div class=\"a-row dealTileLowerDouble\">\n<~                      if(data.isPrimeOnly) {  ~>\n                            <div class=\"a-row a-spacing-mini\">{{data.elements.primeBadge}}</div>\n<~                      } else {   ~>\n                            <div class=\"a-row a-spacing-mini\">{{data.elements.dealType}}</div>\n<~                      }   ~>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.title}}</div>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.priceBlock}}</div>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.ifdMessage}}</div>\n                        <span class=\"a-size-base a-color-secondary\">{{dealStatusText}}</span>\n                    </div>\n                </div>\n<~\n            } else {\n~>\n                <div class=\"a-row dealTile\">\n                    {{data.elements.image}}\n<~                  if(data.isPrimeOnly) {  ~>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.primeBadge}}</div>\n<~                  } else {   ~>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.dealType}}</div>\n<~                  }   ~>\n                    <div class=\"a-row a-spacing-mini\">{{data.elements.title}}</div>\n                    <div class=\"a-row a-spacing-mini\">{{data.elements.priceBlock}}</div>\n                    <div class=\"a-row a-spacing-mini\">{{data.elements.ifdMessage}}</div>\n                    <span class=\"a-size-base a-color-secondary\">{{dealStatusText}}</span>\n                </div>\n<~\n            }\n        } else {\n~>\n            <div class=\"a-row dealTile\">\n                {{data.elements.image}}\n<~\n                if(data.deal.detail.accessType) {\n~>\n                    <div class=\"a-row a-spacing-mini\">{{data.elements.primeBadge}}</div>\n<~\n                } else if (\n                    (data.deal.dealType === gb.enums.DealTypes.LOCAL) ||\n                    (data.deal.dealType === gb.enums.DealTypes.BD && itemType != gb.enums.ItemTypes.SINGLE) ||\n                    (data.deal.auxiliaryData.breaksMAP)\n                ) {\n~>\n                    <div class=\"a-row a-spacing-mini hiddenCss\">emptyBlock</div>\n<~\n                }\n                if (data.deal.detail.isGiveawayDeal) {\n~>\n                    {{data.elements.giveaway}}\n                    <div class=\"a-row a-spacing-small\"></div>\n<~\n                }\n~>                \n                <div class=\"a-row a-spacing-mini\">{{data.elements.title}}</div>\n                <span class=\"a-size-base a-color-secondary\">{{dealStatusText}}</span>\n            </div>\n<~\n        }\n~>\n    </div>\n    <~\n    if (data.deal.detail.isGiveawayDeal) {\n~>\n        <a id=\"{{gb.enums.dealViewIDs.IMAGE}}\" class=\"a-link-normal\" href=\"{{url}}\">\n            <div class=\"a-row a-spacing-none giveawayConfettiOverlay giveawayConfettiImage\"></div>\n        </a>\n<~\n    }\n~>\n</div>\n\n<~\n    } else {\n~>\n        <~\nvar url = data.deal.detail.URL;\nif (data.deal.detail.isGiveawayDeal && url) {\n    url = data.getReffedURL(url, gb.metrics.refTags.giveawayDesktop);\n}\n~>\n<div class=\"a-section dealContainer\">\n\n    <div class=\"a-section backGround layer\">\n    </div>\n\n    <div class=\"a-section layer\">\n<~\n        var endsInForExpired = gb.resources.getString('gb_ends_in_zero');\n        var itemType = data.deal.detail.itemType;\n        dealStatusText = gb.resources.getString('gb_deal_ended');\n        if(gb.utils.isDOTDDeal(data.deal)) {\n            if(data.isDoubleCell) {\n~>\n                <div class=\"a-row dealContainer dealTileLowerDouble\">\n                    {{data.elements.image}}\n                    <div class=\"a-row dealDetailContainer\">\n<~                      if(data.isPrimeOnly) {  ~>\n                            <div class=\"a-row a-spacing-mini\">{{data.elements.primeBadge}}</div>\n<~                      } else {   ~>\n                            <div class=\"a-row a-spacing-mini\">{{data.elements.dealType}}</div>\n<~                      }   ~>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.title}}</div>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.priceBlock}}</div>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.ifdMessage}}</div>\n<~\n                        if(itemType === gb.enums.ItemTypes.SINGLE) {\n~>\n                            <div class=\"a-row a-spacing-mini\">{{data.elements.shipSold}}</div>\n<~\n                        }\n~>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.reviewStars}}</div>\n                        <div class=\"a-row a-spacing-medium a-size-base a-color-secondary stackToBottom\">{{dealStatusText}}</div>\n                    </div>\n                </div>\n<~\n            } else {\n~>\n                <div class=\"a-row dealContainer dealTile\">\n                    {{data.elements.image}}\n                    <div class=\"a-row dealDetailContainer\">\n<~                      if(data.isPrimeOnly) {  ~>\n                            <div class=\"a-row a-spacing-mini\">{{data.elements.primeBadge}}</div>\n<~                      } else {   ~>\n                            <div class=\"a-row a-spacing-mini\">{{data.elements.dealType}}</div>\n<~                      }   ~>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.priceBlock}}</div>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.ifdMessage}}</div>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.title}}</div>\n<~\n                        if(itemType === gb.enums.ItemTypes.SINGLE) {\n~>\n                            <div class=\"a-row a-spacing-mini\">{{data.elements.shipSold}}</div>\n<~\n                        }\n~>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.reviewStars}}</div>\n                        <div class=\"a-row a-spacing-medium a-size-base a-color-base stackToBottom\">{{dealStatusText}}</div>\n                    </div>\n                </div>\n<~\n            }\n        } else if(data.deal.dealType === gb.enums.DealTypes.LD) {\n~>\n            <div class=\"a-row dealContainer dealTile\">\n                {{data.elements.image}}\n                <div class=\"a-row dealDetailContainer\">\n<~\n                    if (data.deal.detail.accessType) {\n~>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.primeBadge}}</div>\n<~\n                    } else {\n~>\n                        <div class=\"a-row a-spacing-mini hiddenCss\">emptyBlock</div>\n<~\n                    }\n~>\n                    <div class=\"a-row a-spacing-mini\">\n                        {{data.elements.priceBlock}}\n                    </div>\n                    <div class=\"a-row a-spacing-mini\">{{data.elements.ifdMessage}}</div>\n                    <div class=\"a-row a-spacing-mini unitLineHeight\">\n                        {{data.elements.percentClaimedBar}}\n                    </div>\n\n\n<~\n                    if (!data.showCouponCount) {\n~>\n                        <div class=\"a-row a-spacing-mini unitLineHeight\">\n<~\n                        if (data.templateDecisionInfo.showPercentClaimed) {\n~>\n                            <div class=\"a-column a-span5 a-text-left unitLineHeight\">\n                                {{data.elements.percentClaimed}}\n                            </div>\n                            <div class=\"a-column a-span7 a-text-right unitLineHeight a-span-last\">\n                                <span class=\"a-size-mini a-color-secondary inlineBlock unitLineHeight\">\n                                    {{endsInForExpired}}\n                                </span>\n                            </div>\n<~\n                        } else {\n~>\n                            <div class=\"a-column a-span12 a-text-left unitLineHeight\">\n                                <span class=\"a-size-mini a-color-secondary inlineBlock unitLineHeight\">\n                                    {{endsInForExpired}}\n                                </span>\n                            </div>\n<~\n                        }\n~>\n                        </div>\n<~\n                    } else {\n~>\n                        <div class=\"a-row a-spacing-mini unitLineHeight\">\n<~\n                        if (data.templateDecisionInfo.showPercentClaimed) {\n~>\n                            <div class=\"a-column a-span8 a-text-left unitLineHeight\">\n                                {{data.elements.percentClaimed}}\n                            </div>\n                            <div class=\"a-column a-span4 a-text-right unitLineHeight a-span-last\">\n                                {{data.elements.couponCount}}\n                            </div>\n<~\n                        } else {\n~>\n                            <div class=\"a-column a-span12 a-text-left unitLineHeight\">\n                                {{data.elements.couponCount}}\n                            </div>\n<~\n                        }\n~>\n                        </div>\n\n                        <div class=\"a-row a-spacing-mini a-spacing-top-mini unitLineHeight\">\n                            {{endsInForExpired}}\n                        </div>\n<~\n                    }\n~>\n\n                    <div class=\"a-row a-spacing-mini unitLineHeight\">{{data.elements.title}}</div>\n                    <div class=\"a-row a-spacing-mini\">{{data.elements.shipSold}}</div>\n                    <div class=\"a-row a-spacing-mini\">{{data.elements.reviewStars}}</div>\n                    <div class=\"a-row a-spacing-medium a-size-base a-color-base stackToBottom\">{{dealStatusText}}</div>\n                </div>\n            </div>\n<~\n    } else if(data.deal.dealType === gb.enums.DealTypes.BD ) {\n~>\n        <div class=\"a-row dealContainer dealTile\">\n            {{data.elements.image}}\n            <div class=\"a-row dealDetailContainer\">\n<~\n                if (data.isPrimeOnly) {\n~>\n                    <div class=\"a-row a-spacing-mini\">{{data.elements.primeBadge}}</div>\n<~\n                } else {\n~>\n                    <div class=\"a-row a-spacing-mini hiddenCss\">emptyBlock</div>\n<~\n                }\n                if (data.deal.detail.isGiveawayDeal) {\n~>\n                    {{data.elements.giveaway}}\n                    <div class=\"a-row a-spacing-base\"></div>\n<~\n                } else {\n~>\n                    <div class=\"a-row a-spacing-mini\">{{data.elements.priceBlock}}</div>\n<~\n                }\n~>\n                <div class=\"a-row a-spacing-mini\">{{data.elements.ifdMessage}}</div>\n                <div class=\"a-row a-spacing-mini\">{{data.elements.title}}</div>\n                <div class=\"a-row a-spacing-medium a-size-base a-color-base stackToBottom\">{{dealStatusText}}</div>\n            </div>\n        </div>\n<~\n    } else if(data.deal.dealType === gb.enums.DealTypes.COUPON) {\n~>\n        <div class=\"a-row dealContainer dealTile\">\n            {{data.elements.image}}\n            <div class=\"a-row dealDetailContainer\">\n                <div class=\"a-row a-spacing-mini hiddenCss\">emptyBlock</div>\n                <div class=\"a-row a-spacing-mini\">{{data.elements.priceBlock}}</div>\n                <div class=\"a-row a-spacing-mini\">{{data.elements.ifdMessage}}</div>\n                <div class=\"a-row a-spacing-mini\">{{data.elements.title}}</div>\n                <div class=\"a-row a-spacing-medium a-size-base a-color-base stackToBottom\">{{dealStatusText}}</div>\n            </div>\n        </div>\n<~\n    } else if(data.deal.dealType === gb.enums.DealTypes.LOCAL) {\n~>\n        <div class=\"a-row dealContainer dealTile\">\n            {{data.elements.image}}\n            <div class=\"a-row dealDetailContainer\">\n                <div class=\"a-row a-spacing-mini hiddenCss\">emptyBlock</div>\n                <div class=\"a-row a-spacing-mini\">{{data.elements.title}}</div>\n                <div class=\"a-row a-spacing-mini\">{{data.elements.priceBlock}}</div>\n                <div class=\"a-row a-spacing-mini\">{{data.elements.ifdMessage}}</div>\n                <div class=\"a-row a-spacing-medium a-size-base a-color-base stackToBottom\">{{dealStatusText}}</div>\n            </div>\n        </div>\n<~\n    }\n~>\n    </div>\n<~\n    if (data.deal.detail.isGiveawayDeal) {\n~>\n        <a id=\"{{gb.enums.dealViewIDs.IMAGE}}\" class=\"a-link-normal\" href=\"{{url}}\">\n            <div class=\"a-row a-spacing-none giveawayConfettiOverlay giveawayConfettiImage\"></div>\n        </a>\n<~\n    }\n~>\n</div>\n\n<~\n    }\n~>","name":"expired"},{"template":"<~\n    if (gb.controller.schedulingParams[data.widgetID].showShortCellView) {\n~>\n        <div class=\"a-section dealContainer\">\n\n    <div class=\"a-section backGround layer\">\n    </div>\n\n    <div class=\"a-section layer\">\n<~\n        var itemType = data.deal.detail.itemType;\n        if(data.deal.dealType === gb.enums.DealTypes.DOTD) {\n        var dealText = gb.resources.getString('gb-upcoming-deal-of-the-day');\n            if(data.isDoubleCell) {\n~>\n                <div class=\"a-section\">\n                    {{data.elements.image}}\n                    <div class=\"a-row dealTileLowerDouble dealContainer\">\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.dealType}}</div>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.title}}</div>\n                        <div class=\"a-row bottomMinusTen\">{{data.elements.time}}</div>\n                    </div>\n                </div>\n<~\n            } else {\n~>\n                <div class=\"a-row dealTile dealContainer\">\n                    {{data.elements.image}}\n                    <div class=\"a-row a-spacing-mini\">{{data.elements.dealType}}</div>\n                    <div class=\"a-row a-spacing-mini\">{{data.elements.title}}</div>\n                    <div class=\"a-row bottomMinusTen\">{{data.elements.time}}</div>\n                </div>\n<~\n            }\n        } else {\n~>\n            <div class=\"a-row dealTile dealContainer\">\n<~\n                if(data.deal.detail.accessType) {\n~>\n                    <div class=\"a-row imageContainer\">\n                        {{data.elements.image}}\n                        <div class=\"a-row titleContainer\">\n                            {{data.elements.title}}\n                        </div>\n                    </div>\n<~\n                } else {\n~>\n                    {{data.elements.image}}\n<~\n                    if( (data.deal.dealType === gb.enums.DealTypes.LOCAL) ||\n                        (data.deal.dealType === gb.enums.DealTypes.BD && itemType != gb.enums.ItemTypes.SINGLE) ||\n                        (data.deal.auxiliaryData.breaksMAP)\n                    ) {\n~>\n                        <div class=\"a-row a-spacing-mini hiddenCss\">emptyBlock</div>\n<~\n                    }\n~>\n                    <div class=\"a-row a-spacing-mini\">{{data.elements.title}}</div>\n<~\n                }\n                if(data.deal.detail.accessType) {\n~>\n                    <div class=\"a-row a-spacing-mini\">{{data.elements.primeBadge}}</div>\n<~\n                }\n~>\n                <div class=\"a-row a-spacing-mini\">{{data.elements.time}}</div>\n<~\n                if( data.isWatchDeal ){\n~>\n                    <div class=\"a-row a-spacing-none buttonOuterContainer\">{{data.elements.watchButton}}</div>\n<~\n                }\n~>\n            </div>\n<~\n        }\n~>\n    </div>\n</div>\n\n<~\n    } else {\n~>\n        <div class=\"a-section dealContainer\">\n\n    <div class=\"a-section backGround layer\">\n    </div>\n\n    <div class=\"a-section layer\">\n<~\n        var itemType = data.deal.detail.itemType;\n        if(data.deal.dealType === gb.enums.DealTypes.DOTD) {\n        var dealText = gb.resources.getString('gb-upcoming-deal-of-the-day');\n            if(data.isDoubleCell) {\n~>\n                <div class=\"a-row dealContainer dealTileLowerDouble\">\n                    {{data.elements.image}}\n                    <div class=\"a-row dealDetailContainer\">\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.dealType}}</div>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.title}}</div>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.time}}</div>\n<~\n                        if (itemType === gb.enums.ItemTypes.SINGLE) {\n~>\n                            <div class=\"a-row a-spacing-mini\">{{data.elements.shipSold}}</div>\n<~\n                        }\n~>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.reviewStars}}</div>\n                    </div>\n                </div>\n<~\n            } else {\n~>\n                <div class=\"a-row dealContainer dealTile\">\n                    {{data.elements.image}}\n                    <div class=\"a-row dealDetailContainer\">\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.dealType}}</div>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.time}}</div>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.title}}</div>\n<~\n                        if(itemType === gb.enums.ItemTypes.SINGLE) {\n~>\n                            <div class=\"a-row a-spacing-mini\">{{data.elements.shipSold}}</div>\n<~\n                        }\n~>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.reviewStars}}</div>\n                    </div>    \n                </div>\n<~\n            }\n        } else {\n~>\n            <div class=\"a-row dealTile dealContainer\">\n                {{data.elements.image}}\n                <div class=\"a-row dealDetailContainer\">\n<~\n                    if(data.deal.detail.accessType) {\n~>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.primeBadge}}</div>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.title}}</div>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.time}}</div>\n                        {{data.elements.appEarlyAccess}}\n                        {{data.elements.appOnlyAccess}}\n                        <div id=\"primeOnlySection\" class=\"a-section\">{{data.elements.primeOnlyAccess}}</div>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.primeEarlyAccess}}</div>\n<~\n                    } else {\n~>\n                        <div class=\"a-row a-spacing-mini hiddenCss\">emptyBlock</div>\n                        <div class=\"a-row a-spacing-top-mini\">{{data.elements.title}}</div>\n                        <div class=\"a-row a-spacing-top-mini\">{{data.elements.time}} </div>\n<~\n                    }\n                    if ( data.isWatchDeal ) {\n~>\n                        <div class=\"a-row a-spacing-top-mini stackToBottom\">{{data.elements.watchButton}}</div>\n<~\n                    }\n~>\n                </div>\n            </div>\n<~\n        }\n~>\n    </div>\n</div>\n\n<~\n    }\n~>","name":"upcoming"},{"template":"    <div class=\"a-section dealContainer\">\n\n        <div class=\"a-section backGround layer\">\n        </div>\n\n        <div class=\"a-section layer\">\n<~\n            var itemType = data.deal.detail.itemType;\n            if(gb.utils.isDOTDDeal(data.deal)) {\n            var dealText = gb.resources.getString('gbd_coming_soon');\n                if(data.isDoubleCell) {\n~>\n                    <div class=\"a-section\">\n                        {{data.elements.image}}\n                        <div class=\"a-row dealTileLowerDouble\">\n<~\n                            if(itemType === gb.enums.ItemTypes.SINGLE) {\n                                if(data.isPrimeOnly) {  ~>\n                                    <div class=\"a-row a-spacing-mini\">{{data.elements.primeBadge}}</div>\n<~                              } else {   ~>\n                                    <div class=\"a-row a-spacing-mini\">{{data.elements.dealType}}</div>\n<~                              }   ~>\n                                <div class=\"a-row a-spacing-mini\">{{data.elements.title}}</div>\n                                <div class=\"a-row bottomMinusTen\">{{dealText}} </div>\n<~\n                            } else {\n                                if(data.isPrimeOnly) {  ~>\n                                    <div class=\"a-row a-spacing-mini\">{{data.elements.primeBadge}}</div>\n<~                              } else {   ~>\n                                    <div class=\"a-row a-spacing-mini\">{{data.elements.dealType}}</div>\n<~                              }   ~>\n                                <div class=\"a-row a-spacing-mini\">{{data.elements.title}}</div>\n                                <div class=\"a-row bottomMinusTen\">{{dealText}} </div>\n<~\n                            }\n~>\n                    </div>\n                </div>\n<~\n                } else {\n~>\n                    <div class=\"a-row dealTile\">\n                        {{data.elements.image}}\n<~\n                        if(itemType === gb.enums.ItemTypes.SINGLE) {\n                            if(data.isPrimeOnly) {  ~>\n                                <div class=\"a-row a-spacing-mini\">{{data.elements.primeBadge}}</div>\n<~                          } else {   ~>\n                                <div class=\"a-row a-spacing-mini\">{{data.elements.dealType}}</div>\n<~                          }   ~>\n                            <div class=\"a-row a-spacing-mini\">{{data.elements.title}}</div>\n                            <div class=\"a-row bottomMinusTen\">{{dealText}} </div>\n<~\n                        } else {\n                            if(data.isPrimeOnly) {  ~>\n                                <div class=\"a-row a-spacing-mini\">{{data.elements.primeBadge}}</div>\n<~                          } else {   ~>\n                                <div class=\"a-row a-spacing-mini\">{{data.elements.dealType}}</div>\n<~                          }   ~>\n                            <div class=\"a-row a-spacing-mini\">{{data.elements.title}}</div>\n                            <div class=\"a-row bottomMinusTen\">{{dealText}} </div>\n<~\n                        }\n~>\n                    </div>\n<~\n                }\n            } else {\n~>\n                <div class=\"a-row dealTile\">\n<~\n                    if(data.deal.detail.accessType) {\n~>\n                        <div class=\"a-row imageContainer\">\n                            {{data.elements.image}}\n                            <div class=\"a-row titleContainer\">\n                                {{data.elements.title}}\n                            </div>\n                        </div>\n<~\n                    } else {\n~>\n                        {{data.elements.image}}\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.title}}</div>\n<~\n                    }\n                    if(data.deal.detail.accessType) {\n~>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.primeBadge}}</div>\n<~\n                    }\n~>\n                    <div class=\"a-row bottomMinusTen\">{{dealText}} </div>\n                </div>\n<~\n            }\n~>\n        </div>\n    </div>","name":"comingSoon"},{"template":"<~\n    if (gb.controller.schedulingParams[data.widgetID].showShortCellView) {\n~>\n        <div class=\"a-section dealContainer\">\n\n    <div class=\"a-section backGround layer\">\n    </div>\n\n    <div class=\"a-section layer\">\n<~\n        var itemType = data.deal.detail.itemType;\n        dealStatusText = gb.resources.getString('gb_soldout');\n        if(gb.utils.isDOTDDeal(data.deal)) {\n            if(data.isDoubleCell) {\n~>\n                <div class=\"a-section\">\n                    {{data.elements.image}}\n                    <div class=\"a-row dealTileLowerDouble\">\n<~                      if(data.isPrimeOnly) {  ~>\n                            <div class=\"a-row a-spacing-mini\">{{data.elements.primeBadge}}</div>\n<~                      } else {   ~>\n                            <div class=\"a-row a-spacing-mini\">{{data.elements.dealType}}</div>\n<~                      }   ~>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.title}}</div>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.priceBlock}}</div>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.ifdMessage}}</div>\n                        <span class=\"a-size-base a-color-secondary\">{{dealStatusText}}</span>\n                    </div>\n                </div>\n<~\n            } else {\n~>\n                <div class=\"a-row dealTile\">\n                    {{data.elements.image}}\n<~                  if(data.isPrimeOnly) {  ~>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.primeBadge}}</div>\n<~                  } else {   ~>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.dealType}}</div>\n<~                  }   ~>\n                    <div class=\"a-row a-spacing-mini\">{{data.elements.title}}</div>\n                    <div class=\"a-row a-spacing-mini\">{{data.elements.priceBlock}}</div>\n                    <div class=\"a-row a-spacing-mini\">{{data.elements.ifdMessage}}</div>\n                    <span class=\"a-size-base a-color-secondary\">{{dealStatusText}}</span>\n                </div>\n<~\n            }\n        } else {\n~>\n            <div class=\"a-row dealTile\">\n                {{data.elements.image}}\n<~\n                if( (data.deal.dealType === gb.enums.DealTypes.LOCAL) ||\n                    (data.deal.dealType === gb.enums.DealTypes.BD && itemType != gb.enums.ItemTypes.SINGLE) ||\n                    (data.deal.auxiliaryData.breaksMAP)\n                ) {\n~>\n                    <div class=\"a-row a-spacing-mini hiddenCss\">emptyBlock</div>\n<~\n                }\n~>\n                <div class=\"a-row a-spacing-mini\">{{data.elements.title}}</div>\n<~\n                if(data.deal.detail.accessType) {\n~>\n                    <div class=\"a-row a-spacing-mini\">{{data.elements.primeBadge}}</div>\n<~\n                }\n~>\n                <span class=\"a-size-base a-color-secondary\">{{dealStatusText}}</span>\n            </div>\n<~\n        }\n~>\n    </div>\n</div>\n<~\n    } else {\n~>\n        <div class=\"a-section dealContainer\">\n\n    <div class=\"a-section backGround layer\">\n    </div>\n\n    <div class=\"a-section layer\">\n<~\n        var itemType = data.deal.detail.itemType;\n        dealStatusText = gb.resources.getString('gb_soldout');\n        if(gb.utils.isDOTDDeal(data.deal)) {\n            if(data.isDoubleCell) {\n~>\n                <div class=\"a-row dealContainer dealTileLowerDouble\">\n                    {{data.elements.image}}\n                    <div class=\"a-row dealDetailContainer\">\n<~                      if(data.isPrimeOnly) {  ~>\n                            <div class=\"a-row a-spacing-mini\">{{data.elements.primeBadge}}</div>\n<~                      } else {   ~>\n                            <div class=\"a-row a-spacing-mini\">{{data.elements.dealType}}</div>\n<~                      }   ~>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.title}}</div>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.priceBlock}}</div>\n<~\n                        if(itemType === gb.enums.ItemTypes.SINGLE) {\n~>\n                            <div class=\"a-row a-spacing-mini\">{{data.elements.shipSold}}</div>\n<~\n                        }\n~>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.reviewStars}}</div>\n                        <div class=\"a-row a-spacing-medium a-size-base a-color-secondary stackToBottom\">{{dealStatusText}}</div>\n                    </div>\n                </div>\n<~\n            } else {\n~>\n                <div class=\"a-row dealContainer dealTile\">\n                    {{data.elements.image}}\n                    <div class=\"a-row dealDetailContainer\">\n<~                      if(data.isPrimeOnly) {  ~>\n                            <div class=\"a-row a-spacing-mini\">{{data.elements.primeBadge}}</div>\n<~                      } else {   ~>\n                            <div class=\"a-row a-spacing-mini\">{{data.elements.dealType}}</div>\n<~                      }   ~>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.priceBlock}}</div>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.ifdMessage}}</div>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.title}}</div>\n<~\n                        if(itemType === gb.enums.ItemTypes.SINGLE) {\n~>\n                            <div class=\"a-row a-spacing-mini\">{{data.elements.shipSold}}</div>\n<~\n                        }\n~>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.reviewStars}}</div>\n                        <div class=\"a-row a-spacing-medium a-size-base a-color-base stackToBottom\">{{dealStatusText}}</div>\n                    </div>\n                </div>\n<~\n            }\n        } else if(data.deal.dealType === gb.enums.DealTypes.LD) {\n~>\n            <div class=\"a-row dealContainer dealTile\">\n                {{data.elements.image}}\n                <div class=\"a-row dealDetailContainer\">\n<~\n                    if(data.deal.detail.accessType) {\n~>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.primeBadge}}</div>\n<~\n                    } else {\n~>\n                        <div class=\"a-row a-spacing-mini hiddenCss\">emptyBlock</div>\n<~\n                    }\n~>\n                    <div class=\"a-row a-spacing-mini hiddenCss\">emptyBlock</div>\n                    <div class=\"a-row a-spacing-mini\">\n                        {{data.elements.priceBlock}}\n                    </div>\n                    <div class=\"a-row a-spacing-mini\">{{data.elements.ifdMessage}}</div>\n                    <div class=\"a-row a-spacing-mini unitLineHeight\">\n                        {{data.elements.percentClaimedBar}}\n                    </div>\n\n<~\n                    if (!data.showCouponCount) {\n~>\n                        <div class=\"a-row a-spacing-mini unitLineHeight\">\n<~\n                        if (data.templateDecisionInfo.showPercentClaimed) {\n~>\n                            <div class=\"a-column a-span5 a-text-left unitLineHeight\">\n                                {{data.elements.percentClaimed}}\n                            </div>\n                            <div class=\"a-column a-span7 a-text-right unitLineHeight a-span-last\">\n                                <span class=\"a-size-mini a-color-secondary inlineBlock unitLineHeight\">\n                                    {{data.elements.time}}\n                                </span>\n                            </div>\n<~\n                        } else {\n~>\n                            <div class=\"a-column a-span12 a-text-left unitLineHeight\">\n                                <span class=\"a-size-mini a-color-secondary inlineBlock unitLineHeight\">\n                                    {{data.elements.time}}\n                                </span>\n                            </div>\n<~\n                        }\n~>\n                        </div>\n<~\n                    } else {\n~>\n                        <div class=\"a-row a-spacing-mini unitLineHeight\">\n<~\n                        if (data.templateDecisionInfo.showPercentClaimed) {\n~>\n                            <div class=\"a-column a-span8 a-text-left unitLineHeight\">\n                                {{data.elements.percentClaimed}}\n                            </div>\n                            <div class=\"a-column a-span4 a-text-right unitLineHeight a-span-last\">\n                                {{data.elements.couponCount}}\n                            </div>\n<~\n                        } else {\n~>\n                            <div class=\"a-column a-span12 a-text-left unitLineHeight\">\n                                {{data.elements.couponCount}}\n                            </div>\n<~\n                        }\n~>\n                        </div>\n\n                        <div class=\"a-row a-spacing-mini a-spacing-top-mini unitLineHeight\">\n                            {{data.elements.time}}\n                        </div>\n<~\n                    }\n~>\n                    <div class=\"a-row a-spacing-mini unitLineHeight\">{{data.elements.title}}</div>\n                    <div class=\"a-row a-spacing-mini\">{{data.elements.shipSold}}</div>\n                    <div class=\"a-row a-spacing-mini\">{{data.elements.reviewStars}}</div>\n                    <div class=\"a-row a-spacing-medium a-size-base a-color-base stackToBottom\">{{dealStatusText}}</div>\n                </div>\n            </div>\n<~\n    } else if(data.deal.dealType === gb.enums.DealTypes.BD ) {\n~>\n        <div class=\"a-row dealContainer dealTile\">\n            {{data.elements.image}}\n            <div class=\"a-row dealDetailContainer\">\n<~\n                if(data.deal.detail.accessType) {\n~>\n                    <div class=\"a-row a-spacing-mini\">{{data.elements.primeBadge}}</div>\n<~\n                } else {\n~>\n                    <div class=\"a-row a-spacing-mini hiddenCss\">emptyBlock</div>\n<~\n                }\n~>\n                <div class=\"a-row a-spacing-mini hiddenCss\">emptyBlock</div>\n                <div class=\"a-row a-spacing-mini\">{{data.elements.priceBlock}}</div>\n                <div class=\"a-row a-spacing-mini\">{{data.elements.ifdMessage}}</div>\n                <div class=\"a-row a-spacing-mini\">{{data.elements.title}}</div>\n                <div class=\"a-row a-spacing-medium a-size-base a-color-base stackToBottom\">{{dealStatusText}}</div>\n            </div>\n        </div>\n<~\n    } else if(data.deal.dealType === gb.enums.DealTypes.COUPON) {\n~>\n        <div class=\"a-row dealContainer dealTile\">\n            {{data.elements.image}}\n            <div class=\"a-row dealDetailContainer\">\n                <div class=\"a-row a-spacing-mini hiddenCss\">emptyBlock</div>\n                <div class=\"a-row a-spacing-mini\">{{data.elements.priceBlock}}</div>\n                <div class=\"a-row a-spacing-mini\">{{data.elements.ifdMessage}}</div>\n                <div class=\"a-row a-spacing-mini\">{{data.elements.title}}</div>\n                <div class=\"a-row a-spacing-medium a-size-base a-color-base stackToBottom\">{{dealStatusText}}</div>\n            </div>\n        </div>\n<~\n    } else if(data.deal.dealType === gb.enums.DealTypes.LOCAL) {\n~>\n        <div class=\"a-row dealContainer dealTile\">\n            {{data.elements.image}}\n            <div class=\"a-row dealDetailContainer\">\n                <div class=\"a-row a-spacing-mini hiddenCss\">emptyBlock</div>\n                <div class=\"a-row a-spacing-mini\">{{data.elements.title}}</div>\n                <div class=\"a-row a-spacing-mini\">{{data.elements.priceBlock}}</div>\n                <div class=\"a-row a-spacing-mini\">{{data.elements.ifdMessage}}</div>\n                <div class=\"a-row a-spacing-medium a-size-base a-color-base stackToBottom\">{{dealStatusText}}</div>\n            </div>\n        </div>\n<~\n    }\n~>\n    </div>\n</div>\n<~\n    }\n~>","name":"soldout"},{"template":"<~\n    if (gb.controller.schedulingParams[data.widgetID].showShortCellView) {\n~>\n        <div class=\"a-section dealContainer\">\n<~\n    var url = data.deal.detail.URL;\n    if (data.deal.detail.isGiveawayDeal && url) {\n        url = data.getReffedURL(url, gb.metrics.refTags.giveawayDesktop);\n    }\n~>\n    <div class=\"a-section backGround layer\">\n    </div>\n\n    <div class=\"a-section layer\">\n<~\n        var itemType = data.deal.detail.itemType;\n        var isPOAccessType = data.deal.detail.accessType === gb.enums.DealAccessTypes.PRIME_ONLY_DOTD;\n        if(data.deal.dealType === gb.enums.DealTypes.LD || isPOAccessType) {\n            var stateTemplate = null;\n            switch (data.templateDecisionInfo.purchaseState) {\n                case gb.enums.PurchaseStates.INCART        : stateTemplate = data.elements.incart; break;\n                case gb.enums.PurchaseStates.INWAITLIST    : stateTemplate = data.elements.inwaitlist; break;\n                case gb.enums.PurchaseStates.PENDINGATC    : stateTemplate = data.elements.pendingatc; break;\n                case gb.enums.PurchaseStates.WAITLIST_FULL : stateTemplate = data.elements.waitlistfull; break;\n                case gb.enums.PurchaseStates.CLAIMED       : stateTemplate = data.elements.claimed;\n            }\n        }\n        if(gb.utils.isDOTDDeal(data.deal)) {\n            if(data.isDoubleCell) {\n~>\n                <div class=\"a-section\">\n                    {{data.elements.image}}\n                    <div class=\"a-row dealTileLowerDouble\">\n<~                      if(data.isPrimeOnly) {  ~>\n                            <div class=\"a-row a-spacing-mini\">{{data.elements.primeBadge}}</div>\n<~                      } else {   ~>\n                            <div class=\"a-row a-spacing-mini\">{{data.elements.dealType}}</div>\n<~                      }   ~>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.title}}</div>\n<~\n                        if(stateTemplate) {\n~>\n                            {{stateTemplate}}\n<~\n                        } else {\n~>\n                            <div class=\"a-row a-spacing-mini\">{{data.elements.priceBlock}}</div>\n                            <div class=\"a-row a-spacing-mini\">{{data.elements.ifdMessage}}</div>\n                            <div class=\"a-row bottomMinusTen\">{{data.elements.time}}</div>\n<~                      }   ~>\n                    </div>\n                </div>\n<~\n            } else {\n~>\n                <div class=\"a-row dealTile\">\n                    {{data.elements.image}}\n<~                      if(data.isPrimeOnly) {  ~>\n                            <div class=\"a-row a-spacing-mini\">{{data.elements.primeBadge}}</div>\n<~                      } else {   ~>\n                            <div class=\"a-row a-spacing-mini\">{{data.elements.dealType}}</div>\n<~                      }   ~>\n                    <div class=\"a-row a-spacing-mini\">{{data.elements.title}}</div>\n<~\n                    if(stateTemplate) {\n~>\n                        {{stateTemplate}}\n<~\n                    } else {\n~>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.priceBlock}}</div>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.ifdMessage}}</div>\n                        <div class=\"a-row buttonOuterContainer\">{{data.elements.time}}</div>\n<~                  }   ~>\n                </div>\n<~\n            }\n        } else if(data.deal.dealType === gb.enums.DealTypes.LD) {\n~>\n            <div class=\"a-row dealTile\">\n<~\n                if(gb.utils.isDealInEarlyAccessWindow(data.deal)) {\n~>\n                    <div class=\"a-row imageContainer\">\n                        {{data.elements.image}}\n                        <div class=\"a-row titleContainer\">\n                            {{data.elements.title}}\n                        </div>\n                    </div>\n<~\n                } else {\n~>\n                    {{data.elements.image}}\n                    <div class=\"a-row a-spacing-mini\">{{data.elements.title}}</div>\n<~\n                }\n                if (stateTemplate) {\n~>\n                    {{stateTemplate}}\n<~\n                } else {\n                    if(gb.utils.isDealInEarlyAccessWindow(data.deal) || data.isPrimeOnly || data.deal.detail.accessType === gb.enums.DealAccessTypes.APP_ONLY_LD) {\n~>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.primeBadge}}</div>\n<~\n                    }\n~>\n                    <div class=\"a-row a-spacing-top-mini\">{{data.elements.priceBlock}}</div>\n                    <div class=\"a-row a-spacing-mini\">{{data.elements.ifdMessage}}</div>\n                    <div class=\"a-row a-spacing-top-mini unitLineHeight\">{{data.elements.percentClaimedBar}}</div>\n\n<~\n                    if (!data.showCouponCount) {\n~>\n                        <div class=\"a-row a-spacing-top-mini unitLineHeight\">\n<~\n                        if (data.templateDecisionInfo.purchaseState === gb.enums.PurchaseStates.JOIN_WAITLIST) {\n~>\n                            <div class=\"a-column a-span5 a-text-left unitLineHeight\">\n                                {{data.elements.waitlistavailable}}\n                            </div>\n                            <div class=\"a-column a-span7 a-text-right unitLineHeight a-span-last\">\n                                {{data.elements.time}}\n                            </div>\n<~\n                        } else {\n\n                            if (data.templateDecisionInfo.showPercentClaimed) {\n~>\n                                <div class=\"a-column a-span5 a-text-left unitLineHeight\">\n                                    {{data.elements.percentClaimed}}\n                                </div>\n                                <div class=\"a-column a-span7 a-text-right unitLineHeight a-span-last\">\n                                    {{data.elements.time}}\n                                </div>\n<~\n                            } else {\n~>\n                                <div class=\"a-column a-span12 a-text-left unitLineHeight\">\n                                    {{data.elements.time}}\n                                </div>\n<~\n                            }\n\n                        }\n~>\n                        </div>\n<~\n                    } else {\n~>\n                        <div class=\"a-row a-spacing-top-mini unitLineHeight\">\n<~\n                        if (data.templateDecisionInfo.showPercentClaimed) {\n~>\n                            <div class=\"a-column a-span8 a-text-left unitLineHeight\">\n<~\n                            if (data.templateDecisionInfo.purchaseState === gb.enums.PurchaseStates.JOIN_WAITLIST) {\n~>\n                                {{data.elements.waitlistavailable}}\n<~\n                            } else {\n~>\n                                {{data.elements.percentClaimed}}\n<~\n                            }\n~>\n                            </div>\n                            <div class=\"a-column a-span4 a-text-right unitLineHeight a-span-last\">\n                                {{data.elements.couponCount}}\n                            </div>\n<~\n                        } else {\n\n                            if (data.templateDecisionInfo.purchaseState === gb.enums.PurchaseStates.JOIN_WAITLIST) {\n~>\n                                <div class=\"a-column a-span8 a-text-left unitLineHeight\">\n                                    {{data.elements.waitlistavailable}}\n                                </div>\n                                <div class=\"a-column a-span4 a-text-right unitLineHeight a-span-last\">\n                                    {{data.elements.couponCount}}\n                                </div>\n<~\n                            } else {\n~>\n                                <div class=\"a-column a-span12 a-text-left unitLineHeight\">\n                                    {{data.elements.couponCount}}\n                                </div>\n<~\n                            }\n                        }\n~>\n                        </div>\n\n                        <div class=\"a-row a-spacing-top-mini unitLineHeight\">\n                            {{data.elements.time}}\n                        </div>\n<~\n                    }\n                }\n~>\n            </div>\n<~\n        } else if(data.deal.dealType === gb.enums.DealTypes.BD || data.deal.dealType === gb.enums.DealTypes.EVENT) {\n~>\n            <div class=\"a-row dealTile\">\n                {{data.elements.image}}\n<~              if(data.isPrimeOnly) {  ~>\n                    <div class=\"a-row a-spacing-mini\">{{data.elements.primeBadge}}</div>\n<~              } else {\n                    if (data.deal.detail.isGiveawayDeal) {\n~>\n                        <div class=\"a-row a-spacing-none hiddenCss\">&nbsp;</div>\n<~\n                    } else {\n~>\n                        <div class=\"a-row a-spacing-mini hiddenCss\">&nbsp;</div>\n<~                  }\n                }\n\n                if(data.deal.auxiliaryData.breaksMAP) {\n~>\n                    <div class=\"a-section a-spacing-mini\">{{data.elements.priceBlock}}</div>\n                    <div class=\"a-row a-spacing-mini\">{{data.elements.ifdMessage}}</div>\n<~\n                }\n                if(itemType === gb.enums.ItemTypes.SINGLE) {\n                    if (data.deal.auxiliaryData.breaksMAP) {\n~>\n                        <div class=\"a-row a-spacing-mini hiddenCss\">&nbsp;</div>\n<~\n                    }\n~>\n                    {{data.elements.title}}\n<~\n                    if(!data.deal.auxiliaryData.breaksMAP) {\n~>\n                      <div class=\"a-row a-spacing-top-mini\">{{data.elements.priceBlock}}</div>\n                      <div class=\"a-row a-spacing-mini\">{{data.elements.ifdMessage}}</div>\n<~\n                    }\n                } else {\n                    if (data.deal.detail.isGiveawayDeal) {\n~>\n                        {{data.elements.giveaway}}\n                        <div class=\"a-row a-spacing-none\" style=\"height:10px;\">&nbsp;</div>\n<~\n                    } else {\n~>\n                        <div class=\"a-row a-spacing-mini hiddenCss\">&nbsp;</div>\n<~\n                    }\n~>\n                    <div class=\"a-row a-spacing-top-mini\">{{data.elements.title}}</div>\n<~\n                }\n~>\n            </div>\n<~\n        } else if(data.deal.dealType === gb.enums.DealTypes.COUPON) {\n~>\n            <div class=\"a-row dealTile\">\n                {{data.elements.image}}\n                {{data.elements.title}}\n                <div class=\"a-row a-spacing-top-mini\">{{data.elements.priceBlock}}</div>\n                <div class=\"a-row a-spacing-top-mini\">{{data.elements.ifdMessage}}</div>\n            </div>\n<~\n        } else if(data.deal.dealType === gb.enums.DealTypes.LOCAL) {\n~>\n            <div class=\"a-row dealContainer dealTile\">\n                {{data.elements.image}}\n                <div class=\"a-row a-spacing-mini\">{{data.elements.priceBlock}}</div>\n                <div class=\"a-row a-spacing-mini\">{{data.elements.ifdMessage}}</div>\n                {{data.elements.title}}\n            </div>\n<~\n        }\n~>\n    </div>\n<~\n    if (data.deal.detail.isGiveawayDeal) {\n~>\n        <a id=\"{{gb.enums.dealViewIDs.IMAGE}}\" class=\"a-link-normal\" href=\"{{url}}\">\n            <div class=\"a-row a-spacing-none giveawayConfettiOverlay giveawayConfettiImage\"></div>\n        </a>\n<~\n    }\n~>\n</div>\n\n<~\n    } else {\n~>\n        <div class=\"a-section dealContainer\">\n<~\n    var url = data.deal.detail.URL;\n    if (data.deal.detail.isGiveawayDeal && url) {\n        url = data.getReffedURL(url, gb.metrics.refTags.giveawayDesktop);\n    }\n~>\n    <div class=\"a-section backGround layer\">\n    </div>\n\n    <div class=\"a-section layer\">\n        <div class=\"a-row dealContainer dealTile\">\n            {{data.elements.image}}\n            <div class=\"a-row dealDetailContainer\">\n<~\n                var itemType                = data.deal.detail.itemType,\n                    isPOAccessType          = data.deal.detail.accessType === gb.enums.DealAccessTypes.PRIME_ONLY_DOTD,\n                    isPODealForNonPrimeUser = gb.utils.isPODealForNonPrimeUser(data.deal);\n\n                if(gb.utils.isDOTDDeal(data.deal)) {\n~>\n                        {{data.elements.secondaryBadge}}\n<~                        \n                    if(data.isPrimeOnly) {\n~>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.primeBadge}}</div>\n<~\n                    } else {\n~>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.dealType}}</div>\n<~\n                    }\n~>\n                    <div class=\"a-row a-spacing-mini\">{{data.elements.priceBlock}}</div>\n                    <div class=\"a-row a-spacing-mini\">{{data.elements.ifdMessage}}</div>\n                    <div class=\"a-row a-spacing-mini\">{{data.elements.time}}</div>\n                    <div class=\"a-row a-spacing-mini\">{{data.elements.title}}</div>\n<~\n                    if(isPODealForNonPrimeUser) {\n~>\n                        <div id=\"primeOnlySection\" class=\"a-section\">{{data.elements.primeOnlyAccess}}</div>\n<~\n                    } else {\n\n                        if (itemType === gb.enums.ItemTypes.SINGLE) {\n~>\n                            <div class=\"a-row a-spacing-mini\">{{data.elements.shipSold}}</div>\n<~\n                        }\n~>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.reviewStars}}</div>\n<~\n                        if (data.deal.checkingDealStatus) {\n~>\n                            <div class=\"a-row a-spacing-mini bottomMinusFive\">\n                                {{data.elements.checkingDealStatus}}\n                            </div>\n<~\n                        } else {\n~>\n                            <div class=\"a-row stackToBottom\">\n<~\n                                if (data.deal.postActionMessage && data.deal.isOfferingRestrictionViolated) {\n~>\n                                    <div class=\"a-row a-spacing-medium\">{{data.elements.cartMessage}}</div>\n<~\n                                } else if (data.deal.postActionMessage) {\n~>\n                                    <div class=\"a-row a-spacing-mini\">{{data.elements.cartMessage}}</div>\n<~\n                                }\n\n                                if (!data.deal.isOfferingRestrictionViolated) {\n~>\n                                    {{data.elements.button}}\n<~\n                                }\n~>\n                            </div>\n<~\n                        }\n                    }\n\n                } else if(data.deal.dealType === gb.enums.DealTypes.LD) {\n~>\n                        {{data.elements.secondaryBadge}}\n<~\n\n                    if(gb.utils.isDealInEarlyAccessWindow(data.deal) || data.isPrimeOnly || data.deal.detail.accessType === gb.enums.DealAccessTypes.APP_ONLY_LD) {\n~>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.primeBadge}}</div>\n<~\n                    } else {\n~>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.dealType}}</div>\n<~\n                    }\n~>\n                    <div class=\"a-row a-spacing-mini\">{{data.elements.priceBlock}}</div>\n                    <div class=\"a-row a-spacing-mini\">{{data.elements.ifdMessage}}</div>\n                    <div class=\"a-row a-spacing-mini unitLineHeight\">{{data.elements.percentClaimedBar}}</div>\n<~\n                    if (!data.showCouponCount) {\n~>\n                        <div class=\"a-row a-spacing-mini unitLineHeight\">\n<~\n                        if (data.templateDecisionInfo.showPercentClaimed) {\n~>\n                            <div class=\"a-column a-span5 a-text-left unitLineHeight\">\n                                {{data.elements.percentClaimed}}\n                            </div>\n                            <div class=\"a-column a-span7 a-text-right unitLineHeight a-span-last\">\n                                {{data.elements.time}}\n                            </div>\n<~\n                        } else {\n~>\n                            <div class=\"a-column a-span12 a-text-left unitLineHeight\">\n                                {{data.elements.time}}\n                            </div>\n<~\n                        }\n~>\n                        </div>\n<~\n                    } else {\n~>\n                        <div class=\"a-row a-spacing-mini unitLineHeight\">\n<~\n                        if (data.templateDecisionInfo.showPercentClaimed) {\n~>\n                            <div class=\"a-column a-span8 a-text-left unitLineHeight\">\n                                {{data.elements.percentClaimed}}\n                            </div>\n                            <div class=\"a-column a-span4 a-text-right unitLineHeight a-span-last\">\n                                {{data.elements.couponCount}}\n                            </div>\n<~\n                        } else {\n~>\n                            <div class=\"a-column a-span12 a-text-left unitLineHeight\">\n                                {{data.elements.couponCount}}\n                            </div>\n<~\n                        }\n~>\n                        </div>\n                        <div class=\"a-row a-spacing-mini a-spacing-top-mini unitLineHeight\">{{data.elements.time}}</div>\n<~\n                    }\n~>\n                    <div class=\"a-row a-spacing-mini unitLineHeight\">{{data.elements.title}}</div>\n<~\n                    if((isPODealForNonPrimeUser || data.deal.detail.accessType === gb.enums.DealAccessTypes.APP_ONLY_LD) && (data.templateDecisionInfo.purchaseState !== gb.enums.PurchaseStates.WAITLIST_FULL)) {\n~>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.appOnlyAccess}}</div>\n                        <div id=\"primeOnlySection\" class=\"a-section\">{{data.elements.primeOnlyAccess}}</div>\n<~\n                    } else {\n                        if (data.templateDecisionInfo.purchaseState === gb.enums.PurchaseStates.PENDINGATC) {\n~>\n                            {{data.elements.pendingatc}}\n<~\n                        } else {\n                            if(gb.utils.isDealInEarlyAccessWindow(data.deal)) {\n                                if (data.deal.detail.accessType === gb.enums.DealAccessTypes.PRIME_EARLY_ACCESS && !gb.resources.customerData.hasEarlyAccessBenefit) {\n~>\n                                {{data.elements.time}}\n                                {{data.elements.primeEarlyAccess}}\n<~\n                                } else if (data.deal.detail.accessType === gb.enums.DealAccessTypes.APP_EARLY_ACCESS) {\n~>\n                                    {{data.elements.appEarlyAccess}}\n<~                              } else { ~>\n                                    <div class=\"a-row a-spacing-mini\">{{data.elements.shipSold}}</div>\n                                    <div class=\"a-row\">{{data.elements.reviewStars}}</div>\n<~                              }\n                            } else {\n~>\n                                <div class=\"a-row a-spacing-mini\">{{data.elements.shipSold}}</div>\n                                <div class=\"a-row\">{{data.elements.reviewStars}}</div>\n<~\n                            }\n                        }\n                        if (data.deal.checkingDealStatus) {\n~>\n                            <div class=\"a-row a-spacing-mini bottomMinusFive\">\n                                {{data.elements.checkingDealStatus}}\n                            </div>\n<~\n                        }\n                    }\n\n                } else if(data.deal.dealType === gb.enums.DealTypes.BD || data.deal.dealType === gb.enums.DealTypes.EVENT) {\n~>\n                        {{data.elements.secondaryBadge}}\n<~                    \n\n                    if (data.deal.detail.accessType === gb.enums.DealAccessTypes.PRIME_ONLY_BD) {\n~>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.primeBadge}}</div>\n<~\n                    } else {\n~>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.dealType}}</div>\n<~\n                    }\n                    if(data.deal.auxiliaryData.breaksMAP) {\n~>\n                        {{data.elements.title}}\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.priceBlock}}</div>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.ifdMessage}}</div>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.shipSold}}</div>\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.reviewStars}}</div>\n<~\n                    } else {\n                        if(itemType === gb.enums.ItemTypes.SINGLE) {\n~>\n                            <div class=\"a-row a-spacing-mini\">{{data.elements.priceBlock}}</div>\n                            <div class=\"a-row a-spacing-mini\">{{data.elements.ifdMessage}}</div>\n                            <div class=\"a-row a-spacing-mini\">{{data.elements.title}}</div>\n                            <div class=\"a-row a-spacing-mini\">{{data.elements.shipSold}}</div>\n                            <div class=\"a-row a-spacing-mini\">{{data.elements.reviewStars}}</div>\n<~\n                        } else {\n                            if (data.deal.detail.isGiveawayDeal) {\n~>\n                                {{data.elements.giveaway}}\n                                <div class=\"a-row a-spacing-none\" style=\"height:20px;\"></div>\n                                <div class=\"a-row a-spacing-mini\">{{data.elements.title}}</div>\n<~ \n                            } else {\n~>\n                                <div class=\"a-row a-spacing-mini\">{{data.elements.priceBlock}}</div>\n                                <div class=\"a-row a-spacing-mini\">{{data.elements.ifdMessage}}</div>\n                                <div class=\"a-row a-spacing-mini\">{{data.elements.title}}</div>\n                                <div class=\"a-row a-spacing-mini\">{{data.elements.reviewStars}}</div>\n<~\n                            }\n                        }\n                    }\n\n                    if (data.deal.checkingDealStatus) {\n~>\n                        <div class=\"a-row a-spacing-mini bottomMinusFive\">\n                            {{data.elements.checkingDealStatus}}\n                        </div>\n<~\n                    } else {\n~>\n                        <div class=\"a-row stackToBottom\">\n<~\n                            if (data.deal.postActionMessage && data.deal.isOfferingRestrictionViolated) {\n~>\n                                <div class=\"a-row a-spacing-medium\">{{data.elements.cartMessage}}</div>\n<~\n                            } else if (data.deal.postActionMessage) {\n~>\n                                <div class=\"a-row a-spacing-mini\">{{data.elements.cartMessage}}</div>\n<~\n                            }\n\n                            if (!data.deal.isOfferingRestrictionViolated) {\n~>\n                                {{data.elements.button}}\n<~\n                            }    \n~>\n                        </div>\n<~\n                    }\n\n                } else if(data.deal.dealType === gb.enums.DealTypes.COUPON) {\n~>\n                    <div class=\"a-row a-spacing-mini hiddenCss\">&nbsp;</div>\n                    <div class=\"a-row a-spacing-mini\">{{data.elements.priceBlock}}</div>\n                    <div class=\"a-row a-spacing-mini\">{{data.elements.ifdMessage}}</div>\n                    <div class=\"a-row a-spacing-mini\">{{data.elements.title}}</div>\n                    <div class=\"a-row a-spacing-mini\">{{data.elements.shipSold}}</div>\n                    <div class=\"a-row a-spacing-mini\">{{data.elements.reviewStars}}</div>\n                    <div class=\"a-row stackToBottom\">{{data.elements.button}}</div>\n<~\n                } else if(data.deal.dealType === gb.enums.DealTypes.LOCAL) {\n~>\n                    <div class=\"a-row a-spacing-mini hiddenCss\">&nbsp;</div>\n                    {{data.elements.title}}\n                    <div class=\"a-row a-spacing-mini\">{{data.elements.priceBlock}}</div>\n                    <div class=\"a-row a-spacing-mini\">{{data.elements.ifdMessage}}</div>\n                    <div class=\"a-row stackToBottom\">{{data.elements.button}}</div>\n<~\n                }\n\n                if(data.deal.dealType === gb.enums.DealTypes.LD && (!isPOAccessType || isPODealForNonPrimeUser) && !data.deal.checkingDealStatus) {\n\n                    var stateTemplate = null;\n                    switch (data.templateDecisionInfo.purchaseState) {\n                        case gb.enums.PurchaseStates.INCART        : stateTemplate = data.elements.incart; break;\n                        case gb.enums.PurchaseStates.INWAITLIST    : stateTemplate = data.elements.inwaitlist; break;\n                        case gb.enums.PurchaseStates.WAITLIST_FULL : stateTemplate = data.elements.waitlistfull; break;\n                        case gb.enums.PurchaseStates.CLAIMED       : stateTemplate = data.elements.claimed;\n                    }\n                    if (stateTemplate) {\n                        if(data.templateDecisionInfo.purchaseState === gb.enums.PurchaseStates.INCART) {\n~>\n                            {{stateTemplate}}\n<~\n                        } else {\n~>\n                            <div class=\"a-row a-spacing-medium bottomMinusFive\">{{stateTemplate}}</div>\n<~\n                        }\n                    } else {\n~>\n                        <div class=\"a-row stackToBottom\">{{data.elements.button}}</div>\n<~\n                    }\n                }\n\n~>\n            </div>\n        </div>\n    </div>\n<~\n    if (data.deal.detail.isGiveawayDeal) {\n~>\n        <a id=\"{{gb.enums.dealViewIDs.IMAGE}}\" class=\"a-link-normal\" href=\"{{url}}\">\n            <div class=\"a-row a-spacing-none giveawayConfettiOverlay giveawayConfettiImage\"></div>\n        </a>\n<~\n    }\n~>\n</div>\n\n<~\n    }\n~>","name":"available"}],"filterView":[{"template":"<~\n    var filterOptionList = data.filterOptions;\n    var primeType = gb.primeUtils.getPrimeIconType();\n\n    // Find the number of selected items. Also find max selected\n    // index to decide on whether to show expander or not.\n    var selectedCount = 0;\n    var currentIndex  = 0;\n    var maxSelectedIndex = 0;\n    _.each(filterOptionList, function(item) {\n        if (item.selected) {\n            selectedCount++, maxSelectedIndex = currentIndex;\n        }\n        currentIndex++;\n    });\n\n    if(selectedCount) {\n        var clearText = gb.resources.getString('gb_filter_clear');\n~>\n\n        <span class=\"a-declarative\" data-action=\"gbfilter-link\" data-gbfilter-link=\"{&quot;linkType&quot;:&quot;clear&quot;,&quot;attributes&quot;:&quot;{{data.attributes}}&quot;}\">\n            <div class=\"a-row a-spacing-mini\">\n                <a class=\"a-link-normal\" href=\"#\">{{clearText}}</a>\n            </div>\n        </span>\n<~\n    }\n\n    var filterOptionsLength = filterOptionList.length;\n\n    // Expander is shown if it is enabled in the attribute configuration and\n    // values count is greater than the defined displayable limit.\n    var showExpander = data.filterConfig.showExpander &&\n        filterOptionsLength > gb.enums.Constants.MAX_DISPLAYABLE_VALUES_IN_UNEXPANDED_FILTER &&\n        maxSelectedIndex < gb.enums.Constants.MAX_DISPLAYABLE_VALUES_IN_UNEXPANDED_FILTER ? true : false;\n    if (showExpander) {\n~>\n        <div aria-live=\"polite\" class=\"a-row a-expander-container a-expander-inline-container\">\n<~\n    }\n    for (var index = 0; index < filterOptionsLength; index++) {\n        var item = filterOptionList[index];\n~>\n        <span class=\"a-declarative\" data-action=\"gbfilter-checkbox\" data-gbfilter-checkbox=\"{&quot;attribute&quot;:&quot;{{item.attribute}}&quot;,&quot;value&quot;:&quot;{{item.value}}&quot;,&quot;rangeEnd&quot;:&quot;{{item.rangeEnd}}&quot;,&quot;rangeStart&quot;:&quot;{{item.rangeStart}}&quot;,&quot;filterType&quot;:&quot;{{data.filterType}}&quot;}\">\n<~\n            var rightLabel = '', leftLabel = '';\n            var primeEligible = gb.resources.getString('gb_prime_eligible');\n\n            if(gb.primeUtils.getPrimeLogoPosition() === 'left') {\n                leftLabel = gb.filterUtils.getFilterLabel(item);\n            } else {\n                rightLabel = gb.filterUtils.getFilterLabel(item);\n            }\n\n            if (item.selected) {\n~>\n                <div class=\"a-checkbox checkbox checked a-spacing-micro\"><label><input type=\"checkbox\" name=\"\" value=\"\" checked><i class=\"a-icon a-icon-checkbox\"></i><span class=\"a-label a-checkbox-label\">\n                        {{rightLabel}}\n                    <~ if (item.attribute === gb.enums.BinningParams.PRIME_ELIGIBLE_ONLY.key) { ~>\n                        <i class=\"a-icon a-icon-{{primeType}} a-icon-small prime\" role=\"img\" aria-label=\"{{primeEligible}}\"></i>\n                    <~ } ~>\n                        {{leftLabel}}\n                </span></label></div>\n            <~ } else { ~>\n                <div class=\"a-checkbox checkbox a-spacing-micro\"><label><input type=\"checkbox\" name=\"\" value=\"\"><i class=\"a-icon a-icon-checkbox\"></i><span class=\"a-label a-checkbox-label\">\n                        {{rightLabel}}\n                    <~ if (item.attribute === gb.enums.BinningParams.PRIME_ELIGIBLE_ONLY.key) { ~>\n                        <i class=\"a-icon a-icon-{{primeType}} a-icon-small prime\" role=\"img\" aria-label=\"{{primeEligible}}\"></i>\n                    <~ } ~>\n                        {{leftLabel}}\n                </span></label></div>\n            <~ } ~>\n        </span>\n<~\n        if (showExpander && index === gb.enums.Constants.MAX_DISPLAYABLE_VALUES_IN_UNEXPANDED_FILTER - 1) {\n~>\n            <div aria-expanded=\"false\" class=\"a-expander-content a-expander-extend-content\" style=\"display:none\">\n<~\n        }\n    }\n    if (showExpander) {\n        var expandText   = gb.resources.getString('gb_see_more_filters', { filterTitle: data.filterConfig.title });\n        var collapseText = gb.resources.getString('gb_see_less_filters', { filterTitle: data.filterConfig.title });\n~>\n            </div>\n            <a href=\"javascript:void(0)\" data-action=\"a-expander-toggle\" class=\"a-expander-header a-declarative a-expander-extend-header\" data-a-expander-toggle=\"{&quot;allowLinkDefault&quot;:true, &quot;expand_prompt&quot;:&quot;{{expandText}}&quot;, &quot;collapse_prompt&quot;:&quot;{{collapseText}}&quot;}\"><i class=\"a-icon a-icon-extender-expand\"></i><span class=\"a-expander-prompt\">{{expandText}}\n            </span></a>\n        </div>\n<~ } ~>","name":"checkboxes"},{"template":"<~\nvar element = data.elements[data.filterType];\n\n// Show the view only if there are items to show\nif(data.filterOptions.length) { ~>\n    <div data-widgetid=\"{{data.widgetID}}\" class=\"a-row a-spacing-small filterItem\">\n        <div class=\"a-row a-spacing-micro\">\n        \t<span class=\"a-text-bold\">{{data.title}}</span>\n        </div>\n        {{element}}\n    </div> <~\n}\n~>","name":"filterItem"}],"miniDPDealState":[{"template":"<div class=\"dealLoading\">\n    <img src='<~ print(gb.resources.getImage('loading')) ~>' alt=\"<~ print(gb.resources.getString('csld-loading_alt')) ~>\" />\n</div>","name":"loading"},{"template":"<~\n    var dealStatusText   = gb.resources.getString('gb_deal_has_ended');\n    var endsInForExpired = gb.resources.getString('gb_ends_in_zero');\n    var isPrimeOnlyDOTD = data.deal.detail.accessType === gb.enums.DealAccessTypes.PRIME_ONLY_DOTD;\n~>\n<div class=\"a-section GB-M-COMMON\">\n\n<div class=\"a-fixed-left-grid popUpModal a-spacing-base\"><div class=\"a-fixed-left-grid-inner\" style=\"padding-left:300px\">\n    <div class=\"a-spacing-base a-fixed-left-grid-col a-col-left\" style=\"width:300px;margin-left:-300px;float:left;\">\n        {{data.elements.image}}\n    </div>\n\n    <div class=\"a-spacing-base a-fixed-right-grid-col fixedPaddingLeft a-col-right\" style=\"width:300px;margin-right:-300px;float:left;\">\n        <div class=\"a-row unitLineHeight\">\n            {{data.elements.dealType}}\n            {{data.elements.title}}\n        </div>\n\n        <~\n        if (data.deal.auxiliaryData.breaksMAP || data.deal.dealType === gb.enums.DealTypes.COUPON || data.deal.dealType === gb.enums.DealTypes.LOCAL || data.deal.pricingData.prices.dealPrice)  {\n        ~>\n            <div class=\"a-row a-spacing-top-base unitLineHeight\">\n                {{data.elements.priceBlock}}\n                {{data.elements.ifdMessage}}\n                {{data.elements.primeBadge}}\n            </div>\n        <~\n        }\n        ~>\n\n        {{data.elements.percentOff}}\n\n        <~\n        if(gb.utils.isDOTDDeal(data.deal)) {\n        ~>\n            <div class=\"a-row a-spacing-top-mini unitLineHeight\">\n                {{data.elements.time}}\n            </div>\n        <~\n        }\n\n        if(data.deal.dealType === gb.enums.DealTypes.LD && !isPrimeOnlyDOTD) {\n        ~>\n            <div class=\"a-row a-spacing-top-mini\">\n                {{data.elements.percentClaimedBar}}\n            </div>\n\n            <div class=\"a-row a-spacing-top-mini\">\n<~\n            if (data.templateDecisionInfo.showPercentClaimed) {\n~>\n                <div class=\"a-column a-span6 unitLineHeight\">\n                    {{data.elements.percentClaimed}}\n                </div>\n                <div class=\"a-column a-span6 a-text-right unitLineHeight a-span-last\">\n                    <span class=\"a-size-mini a-color-secondary inlineBlock unitLineHeight\">\n                        {{endsInForExpired}}\n                    </span>\n                </div>\n<~\n            } else {\n~>\n                <div class=\"a-column a-span12 a-text-left unitLineHeight\">\n                    <span class=\"a-size-mini a-color-secondary inlineBlock unitLineHeight\">\n                        {{endsInForExpired}}\n                    </span>\n                </div>\n<~\n            }\n~>\n            </div>\n\n            <~\n            if (data.showCouponCount) {\n            ~>\n                <div class=\"a-row a-spacing-top-mini unitLineHeight\">\n                    {{data.elements.couponCount}}\n                </div>\n            <~\n            }\n            ~>\n        <~\n        }\n        ~>\n\n        <div class=\"a-row a-spacing-top-base unitLineHeight\">\n            <span class=\"a-size-base\">\n                {{dealStatusText}}\n            </span>\n        </div>\n\n    </div>\n</div></div>\n\n</div>","name":"expired"},{"template":"<div class=\"a-section GB-M-COMMON\">\n\n<div class=\"a-fixed-left-grid popUpModal a-spacing-base a-spacing-top-base\"><div class=\"a-fixed-left-grid-inner\" style=\"padding-left:300px\">\n    <div class=\"a-spacing-base a-fixed-left-grid-col a-col-left\" style=\"width:300px;margin-left:-300px;float:left;\">\n        {{data.elements.image}}\n    </div>\n\n    <div class=\"a-spacing-base a-fixed-right-grid-col fixedPaddingLeft a-col-right\" style=\"width:300px;margin-right:-300px;float:left;\">\n        <div class=\"a-row unitLineHeight\">\n            {{data.elements.dealType}}\n            {{data.elements.title}}\n        </div>\n\n        <div class=\"a-row a-spacing-top-base\">\n<~\n            if(data.deal.detail.accessType) {\n~>\n                {{data.elements.primeTime}}\n<~\n                if( data.deal.detail.accessType === gb.enums.DealAccessTypes.PRIME_EARLY_ACCESS ) {\n~>\n                    {{data.elements.primeEarlyAccess}}\n<~      \n                } else {\n~>\n                    {{data.elements.primeOnlyAccess}}\n<~\n                }\n            } else {\n~>\n            <div class=\"a-row a-spacing-top-mini unitLineHeight\">  \n                {{data.elements.time}}\n            </div>\n<~ \n            }\n~>    \n        </div>\n<~\n        if ( data.isWatchDeal ) {\n~>\n            <div class=\"a-row a-spacing-top-base miniDPSuppleWatchButton\">\n                {{data.elements.watchButton}}\n            </div>\n<~\n        }\n~>\n    </div>\n</div></div>\n\n</div>","name":"upcoming"},{"template":"<~\n    var dealText = gb.resources.getString('gbd_coming_soon');\n    var itemType = data.deal.detail.itemType;\n~>\n<div class=\"a-section GB-M-COMMON\">\n\n<div class=\"a-fixed-left-grid popUpModal a-spacing-base a-spacing-top-base\"><div class=\"a-fixed-left-grid-inner\" style=\"padding-left:300px\">\n    <div class=\"a-spacing-base a-fixed-left-grid-col a-col-left\" style=\"width:300px;margin-left:-300px;float:left;\">\n        {{data.elements.image}}\n    </div>\n\n    <div class=\"a-spacing-base a-fixed-right-grid-col fixedPaddingLeft a-col-right\" style=\"width:300px;margin-right:-300px;float:left;\">\n<~\n        if(gb.utils.isDOTDDeal(data.deal)) {\n            if(itemType === gb.enums.ItemTypes.SINGLE) {\n~>\n                <div class=\"a-row a-spacing-mini\">{{data.elements.title}}</div>\n                <div class=\"a-row a-spacing-mini\">\n                    <div class=\"a-column a-span6\">\n                        {{data.elements.dealType}}\n                    </div>\n                    <div class=\"a-column a-span6 a-span-last\">\n                        {{dealText}}\n                    </div>\n                </div>\n<~\n            } else {\n~>\n                <div class=\"a-row a-spacing-mini\">\n                    <div class=\"a-column a-span6\">\n                        {{data.elements.dealType}}\n                    </div>\n                    <div class=\"a-column a-span6 a-span-last\">\n                        {{dealText}}\n                    </div>\n                </div>\n                <div class=\"a-row a-spacing-mini\">{{data.elements.title}}</div>\n<~\n            }\n        } else {\n~>\n                <div class=\"a-row dealTile\">\n                        <div class=\"a-row a-spacing-mini\">{{data.elements.title}}</div>\n                        {{dealText}}\n                </div>\n<~\n        }\n~>\n    </div>\n</div></div>\n\n</div>","name":"comingSoon"},{"template":"<~\n    var isPrimeOnlyDOTD = data.deal.detail.accessType === gb.enums.DealAccessTypes.PRIME_ONLY_DOTD;\n    var dealStatusText = gb.resources.getString('gb_deal_has_sold_out');\n    var isDOTDDeal = gb.utils.isDOTDDeal(data.deal);\n    if(isDOTDDeal) {\n        dealStatusText = gb.resources.getString('gb_soldout');\n    }\n~>\n<div class=\"a-section GB-M-COMMON\">\n\n<div class=\"a-fixed-left-grid popUpModal a-spacing-base\"><div class=\"a-fixed-left-grid-inner\" style=\"padding-left:300px\">\n    <div class=\"a-spacing-base a-fixed-left-grid-col a-col-left\" style=\"width:300px;margin-left:-300px;float:left;\">\n        {{data.elements.image}}\n    </div>\n\n    <div class=\"a-spacing-base a-fixed-right-grid-col fixedPaddingLeft a-col-right\" style=\"width:300px;margin-right:-300px;float:left;\">\n        <div class=\"a-row unitLineHeight\">\n            {{data.elements.dealType}}\n            {{data.elements.title}}\n        </div>\n\n        <~\n        if (data.deal.auxiliaryData.breaksMAP || data.deal.dealType === gb.enums.DealTypes.COUPON || data.deal.dealType === gb.enums.DealTypes.LOCAL || data.deal.pricingData.prices.dealPrice)  {\n        ~>\n            <div class=\"a-row a-spacing-top-base unitLineHeight\">\n                {{data.elements.priceBlock}}\n                {{data.elements.ifdMessage}}\n                {{data.elements.primeBadge}}\n            </div>\n        <~\n        }\n        ~>\n\n        <div class=\"a-row a-spacing-top-small unitLineHeight\">\n            {{data.elements.percentOff}}\n        </div>\n\n        <~\n        if (isDOTDDeal) {\n        ~>\n            <div class=\"a-row a-spacing-top-mini unitLineHeight\">\n                {{data.elements.time}}\n            </div>\n        <~\n        }\n\n        if (data.deal.dealType === gb.enums.DealTypes.LD && !isPrimeOnlyDOTD) {\n        ~>\n\n            <div class=\"a-row a-spacing-top-mini\">\n                {{data.elements.percentClaimedBar}}\n            </div>\n\n            <div class=\"a-row a-spacing-top-mini unitLineHeight\">\n<~\n            if (data.templateDecisionInfo.showPercentClaimed) {\n~>\n                <div class=\"a-column a-span6\">\n                    {{data.elements.percentClaimed}}\n                </div>\n                <div class=\"a-column a-span6 a-text-right unitLineHeight a-span-last\">\n                    {{data.elements.time}}\n                </div>\n<~\n            } else {\n~>\n                <div class=\"a-column a-span12 a-text-left unitLineHeight\">\n                    {{data.elements.time}}\n                </div>\n<~\n            }\n~>\n            </div>\n\n            <~\n            if (data.showCouponCount) {\n            ~>\n                <div class=\"a-row a-spacing-top-mini unitLineHeight\">\n                    {{data.elements.couponCount}}\n                </div>\n            <~\n            }\n            ~>\n        <~\n        }\n        ~>\n\n        <div class=\"a-row a-spacing-top-base unitLineHeight\">\n            {{dealStatusText}}\n        </div>\n\n    </div>\n</div></div>\n\n</div>","name":"soldout"},{"template":"<~\n    if (data.deal.cartError && !data.deal.isOfferingRestrictionViolated) {\n~>\n        {{data.elements.widgetErrorAlert}}\n<~\n    }\n    var isPrimeOnlyDOTD = data.deal.detail.accessType === gb.enums.DealAccessTypes.PRIME_ONLY_DOTD;\n~>\n<div class=\"a-section GB-M-COMMON\">\n\n<div class=\"a-fixed-left-grid popUpModal a-spacing-base\"><div class=\"a-fixed-left-grid-inner\" style=\"padding-left:300px\">\n    <div class=\"a-spacing-base a-fixed-left-grid-col a-col-left\" style=\"width:300px;margin-left:-300px;float:left;\">\n        {{data.elements.image}}\n    </div>\n\n    <div class=\"a-spacing-base a-fixed-right-grid-col fixedPaddingLeft a-col-right\" style=\"width:300px;margin-right:-300px;float:left;\">\n        <div class=\"a-row unitLineHeight\">\n            {{data.elements.dealType}}\n            {{data.elements.title}}\n        </div>\n\n<~\n        if (data.deal.auxiliaryData.breaksMAP || data.deal.dealType === gb.enums.DealTypes.COUPON ||\n                data.deal.dealType === gb.enums.DealTypes.LOCAL || data.deal.pricingData.prices.dealPrice)  {\n~>\n            <div class=\"a-row a-spacing-top-base unitLineHeight\">\n                {{data.elements.priceBlock}}\n                {{data.elements.ifdMessage}}\n                {{data.elements.primeBadge}}\n            </div>\n<~\n        }\n~>\n        {{data.elements.percentOff}}\n<~\n        if(gb.utils.isDOTDDeal(data.deal)) {\n~>\n            <div class=\"a-row a-spacing-top-mini unitLineHeight\">\n                {{data.elements.time}}\n            </div>\n<~\n        }\n\n        if(data.deal.dealType === gb.enums.DealTypes.LD && !isPrimeOnlyDOTD) {\n~>\n            <div class=\"a-row a-spacing-top-mini\">\n                {{data.elements.percentClaimedBar}}\n            </div>\n\n            <div class=\"a-row a-spacing-top-mini unitLineHeight\">\n<~\n            if (data.templateDecisionInfo.showPercentClaimed) {\n~>\n                <div class=\"a-column a-span6\">\n                    {{data.elements.percentClaimed}}\n                </div>\n                <div class=\"a-column a-span6 a-text-right unitLineHeight a-span-last\">\n                    {{data.elements.time}}\n                </div>\n<~\n            } else {\n~>\n                <div class=\"a-column a-span12 a-text-left unitLineHeight\">\n                    {{data.elements.time}}\n                </div>\n<~\n            }\n~>\n            </div>\n<~\n            if (data.showCouponCount) {\n~>\n                <div class=\"a-row a-spacing-top-mini unitLineHeight\">\n                    {{data.elements.couponCount}}\n                </div>\n<~\n            }\n        }\n\n        var showPrimeInfo = ((data.deal.detail.accessType === gb.enums.DealAccessTypes.PRIME_EARLY_ACCESS &&\n                gb.utils.isDealInEarlyAccessWindow(data.deal) && !gb.resources.customerData.hasEarlyAccessBenefit) ||\n                (data.deal.detail.isPrimeOnly && !gb.resources.getCustomerData('isPrimeMember')));\n\n        if(showPrimeInfo) {\n~>\n            <div class=\"a-row a-spacing-top-base\">\n                {{data.elements.primeTime}}\n<~\n                if(data.deal.detail.accessType === gb.enums.DealAccessTypes.PRIME_EARLY_ACCESS) {\n~>\n                    {{data.elements.primeEarlyAccess}}\n<~\n                } else {\n~>\n                    {{data.elements.primeOnlyAccess}}\n<~\n                }\n~>\n            </div>\n<~\n        } else {\n            if (data.deal.merchantName) {\n~>\n                <div class=\"a-row a-spacing-top-base\">\n                    {{data.elements.shipSold}}\n                </div>\n<~\n            }\n            if (data.deal.reviews.rating) {\n~>\n                <div class=\"a-row a-spacing-top-mini unitLineHeight\">\n                    {{data.elements.reviewStars}}\n                </div>\n<~\n            }\n\n            if (data.deal.detail.itemType === gb.enums.ItemTypes.VARIATION) {\n~>\n                {{data.elements.selector}}\n<~\n            }\n\n            var stateTemplate = null;\n\n            switch (data.templateDecisionInfo.purchaseState) {\n                case gb.enums.PurchaseStates.INCART        : stateTemplate = data.elements.incart; break;\n                case gb.enums.PurchaseStates.INWAITLIST    : stateTemplate = data.elements.inwaitlist; break;\n                case gb.enums.PurchaseStates.WAITLIST_FULL : stateTemplate = data.elements.waitlistfull; break;\n                case gb.enums.PurchaseStates.PENDINGATC    : stateTemplate = data.elements.pendingatc; break;\n                case gb.enums.PurchaseStates.CLAIMED       : stateTemplate = data.elements.claimed;\n            }\n\n            if (stateTemplate) {\n~>\n                <div class=\"a-row a-spacing-top-base\">\n                    {{stateTemplate}}\n                </div>\n<~\n            }\n\n            if (data.deal.checkingDealStatus) {\n~>\n                <div class=\"a-row a-spacing-top-medium\">\n                    <div class=\"a-column a-span6\">\n                        {{data.elements.checkingDealStatus}}\n                    </div>\n                </div>\n<~\n            } else {\n~>\n                <div class=\"a-row a-spacing-top-medium\">\n<~\n                if (data.deal.cartError && data.deal.isOfferingRestrictionViolated) {\n~>\n                    <div class=\"a-column a-span12\">\n<~\n                        if(data.deal.postActionMessage) {\n~>\n                            {{data.elements.cartMessage}}\n<~\n                        }\n                        if (!data.deal.isOfferingRestrictionViolated) {\n~>\n                            {{data.elements.button}}\n<~\n                        }\n~>\n                    </div>\n<~\n                } else {\n~>\n                    <div class=\"a-column a-span6\">\n<~\n                        if(data.deal.postActionMessage) {\n~>\n                            {{data.elements.cartMessage}}\n<~\n                        }\n                        if (!data.deal.isOfferingRestrictionViolated) {\n~>\n                            {{data.elements.button}}\n<~\n                        }\n~>\n                    </div>\n<~\n                }\n~>\n                </div>\n<~\n            }\n        }\n~>\n    </div>\n</div></div>\n\n</div>","name":"available"}],"dealView":[{"template":"<~\n    var textColor     = 'base';\n    var priceCSSClass = 'dealPriceText';\n    var showShortCellView = gb.controller.schedulingParams[data.widgetID].showShortCellView;\n    if (data.deal.dealState === gb.enums.DealStates.SOLDOUT || data.deal.dealState === gb.enums.DealStates.EXPIRED || data.deal.dealState === gb.enums.DealStates.WAITLISTFULL) {\n        textColor     = 'secondary';\n        priceCSSClass = 'dealPriceExpiredText';\n    }\n    if (data.deal.auxiliaryData.breaksMAP) {\n~>\n        <div class=\"a-row priceBlock unitLineHeight\">\n            <span class=\"a-color-{{textColor}} gb-font-size-medium inLine\">\n<~\n                print( gb.resources.getString('gbd_add-to-cart-to-see-price') );\n~>\n            </span>\n        </div>\n<~\n    } else if (data.marketingMessage) {\n~>\n        <div class=\"a-row priceBlock unitLineHeight\">\n            <span class=\"a-color-base gb-font-size-medium inLine\">\n                {{data.marketingMessage}}\n            </span>\n        </div>\n<~\n    } else if (data.deal.pricingData.prices.dealPrice) {\n        var price = data.deal.pricingData.prices.dealPrice.min.formattedValue;\n        if (data.deal.pricingData.prices.dealPrice.min.value !== data.deal.pricingData.prices.dealPrice.max.value) {\n            price += ' - ' + data.deal.pricingData.prices.dealPrice.max.formattedValue;\n        }\n        if (data.showPPU) {\n            price += ' ' + data.ppuPrice;\n        }\n\n        if (gb.utils.isDOTDDeal(data.deal) && data.isDoubleCell && showShortCellView) {\n~>\n            <div class=\"a-row priceBlock unitLineHeight\">\n                <span class=\"gb-font-size-medium inlineBlock unitLineHeight {{priceCSSClass}}\">{{price}}</span>\n<~\n                if (data.showPercentOff && data.deal.pricingData.percentOff && !data.templateDecisionInfo.shouldSuppressAgsStp && !data.templateDecisionInfo.shouldSuppressBasisPrice) {\n                    var basisPrice = null;\n                    if(data.deal.pricingData.prices.basisPrice) {\n                        basisPrice = data.deal.pricingData.prices.basisPrice.min.formattedValue;\n                    }\n~>\n                    <span class=\"a-color-{{textColor}} gb-font-size-base inlineBlock unitLineHeight\">\n                        {{data.priceText}}\n                    </span>\n                    <span class=\"a-color-{{textColor}} gb-font-size-base inlineBlock unitLineHeight a-text-strike\">{{basisPrice}}</span>\n                    <span class=\"a-color-{{textColor}} gb-font-size-base inlineBlock unitLineHeight\">\n<~\n                        print(gb.resources.getString('csld-percent_off', {discountPercentage: data.deal.pricingData.percentOff}));\n~>\n                    </span>\n<~\n                }\n~>\n            </div>\n<~\n        } else {\n~>\n            <div class=\"a-row priceBlock unitLineHeight\">\n                <span class=\"gb-font-size-medium inlineBlock unitLineHeight {{priceCSSClass}}\">{{price}}</span>\n            </div>\n<~\n            if (data.showPercentOff && data.deal.pricingData.percentOff && !data.templateDecisionInfo.shouldSuppressAgsStp && !data.templateDecisionInfo.shouldSuppressBasisPrice) {\n                var basisPrice = null;\n                if(data.deal.pricingData.prices.basisPrice) {\n                    basisPrice = gb.utils.getPriceRange(data.deal.pricingData.prices.basisPrice);\n                    basisPrice = basisPrice || data.deal.pricingData.prices.basisPrice.min.formattedValue;\n                }\n~>\n                <div class=\"a-row a-spacing-top-mini unitLineHeight\">\n                    <span class=\"a-color-{{textColor}} gb-font-size-base inlineBlock unitLineHeight\">\n                        {{data.priceText}}\n                    </span>\n                    <span class=\"a-color-{{textColor}} gb-font-size-base inlineBlock unitLineHeight a-text-strike\">{{basisPrice}}</span>\n                    <span class=\"a-color-{{textColor}} gb-font-size-base inlineBlock unitLineHeight\">\n<~\n                        print(gb.resources.getString('csld-percent_off', {discountPercentage: data.deal.pricingData.percentOff}));\n~>\n                    </span>\n                </div>\n<~\n            }\n        }\n    }\n~>","name":"priceBlock"},{"template":"<~\n    var youOnWaitlistMessg = gb.resources.getString('gb_you_are_on_waitlist');\n    var textSize           = data.widgetViewConfig.purchaseStateTextSize || \"base\";\n~>\n<div class=\"a-row a-size-{{textSize}}\">\n    {{youOnWaitlistMessg}}\n</div>","name":"inwaitlist"},{"template":"<~\n    var isPhone               = gb.resources.deviceInfo.isPhone;\n    var hasEarlyAccessBenefit = gb.resources.customerData.hasEarlyAccessBenefit;\n    if (data.showDateOrTime) {\n~>\n        <div class=\"a-row unitLineHeight\">\n            <span class=\"a-color-secondary inlineBlock gb-font-size-mini unitLineHeight\">\n                {{data.timerPrefix}}\n            </span>\n<~\n            if (data.addLineBreak) {\n~>\n                <br>\n<~\n            }\n~>\n            <span class=\"a-color-secondary inlineBlock gb-font-size-mini unitLineHeight\">\n                {{data.showDateOrTime}}\n            </span>\n        </div>\n<~\n    } else if (data.timeString) {\n        var spanID = gb.utils.getDealViewID(data.widgetID, data.position) + gb.enums.dealViewIDs.DEALCLOCK;\n~>\n        <div class=\"a-row unitLineHeight\">\n<~\n        if (data.viewStyleInfo.shouldStyleTimerMessaging) {\n~>\n            <span class=\"a-color-state inlineBlock gb-font-size-mini unitLineHeight\">\n                {{data.timerPrefix}}\n            </span>\n<~\n        } else {\n~>\n            <span class=\"a-color-secondary inlineBlock gb-font-size-mini unitLineHeight\">\n                {{data.timerPrefix}}\n            </span>\n<~\n        }\n\n        if (data.addLineBreak) {\n~>\n            <br>\n<~\n        }\n\n        if (data.viewStyleInfo.shouldStyleTimerMessaging) {\n~>\n            <span id=\"{{spanID}}\" class=\"a-color-state inlineBlock gb-font-size-mini unitLineHeight\" role=\"timer\">\n                {{data.timeString}}\n            </span>\n<~\n        } else {\n~>\n            <span id=\"{{spanID}}\" class=\"a-color-secondary inlineBlock gb-font-size-mini unitLineHeight\" role=\"timer\">\n                {{data.timeString}}\n            </span>\n<~\n        }\n~>\n        </div>\n<~\n    }\n~>","name":"time"},{"template":"<div class=\"a-row a-spacing-none\">\n    <div class=\"a-box a-alert-inline a-alert-inline-success a-spacing-none\"><div class=\"a-box-inner a-alert-container\"><i class=\"a-icon a-icon-alert\"></i><div class=\"a-alert-content\">\n        {{data.deal.postActionMessage}}\n    </div></div></div>\n</div>","name":"cartMessage"},{"template":"<~\n    if( data.templateDecisionInfo.shouldDisplayIFDMessage ) {\n~>\n        <div class=\"a-row a-spacing-small ifdMessage\">\n            <span class=\"a-size-mini a-color-secondary\">\n<~\n                print( gb.resources.getString('deals_widget_ifd_message') );\n~>\n            </span>\n        </div>\n<~\n    }\n~>","name":"ifdMessage"},{"template":"<~\n    var textColor = 'base';\n    var textSize  = 'gb-font-size-mini';\n    var merchant  = data.deal.merchantName;\n    var realm     = gb.resources.getCustomerData('realm');\n    if (data.deal.dealState === gb.enums.DealStates.SOLDOUT || data.deal.dealState === gb.enums.DealStates.EXPIRED) {\n        textColor = 'secondary';\n    }\n\n    if (data.isMiniDP) {\n        textSize  = 'gb-font-size-base';\n    }\n\n    if(merchant) {\n~>\n    <div class=\"a-row unitLineHeight\">\n        <span id=\"shipSoldInfo\" class=\"a-color-{{textColor}} inlineBlock {{textSize}} unitLineHeight\">\n<~\n            var defaultMerchantName = gb.enums.merchantName[realm];\n            if (defaultMerchantName && merchant === defaultMerchantName) {\n                print(gb.resources.getString('gb-ships-from-and-sold-by-amazon'));\n            } else if (data.deal.detail.isFulfilledByAmazon && data.deal.detail.isFulfilledByAmazon !== \"0\") {\n                print(gb.resources.getString('gb_soldby_x_and_fulfilled_by_amazon', {merchant: merchant}));\n            } else {\n                print(gb.resources.getString('gb_ships_from_and_sold_by_x', {merchant: merchant}));\n            }\n~>\n        </span>\n    </div>\n<~\n    }\n~>","name":"shipSold"},{"template":"<div class=\"a-row a-spacing-mini\">\n<~\n    var giveawayVal = data.deal.detail.giveawayValue;\n    if (gb.resources.deviceInfo.isApp) {\n        var chanceToWin = gb.resources.getString('chance_to_win');\n        var allEntryDiscount = gb.resources.getString('all_entries_to_get_a_discount');\n    } else {\n        var chanceToWin = gb.resources.getString('gb_giveaway_pc_chance_to_win')\n        var allEntryDiscount = gb.resources.getString('gb_giveaway_pc_all_entries_receive_a_discount');\n    }\n    var giveawayValue = gb.resources.getString('giveaway_value');\n    var retailValue = gb.resources.getString('retail_value');\n~>\n    <div class=\"a-row a-spacing-none\" style=\"height:20px;\">\n<~\n        if (gb.resources.deviceInfo.isApp) {\n~>\n            <span aria-label=\"{{chanceToWin}}\" class=\"a-size-base a-color-base\" role=\"heading\">{{chanceToWin}}</span>\n<~          } else {\n~>\n            <span aria-label=\"{{chanceToWin}}\" class=\"a-size-medium a-color-base\" role=\"heading\">{{chanceToWin}}</span>\n<~\n        }\n~>\n    </div>\n    <div class=\"a-row a-spacing-none giveawayValue\" style=\"height:30px;\">\n<~\n        if (gb.resources.deviceInfo.isApp) {\n~>   \n           <span aria-label=\"{{giveawayValue}}\" class=\"a-size-mini a-color-base\" role=\"heading\">{{giveawayVal}} {{retailValue}}</span>\n<~          } else {\n~>\n           <span aria-label=\"{{giveawayValue}}\" class=\"a-size-base a-color-base\" role=\"heading\">{{giveawayVal}} {{retailValue}}</span>\n<~\n        }\n~>\n        <div class=\"a-row a-spacing-none\">\n<~\n            if (gb.resources.deviceInfo.isApp) {\n~>         \n                <span aria-label=\"{{allEntryDiscount}}\" class=\"a-color-secondary\" role=\"heading\">{{allEntryDiscount}}</span>\n<~              } else {\n~>          \n                <span aria-label=\"{{allEntryDiscount}}\" class=\"a-size-base a-color-base\" role=\"heading\">{{allEntryDiscount}}</span>\n<~              }\n~>\n        </div>\n    </div>\n</div>","name":"giveaway"},{"template":"<~\n    if (data.deal.dealState === gb.enums.DealStates.AVAILABLE || data.deal.dealState === gb.enums.DealStates.UPCOMING\n        || data.deal.dealState === gb.enums.DealStates.WAITLIST || data.deal.dealState === gb.enums.DealStates.WAITLISTFULL) {\n\t\t\n        var amazonPrimeLink    = gb.resources.getString('gb_prime_link');\n        var primeSignUpUrl = data.templateDecisionInfo.primeSignUpUrl;\n        var isPrimeSignupRedirectSupported = gb.utils.isPrimeSignupRedirectSupported();\n        if (data.realm !== 'IN') {\n~>\n            <span class=\"a-color-base\">\n                {{gb.resources.getString('gbd-prime-only-access-msg-get')}}\n            </span>\n<~          if (isPrimeSignupRedirectSupported) { ~>   \n                <a class=\"a-size-mini a-spacing-none a-spacing-top-small a-link-normal\" href=\"{{primeSignUpUrl}}\">{{amazonPrimeLink}}</a>\n<~          } else { ~>\n                <span class=\"a-color-base\">{{amazonPrimeLink}}</span>\n<~          } ~>    \n            <span class=\"a-color-base\">\n                {{gb.resources.getString('gbd_members')}}\n            </span>\n<~  \n        } else {\n~>\n            <span class=\"a-size-mini a-color-base\">\n                {{gb.resources.getString('gb_early_access_non_prime_join')}}\n            </span>\n<~          if (isPrimeSignupRedirectSupported) { ~> \n                <a class=\"a-size-mini a-spacing-none a-spacing-top-small a-link-normal\" href=\"{{primeSignUpUrl}}\">{{amazonPrimeLink}}</a>\n<~          } else { ~>\n                <span class=\"a-color-base\">{{amazonPrimeLink}}</span>\n<~          } ~>\n            <span class=\"a-size-mini a-color-base\">\n                {{gb.resources.getString('gb-prime-only-access-msg-get')}}\n            </span>\n<~\n        }\n        if(data.deal.dealState === gb.enums.DealStates.UPCOMING && data.deal.detail.accessType === gb.enums.DealAccessTypes.PRIME_ONLY_DOTD && !gb.controller.schedulingParams[data.widgetID].showShortCellView) {\n            var isTabletButton = data.isTabletButton;\n            var buttonContext  = templateDecisionInfo.buttonText + \" \" + data.deal.detail.title;\n            var buttonID       = data.widgetID + \" \" + data.deal.dealID;\n~>\n            <div class=\"a-row a-spacing-{{data.buttonContainerSpacing}} buttonOuterContainer\">\n                <span class=\"a-declarative\" data-action=\"gbdeal-actionrecord\" data-gbdeal-actionrecord=\"{&quot;actionType&quot;:&quot;TRY_PRIME&quot;,&quot;position&quot;:&quot;{{data.position}}&quot;,&quot;widgetID&quot;:&quot;{{data.widgetID}}&quot;,&quot;dealID&quot;:&quot;{{data.deal.dealID}}&quot;}\">\n<~              if(isTabletButton) {    ~>\n                    <span id=\"{{buttonID}}\" class=\"a-button a-button-span12 a-button-base a-button-small fixedWidth210\"><span class=\"a-button-inner\"><a id=\"{{buttonID}}-announce\" href=\"{{primeSignUpUrl}}\" aria-label=\"{{buttonContext}}\" class=\"a-button-text a-text-center\" role=\"button\">\n                        {{gb.resources.getString('gb_learn_more')}}\n                    </a></span></span>\n<~              } else {    ~>\n                    <span id=\"{{buttonID}}\" class=\"a-button a-button-span12 a-button-base fixedWidth210\"><span class=\"a-button-inner\"><a id=\"{{buttonID}}-announce\" href=\"{{primeSignUpUrl}}\" aria-label=\"{{buttonContext}}\" class=\"a-button-text a-text-center\" role=\"button\">\n                        {{gb.resources.getString('gb_learn_more')}}\n                    </a></span></span>\n<~              }   ~>\n                </span>\n            </div>\n<~\n        }\n    }\n~>","name":"primeOnlyAccess"},{"template":"<~\n    var showSponsoredBadge = data.sponsoredDealAttr && data.sponsoredDealAttr.showSponsoredBadge;\n    var sponsoredBadgeText = null;\n\n    if (showSponsoredBadge) {\n        var textColor = 'base';\n        var cssClass = \"dealType\";\n\n        if (data.sponsoredDealAttr.isSponsored) {\n            sponsoredBadgeText = gb.resources.getString('gb_sponsored_deal');\n            cssClass = \"sponsored aok-nowrap\";\n            textColor = 'tertiary';\n        } else if (data.sponsoredDealAttr.showSponsoredBadgeWithIncreasedDealViewHeight\n\t    || data.sponsoredDealAttr.showSponsoredBadgeWithoutBadgingSpace) {\n            sponsoredBadgeText = \"&nbsp;\";\n            cssClass = \"hiddenCss\";\n        }\n    }\n    \n    if(sponsoredBadgeText) {\n~>\n    <div class=\"a-row a-spacing-mini\">\n        <span class=\"a-size-mini a-color-{{textColor}} {{cssClass}}\">{{sponsoredBadgeText}}</span>\n    </div>\n<~\n    }\n~>\n","name":"secondaryBadge"},{"template":"<~\n    var atcTimeID        = gb.utils.getDealViewID(data.widgetID, data.position) + gb.enums.dealViewIDs.PENDINGATCCLOCK;\n    var atcInMessg       = gb.resources.getString('gbd_deal_atc_time_part1');\n    var toReceiveDisMsg  = gb.resources.getString('gb_pc_left_to_add_to_cart');\n    var dealAvailableMsg = gb.resources.getString('gb_deal_available_for_you');\n\n    if (data.pendingatcTimeString) {\n        if (!gb.controller.schedulingParams[data.widgetID].showShortCellView) {\n~>\n            <div class=\"a-row a-size-mini\">\n                {{dealAvailableMsg}}\n                <br>\n                {{atcInMessg}}\n                <span id=\"{{atcTimeID}}\" class=\"a-text-bold\">\n                    {{data.pendingatcTimeString}}\n                </span>\n                {{toReceiveDisMsg}}\n            </div>\n<~\n        } else {\n~>\n            <div class=\"a-row a-size-base\">\n                {{atcInMessg}}\n                <span id=\"{{atcTimeID}}\" class=\"a-text-bold\">\n                    {{data.pendingatcTimeString}}\n                </span>\n                {{toReceiveDisMsg}}\n            </div>\n<~\n        }\n    }\n~>","name":"pendingatc"},{"template":"<~\n    var textColor = 'base';\n    if(data.deal.dealState === gb.enums.DealStates.SOLDOUT || data.deal.dealState === gb.enums.DealStates.EXPIRED) {\n        textColor = 'secondary';\n    }\n    var imageURL = gb.resources.getImage('prime');\n    if (data.badgeProperty && data.badgeProperty.tagList && data.badgeProperty.badgeStyleRule) {\n        var tagNames = data.badgeProperty.tagList;\n~>\n        <div class=\"a-row\">\n            <span class=\"a-size-mini a-color-{{textColor}} {{data.badgeProperty.badgeStyleRule}}\">\n<~\n                for(var tagCount=0; tagCount < tagNames.length; tagCount++) {\n                    var tagName = gb.resources.getString(tagNames[tagCount]);\n                    if(tagName) {\n~>\n                        <span class=\"a-color-{{textColor}} solidBadgeText\">\n                            {{tagName}}\n                        </span>\n<~\n                    }\n                }\n~>\n            </span>\n            <span class=\"a-size-mini a-color-{{textColor}} badgeSkew\"></span>\n            <span class=\"a-size-mini a-color-{{textColor}} badgeSkew overlapSkew\"></span>\n        </div>\n<~\n    } else if(data.deal.auxiliaryData.isPrimeEligible && data.deal.detail.accessType !== gb.enums.DealAccessTypes.PRIME_ONLY_BD) {\n~>\n        <div class=\"a-section a-spacing-micro imageBlock inLine\">\n            <img alt=\"~{{data.deal.detail.accessType}}\" src=\"{{imageURL}}\" role=\"img\">\n        </div>\n<~\n    } \n~>","name":"primeBadge"},{"template":"<div class=\"a-row unitLineHeight\">\n<~  \n    if (data.deal.detail.accessType === gb.enums.DealAccessTypes.APP_EARLY_ACCESS) {\n        var earlyAccessMessage = gb.resources.getString('gb_to_get_early_access_to_this_deal');\n        var downloadAppText = gb.resources.getString('gb_download_app');\n~>\n        <a id=\"downloadApp\" class=\"a-size-mini a-spacing-none a-spacing-top-none a-link-normal\" href=\"{{data.templateDecisionInfo.appDownloadUrl}}\">{{downloadAppText}}</a>\n        <span class=\"a-size-mini a-color-base\">{{earlyAccessMessage}}</span>\n<~    \n    }\n~>\n</div>","name":"appEarlyAccess"},{"template":"<~\nvar reviewStars       = gb.utils.getReviewStars(data.deal.reviews.rating),\n    fullStars         = reviewStars.fullStars,\n    seeAllReviewsText = gb.resources.getString ('gbd_see_all_x_reviews', { reviewCount: data.deal.reviews.total });\n    \nif(data.deal.reviews.URL) {\n\n    var reviewsURL  = data.getReffedURL(data.deal.reviews.URL, gb.metrics.refTags.reviews);\n    if (data.sponsoredDealAttr && data.sponsoredDealAttr.isSponsored) {\n        reviewsURL = gb.utils.getSponsoredDealUrl(data.sponsoredDealAttr, reviewsURL);\n    }\n    var altText     = gb.resources.getString(\"gb_filter_customer_reviews\");\n    if (fullStars) {\n~>\n        <div class=\"a-row reviewStars\">\n            <a aria-label=\"{{seeAllReviewsText}}\" class=\"a-link-normal touchAnchor\" href=\"{{reviewsURL}}\" role=\"link\">        \n                <span class=\"a-declarative\" data-action=\"gbdeal-actionrecord\" data-gbdeal-actionrecord=\"{&quot;actionType&quot;:&quot;REVIEWS&quot;,&quot;position&quot;:&quot;{{data.position}}&quot;,&quot;widgetID&quot;:&quot;{{data.widgetID}}&quot;,&quot;dealID&quot;:&quot;{{data.deal.dealID}}&quot;}\">\n<~\n                    // If half stars are present show them.\n                    if (reviewStars.hasHalfStar) {\n                        if(fullStars === 1) { ~>\n                            <i class=\"a-icon a-icon-star a-star-1-5\"><span class=\"a-icon-alt\">{{altText}}</span></i>\n                        <~ } else if (fullStars === 2) { ~>\n                            <i class=\"a-icon a-icon-star a-star-2-5\"><span class=\"a-icon-alt\">{{altText}}</span></i>\n                        <~ } else if (fullStars === 3) { ~>\n                            <i class=\"a-icon a-icon-star a-star-3-5\"><span class=\"a-icon-alt\">{{altText}}</span></i>\n                        <~ } else if (fullStars === 4) { ~>\n                            <i class=\"a-icon a-icon-star a-star-4-5\"><span class=\"a-icon-alt\">{{altText}}</span></i>\n                        <~ }\n                    } else {\n                        if(fullStars === 1) { ~>\n                            <i class=\"a-icon a-icon-star a-star-1\"><span class=\"a-icon-alt\">{{altText}}</span></i>\n                        <~ } else if(fullStars === 2) { ~>\n                            <i class=\"a-icon a-icon-star a-star-2\"><span class=\"a-icon-alt\">{{altText}}</span></i>\n                        <~ } else if(fullStars === 3) { ~>\n                            <i class=\"a-icon a-icon-star a-star-3\"><span class=\"a-icon-alt\">{{altText}}</span></i>\n                        <~ } else if(fullStars === 4) { ~>\n                            <i class=\"a-icon a-icon-star a-star-4\"><span class=\"a-icon-alt\">{{altText}}</span></i>\n                        <~ } else if(fullStars === 5) { ~>\n                            <i class=\"a-icon a-icon-star a-star-5\"><span class=\"a-icon-alt\">{{altText}}</span></i>\n                        <~ }\n                    } ~>\n\n                    <span class=\"a-size-small a-color-base\">{{data.deal.reviews.total}}</span>\n                </span>\n            </a>\n        </div>\n<~\n    }\n\n}\n~>","name":"reviewStars"},{"template":"\n<div class=\"a-row unitLineHeight\">\n<~\n    if (data.deal.detail.accessType === gb.enums.DealAccessTypes.PRIME_EARLY_ACCESS) {\n        var amazonPrimeLink = gb.resources.getString(gb.resources.customerData.primeProgramName);\n        var isPrimeSignupRedirectSupported = gb.utils.isPrimeSignupRedirectSupported();\n        var earlyAccessMessage;\n        if(!gb.resources.customerData.hasEarlyAccessBenefit) {\n\n            if(data.deal.dealState === gb.enums.DealStates.AVAILABLE){\n                earlyAccessMessage = gb.resources.getString('gb_get_access_to_this_deal_now_with');\n            } else {\n                earlyAccessMessage = gb.resources.getString('gb_early_access_text_non_prime',\n                {duration : data.deal.detail.accessDurationInMs / (60 * 1000)});\n            }\n~>     \n            <~          \n            if ((data.realm === 'IN') || (data.realm === 'CN')) {\n                var joinMessage = gb.resources.getString('gb_early_access_non_prime_join');\n~>      \n                <span class=\"a-size-mini a-color-base\">{{joinMessage}}</span>\n<~              if (isPrimeSignupRedirectSupported) { ~> \n                    <a class=\"a-size-mini a-spacing-none a-spacing-top-none a-link-normal prime_signup_link\" href=\"{{data.templateDecisionInfo.primeSignUpUrl}}\">{{amazonPrimeLink}}</a>\n<~              } else { ~>\n                    <span class=\"a-size-mini a-color-base\">{{amazonPrimeLink}}</span>\n<~              } ~>\n                <span class=\"a-size-mini a-color-base\">{{earlyAccessMessage}}</span>\n<~\n            } else {\n~>\n                <span class=\"a-size-mini a-color-base\">{{earlyAccessMessage}}</span>\n<~              if (isPrimeSignupRedirectSupported) { ~>   \n                    <a class=\"a-size-mini a-spacing-none a-spacing-top-none a-link-normal prime_signup_link\" href=\"{{data.templateDecisionInfo.primeSignUpUrl}}\">{{amazonPrimeLink}}.</a>\n<~              } else { ~>\n                    <span class=\"a-size-mini a-color-base\">{{amazonPrimeLink}}.</span>\n<~              }\n            }\n        }\n    }\n~>\n</div>","name":"primeEarlyAccess"},{"template":"<div id=\"maxLimitCell\" class=\"a-section maxLimitCell\">\n    <div class=\"a-section a-spacing-none\">\n        <span class=\"a-size-base a-color-secondary allDealsText\">\n            {{gb.resources.getString('gb_max_limit_reached')}}\n        </span>\n    </div>\n</div>","name":"maxLimitDeal"},{"template":"    <~\n    var imageURL = gb.resources.getImage('goldbox_upcoming');\n    var url      = data.deal.detail.URL;\n    var itemType = data.deal.detail.itemType;\n    var truncatedAltDescription = gb.utils.trimToMaxLengthAtWordBoundary(data.deal.detail.title, 125);\n    var showShortCellView = gb.controller.schedulingParams[data.widgetID].showShortCellView;\n    var encodedImage = gb.resources.images[data.deal.dealID];\n    if(data.deal.detail.imageAsin) {\n        imageURL = data.deal.detail.imageAsin;\n    }\n\n    if(data.deal.dealState === gb.enums.DealStates.UPCOMING ||\n       data.deal.dealState === gb.enums.DealStates.COMINGSOON) {\n        if(data.deal.teaser.teaserImage) {\n            imageURL = data.deal.teaser.teaserImage;\n        }\n        url = data.deal.teaser.teaserURL || \"\";\n    }\n    if (url) {\n        if (!data.deal.detail.isGiveawayDeal) {\n            url = data.getReffedURL(url, gb.metrics.refTags.image);\n        }\n\n        if (data.sponsoredDealAttr && data.sponsoredDealAttr.isSponsored) {\n            url = gb.utils.getSponsoredDealUrl(data.sponsoredDealAttr, url);\n        }\n    }\n\n    var standardImage;\n    if (encodedImage) {\n        standardImage = encodedImage;\n    } else {\n        standardImage = gb.utils.resizeImage(imageURL, data.imageSize);\n    }\n\n    if (showShortCellView) {\n    ~>\n\n    <span class=\"a-declarative\" data-action=\"gb-image\" data-gb-image=\"{&quot;position&quot;:&quot;{{data.position}}&quot;,&quot;widgetID&quot;:&quot;{{data.widgetID}}&quot;,&quot;itemType&quot;:&quot;{{data.deal.detail.itemType}}&quot;,&quot;dealID&quot;:&quot;{{data.deal.dealID}}&quot;,&quot;redirectionUrl&quot;:&quot;{{url}}&quot;}\">\n\n    <~\n    }\n    ~>\n        <a id=\"{{gb.enums.dealViewIDs.IMAGE}}\" class=\"a-link-normal\" href=\"{{url}}\">\n            <div class=\"a-row a-spacing-base a-spacing-top-base imageBlock\">\n                <div class=\"a-row dealContainer\">\n                    <div class=\"a-row layer\">\n                        <img alt=\"{{truncatedAltDescription}}\" src=\"{{standardImage}}\" role=\"img\">\n                    </div>\n                    <div class=\"a-row layer backGround\">\n                    </div>\n                </div>\n            </div>\n        </a>\n    <~\n    if (showShortCellView) {\n    ~>\n    </span>\n    <~\n    }\n    ~>\n","name":"image"},{"template":"<~\n    var waitlistFull = gb.resources.getString('gb_pc_waitlist_full');\n    var textSize     = data.widgetViewConfig.purchaseStateTextSize || \"base\";\n~>\n<div class=\"a-row a-size-{{textSize}}\">\n    {{waitlistFull}}\n</div>","name":"waitlistfull"},{"template":"<~\n    var waitlistAvailMessg = gb.resources.getString('gb_pc_waitlist_available');\n~>\n<div class=\"a-row a-size-mini a-color-secondary\">\n    {{waitlistAvailMessg}}\n</div>","name":"waitlistavailable"},{"template":"\n    <div class=\"a-row a-spacing-medium\">\n        <div class=\"a-column a-span12 a-spacing-none\">\n<~\n        if (data.deal.dealType === gb.enums.DealTypes.LD) {\n            var dealID = data.deal.dealID;\n            var cssClass = '', textCssClass = '';\n            var buttonID = gb.enums.WatchDealViewIDs.WATCH_BUTTON + dealID;\n            var watchButtonTextID = gb.enums.WatchDealViewIDs.WATCH_BUTTON_TEXT + dealID;\n            var buttonText = '';\n            var buttonAction = gb.enums.ButtonActions.WTD;\n            var beforeBoldText = gb.resources.getString('gb_watchdeal_popup_message_before_boldtext');\n            var boldText = gb.resources.getString('gb_watchdeal_popup_message_boldtext');\n            var afterBoldText = gb.resources.getString('gb_watchdeal_popup_message_after_boldtext');\n            var buttonContext;\n\n            if (!data.deal.isDealWatched) {\n                var popoverID = 'watchDealPopover';\n                cssClass = !data.deal.processWatchAction ? \"watchTheDealButton\" : \"watchButtonClicked\";\n                textCssClass = \"watchTheDealText\";\n                buttonText = gb.resources.getString('gb_watch_deal');\n                buttonContext = buttonText + \" \" + data.deal.detail.title;\n\n~>\n                <span class=\"a-declarative\" data-action=\"{{buttonAction}}\" data-{{buttonAction}}=\"{&quot;position&quot;:&quot;{{data.position}}&quot;,&quot;widgetID&quot;:&quot;{{data.widgetID}}&quot;,&quot;asin&quot;:&quot;{{data.deal.detail.buyAsin}}&quot;,&quot;dealID&quot;:&quot;{{dealID}}&quot;}\">\n                    <a aria-label=\"{{buttonContext}}\" class=\"a-link-normal\" href=\"#\" role=\"button\">\n\n                        <div id=\"{{buttonID}}\" class=\"a-row {{cssClass}}\">\n                            <div class=\"a-column a-span12 {{textCssClass}}\">\n<~                          \n                                if (gb.resources.deviceInfo.isApp) {\n~>\n                                    <span id=\"{{watchButtonTextID}}\" class=\"a-size-small\">\n                                        {{buttonText}}\n                                    </span>\n<~ \n                                } else {\n~>\n                                    <span id=\"{{watchButtonTextID}}\" class=\"a-size-base\">\n                                        {{buttonText}}\n                                    </span>\n<~\n                                }\n~>                      \n                            </div>\n                        </div>\n\n                    </a>\n                </span>\n<~                    \n               \n                if (data.isPopupTriggerRequired) {\n~>\n                    <span class=\"a-declarative\" data-action=\"a-popover\" data-a-popover=\"{&quot;closeButton&quot;:&quot;true&quot;,&quot;focusWhenShown&quot;:&quot;false&quot;,&quot;position&quot;:&quot;triggerBottom&quot;,&quot;name&quot;:&quot;watch_preload&quot;,&quot;dealID&quot;:&quot;{{data.deal.dealID}}&quot;,&quot;activate&quot;:&quot;onclick&quot;}\" id=\"{{popoverID}}\">\n                        <div id=\"popOverSpan\" class=\"a-fixed-right-grid popoverTrigger\"><div class=\"a-fixed-right-grid-inner\" style=\"padding-right:0px\">\n                        </div></div>\n                    </span>\n\n                    <div class=\"a-popover-preload\" id=\"a-popover-watch_preload\">\n                        <div class=\"a-row\">\n                            <p>{{beforeBoldText}}<b>{{boldText}}</b>{{afterBoldText}}\n                            </p>\n                        </div>\n                    </div>\n<~\n                }\n            } else if (data.deal.isDealWatched) {\n                cssClass =  !data.deal.processWatchAction ? 'watchingButton' : 'watchButtonClicked';\n                textCssClass = 'watchingText';\n                var imageCssClass = 'watchingImage';\n                var imageID = gb.enums.WatchDealViewIDs.WATCHING_IMAGE + dealID;\n                var stopWatchingString = gb.resources.getString('gb_stop_watching_deal');\n                buttonText = !data.deal.processWatchAction ? gb.resources.getString('gb_watching_deal') : stopWatchingString;\n                buttonContext = stopWatchingString + \" \" + data.deal.detail.title;\n\n~>\n                <span class=\"a-declarative\" data-action=\"{{buttonAction}}\" data-{{buttonAction}}=\"{&quot;position&quot;:&quot;{{data.position}}&quot;,&quot;widgetID&quot;:&quot;{{data.widgetID}}&quot;,&quot;asin&quot;:&quot;{{data.deal.detail.buyAsin}}&quot;,&quot;dealID&quot;:&quot;{{dealID}}&quot;}\">\n                    <a aria-label=\"{{buttonContext}}\" class=\"a-link-normal\" href=\"#\" role=\"button\">\n\n                        <div id=\"{{buttonID}}\" class=\"a-row {{cssClass}}\">\n                            <div id=\"{{imageID}}\" class=\"a-column a-span2 {{imageCssClass}}\"></div>\n                            <div class=\"a-column a-span9 a-push1 {{textCssClass}}\">\n<~                          \n                                if (gb.resources.deviceInfo.isApp) {\n~>\n                                    <span id=\"{{watchButtonTextID}}\" class=\"a-size-small\">\n                                        {{buttonText}}\n                                    </span>\n<~ \n                                } else {\n~>\n                                    <span id=\"{{watchButtonTextID}}\" class=\"a-size-base\">\n                                        {{buttonText}}\n                                    </span>\n<~\n                                }\n~>\n                            </div>\n                        </div>\n                    </a>\n                </span>\n<~\n            }\n        }\n~>\n        </div>\n    </div>","name":"watchButton"},{"template":"<div class=\"a-row dealButtonContainer\">\n    <div class=\"a-column a-span12 a-text-center\">\n\n<~\n        var spinnerImage = gb.resources.getImage('spinner');\n        var checkDealStatus = gb.resources.getString('csld-checking_deal_status_alt');\n~>\n\n        <img alt=\"~{{checkDealStatus}}\" src=\"{{spinnerImage}}\" role=\"img\">\n        <span class=\"a-size-small a-color-base dealStatusMessageHolder\">\n<~\n            print(checkDealStatus);\n~>\n        </span>\n    </div>\n</div>","name":"checkingDealStatus"},{"template":"<~\n    var dealTypeSpacing         = data.widgetViewConfig.dealTypeSpacing || \"unspecified\";\n    var suppressEmptyBadgeSpace = data.widgetViewConfig.suppressEmptyBadgeSpace;\n    var dealTypeText            = \"\";\n    var textColor               = 'base';\n    var cssClass                = \"dealType\";\n\n    if(data.deal.dealState === gb.enums.DealStates.SOLDOUT || data.deal.dealState === gb.enums.DealStates.EXPIRED || data.deal.dealState === gb.enums.DealStates.WAITLISTFULL) {\n        textColor = 'secondary';\n    }\n\n    if(data.deal.dealType === gb.enums.DealTypes.DOTD ) {\n        dealTypeText = gb.resources.getString('gb-deal-of-the-day');\n        cssClass = \"dotdBadge\";\n    } else if (((data.deal.dealType === gb.enums.DealTypes.LD) || (data.deal.dealType === gb.enums.DealTypes.BD)) && !(data.sponsoredDealAttr && data.sponsoredDealAttr.showSponsoredBadge && data.sponsoredDealAttr.showSponsoredBadgeWithoutBadgingSpace)) {\n        if (!suppressEmptyBadgeSpace) {\n            dealTypeText = \"&nbsp;\";\n        }\n        cssClass = \"hiddenCss\";\n    }\n\n    if(dealTypeText) {\n~>\n        <div class=\"a-row a-spacing-{{dealTypeSpacing}}\">\n            <span class=\"a-size-mini a-color-{{textColor}} {{cssClass}}\">{{dealTypeText}}</span>\n            <span class=\"a-size-mini a-color-{{textColor}} badgeSkew\"></span>\n        </div>\n<~\n    }\n~>\n","name":"dealType"},{"template":"<~\n    var claimedMessg = gb.resources.getString('gb_deal_claimed');\n    var textSize     = data.widgetViewConfig.purchaseStateTextSize || \"base\";\n~>\n<div class=\"a-row a-size-{{textSize}} a-color-base\">\n    {{claimedMessg}}\n</div>","name":"claimed"},{"template":"    <div class=\"a-row a-spacing-{{data.buttonContainerSpacing}}\">\n<~\n            var templateDecisionInfo = data.templateDecisionInfo;\n            var cssClass             = 'fixedWidth210';\n            var buttonAction         = null;\n            var changeoverText       = null;\n            var changeoverId         = null;\n            var asin                 = data.deal.detail.buyAsin;\n            var buttonStatus         = \"normal\";\n            var isVariation          = data.deal.detail.itemType === gb.enums.ItemTypes.VARIATION;\n            var widgetView           = gb.widgets[data.widgetID];\n            var isTabletButton       = data.isTabletButton;\n            var buttonContext        = templateDecisionInfo.buttonText + \" \" + data.deal.detail.title;\n            var buttonID             = data.widgetID + \" \" + data.deal.dealID;\n            if(data.isMiniDP) {\n                cssClass = 'miniDPDealButton';\n            }\n            if(gb.utils.isPODealForNonPrimeUser(data.deal) && gb.utils.isPrimeSignupRedirectSupported()) {\n~>\n                    <span class=\"a-declarative\" data-action=\"gbdeal-actionrecord\" data-gbdeal-actionrecord=\"{&quot;actionType&quot;:&quot;TRY_PRIME&quot;,&quot;position&quot;:&quot;{{data.position}}&quot;,&quot;widgetID&quot;:&quot;{{data.widgetID}}&quot;,&quot;dealID&quot;:&quot;{{data.deal.dealID}}&quot;}\">\n<~                  if(isTabletButton) {    ~>\n                        <span id=\"{{buttonID}}\" class=\"a-button a-button-span12 a-button-base a-button-small {{cssClass}}\"><span class=\"a-button-inner\"><a id=\"{{buttonID}}-announce\" href=\"{{templateDecisionInfo.primeSignUpUrl}}\" aria-label=\"{{buttonContext}}\" class=\"a-button-text a-text-center\" role=\"button\">\n                            {{gb.resources.getString('gb_learn_more')}}\n                        </a></span></span>\n<~                  } else {    ~>\n                        <span id=\"{{buttonID}}\" class=\"a-button a-button-span12 a-button-base {{cssClass}}\"><span class=\"a-button-inner\"><a id=\"{{buttonID}}-announce\" href=\"{{templateDecisionInfo.primeSignUpUrl}}\" aria-label=\"{{buttonContext}}\" class=\"a-button-text a-text-center\" role=\"button\">\n                            {{gb.resources.getString('gb_learn_more')}}\n                        </a></span></span>\n<~                  }   ~>\n                    </span>\n<~\n            } else {\n                if (templateDecisionInfo.purchaseState === gb.enums.PurchaseStates.PENDINGATC || templateDecisionInfo.purchaseState === gb.enums.PurchaseStates.ADD_TO_CART || templateDecisionInfo.purchaseState === gb.enums.PurchaseStates.JOIN_WAITLIST) {\n                    if(templateDecisionInfo.purchaseState === gb.enums.PurchaseStates.ADD_TO_CART || templateDecisionInfo.purchaseState === gb.enums.PurchaseStates.PENDINGATC) {\n                        buttonAction = gb.enums.ButtonActions.ATC;\n                    } else {\n                        buttonAction = gb.enums.ButtonActions.JW;\n                    }\n\n                    if(isVariation) {\n                        asin = data.asin ? data.asin.asinID : null;\n\n                        if(data.unavailableAsinSelected) {\n                            buttonStatus = \"disabled\";\n                            buttonAction = null;\n                        }\n                    }\n                    if (data.sponsoredDealAttr && data.sponsoredDealAttr.isSponsored) {\n~>\n                        <span class=\"a-declarative\" data-action=\"{{buttonAction}}\" data-{{buttonAction}}=\"{&quot;position&quot;:&quot;{{data.position}}&quot;,&quot;widgetID&quot;:&quot;{{data.widgetID}}&quot;,&quot;offerID&quot;:&quot;{{data.deal.offerID}}&quot;,&quot;dealID&quot;:&quot;{{data.deal.dealID}}&quot;,&quot;qualifier&quot;:&quot;{{data.sponsoredDealAttr.qualifier}}&quot;,&quot;dealState&quot;:&quot;{{data.deal.dealState}}&quot;,&quot;legacyDealID&quot;:&quot;{{data.deal.legacyDealID}}&quot;,&quot;dealType&quot;:&quot;{{data.deal.dealType}}&quot;,&quot;isSponsored&quot;:&quot;{{data.sponsoredDealAttr.isSponsored}}&quot;,&quot;widgetName&quot;:&quot;{{data.sponsoredDealAttr.widgetName}}&quot;,&quot;adId&quot;:&quot;{{data.sponsoredDealAttr.adId}}&quot;,&quot;asin&quot;:&quot;{{asin}}&quot;,&quot;id&quot;:&quot;{{data.sponsoredDealAttr.id}}&quot;}\">\n<~                      if(isTabletButton) {    ~>\n                            <span id=\"{{buttonID}}\" class=\"a-button a-button-{{buttonStatus}} a-button-span12 a-button-primary a-button-small {{cssClass}}\"><span class=\"a-button-inner\"><button id=\"{{buttonID}}-announce\" aria-label=\"{{buttonContext}}\" class=\"a-button-text a-text-center\" type=\"button\">\n                                {{data.templateDecisionInfo.buttonText}}\n                            </button></span></span>\n<~                      } else {    ~>\n                            <span id=\"{{buttonID}}\" class=\"a-button a-button-{{buttonStatus}} a-button-span12 a-button-primary {{cssClass}}\"><span class=\"a-button-inner\"><button id=\"{{buttonID}}-announce\" aria-label=\"{{buttonContext}}\" class=\"a-button-text a-text-center\" type=\"button\">\n                                {{data.templateDecisionInfo.buttonText}}\n                            </button></span></span>\n<~                      }   ~>\n                        </span>\n<~\n                    } else {\n~>\n                        <span class=\"a-declarative\" data-action=\"{{buttonAction}}\" data-{{buttonAction}}=\"{&quot;dealState&quot;:&quot;{{data.deal.dealState}}&quot;,&quot;legacyDealID&quot;:&quot;{{data.deal.legacyDealID}}&quot;,&quot;dealType&quot;:&quot;{{data.deal.dealType}}&quot;,&quot;position&quot;:&quot;{{data.position}}&quot;,&quot;asin&quot;:&quot;{{asin}}&quot;,&quot;widgetID&quot;:&quot;{{data.widgetID}}&quot;,&quot;offerID&quot;:&quot;{{data.deal.offerID}}&quot;,&quot;dealID&quot;:&quot;{{data.deal.dealID}}&quot;}\">\n<~                      if(isTabletButton) {    ~>\n                            <span id=\"{{buttonID}}\" class=\"a-button a-button-{{buttonStatus}} a-button-span12 a-button-primary a-button-small {{cssClass}}\"><span class=\"a-button-inner\"><button id=\"{{buttonID}}-announce\" aria-label=\"{{buttonContext}}\" class=\"a-button-text a-text-center\" type=\"button\">\n                                {{data.templateDecisionInfo.buttonText}}\n                            </button></span></span>\n<~                      } else {    ~>\n                            <span id=\"{{buttonID}}\" class=\"a-button a-button-{{buttonStatus}} a-button-span12 a-button-primary {{cssClass}}\"><span class=\"a-button-inner\"><button id=\"{{buttonID}}-announce\" aria-label=\"{{buttonContext}}\" class=\"a-button-text a-text-center\" type=\"button\">\n                                {{data.templateDecisionInfo.buttonText}}\n                            </button></span></span>\n<~                      }   ~>\n                        </span>\n<~\n                    }\n                } else if (templateDecisionInfo.purchaseState === gb.enums.PurchaseStates.SEE_DEAL) {\n                    // Open a miniDP popover in case of Supple widget tall cell view and variation deal\n                    if (isVariation && !gb.controller.schedulingParams[data.widgetID].showShortCellView && !gb.resources.isAcceleratedExperience) {\n                        var buttonAction = gb.enums.ButtonActions.SO;\n~>\n                        <span class=\"a-declarative\" data-action=\"{{buttonAction}}\" data-{{buttonAction}}=\"{&quot;dealState&quot;:&quot;{{data.deal.dealState}}&quot;,&quot;legacyDealID&quot;:&quot;{{data.deal.legacyDealID}}&quot;,&quot;dealType&quot;:&quot;{{data.deal.dealType}}&quot;,&quot;position&quot;:&quot;{{data.position}}&quot;,&quot;asin&quot;:&quot;{{asin}}&quot;,&quot;widgetID&quot;:&quot;{{data.widgetID}}&quot;,&quot;offerID&quot;:&quot;{{data.deal.offerID}}&quot;,&quot;dealID&quot;:&quot;{{data.deal.dealID}}&quot;}\">\n<~                      if(isTabletButton) {    ~>\n                            <span id=\"{{buttonID}}\" class=\"a-button a-button-span12 a-button-primary a-button-small {{cssClass}}\"><span class=\"a-button-inner\"><button id=\"{{buttonID}}-announce\" aria-label=\"{{buttonContext}}\" class=\"a-button-text a-text-center\" type=\"button\">\n                                {{data.templateDecisionInfo.buttonText}}\n                            </button></span></span>\n<~                      } else {    ~>\n                            <span id=\"{{buttonID}}\" class=\"a-button a-button-span12 a-button-primary {{cssClass}}\"><span class=\"a-button-inner\"><button id=\"{{buttonID}}-announce\" aria-label=\"{{buttonContext}}\" class=\"a-button-text a-text-center\" type=\"button\">\n                                {{data.templateDecisionInfo.buttonText}}\n                            </button></span></span>\n<~                      }   ~>\n                        </span>\n<~\n                    } else if (data.deal.detail.isGiveawayDeal) {\n\n                        var amazonGiveawayNavigationLink = data.getReffedURL(data.deal.detail.URL, gb.metrics.refTags.giveawayDesktop);\n                        var enterGiveaway = gb.resources.getString('amazon_giveaway');\n~>\n                        <span class=\"a-declarative\" data-action=\"gbdeal-actionrecord\" data-gbdeal-actionrecord=\"{&quot;actionType&quot;:&quot;SEE_MORE&quot;,&quot;position&quot;:&quot;{{data.position}}&quot;,&quot;widgetID&quot;:&quot;{{data.widgetID}}&quot;,&quot;dealID&quot;:&quot;{{data.deal.dealID}}&quot;}\">\n                            <span id=\"{{buttonID}}\" class=\"a-button a-button-span12 a-button-primary {{cssClass}}\"><span class=\"a-button-inner\"><a id=\"{{buttonID}}-announce\" href=\"{{amazonGiveawayNavigationLink}}\" aria-label=\"{{buttonContext}}\" class=\"a-button-text a-text-center\" role=\"button\">\n                                  {{enterGiveaway}}\n                            </a></span></span>\n                        </span>\n<~ \n                    } else {\n                        var customerReffedURL = data.getReffedURL(data.deal.detail.URL, data.customerRefTag);\n~>\n                        <span class=\"a-declarative\" data-action=\"gbdeal-actionrecord\" data-gbdeal-actionrecord=\"{&quot;actionType&quot;:&quot;SEE_MORE&quot;,&quot;position&quot;:&quot;{{data.position}}&quot;,&quot;widgetID&quot;:&quot;{{data.widgetID}}&quot;,&quot;dealID&quot;:&quot;{{data.deal.dealID}}&quot;}\">\n<~                      if(isTabletButton) {    ~>\n                            <span id=\"{{buttonID}}\" class=\"a-button a-button-span12 a-button-primary a-button-small {{cssClass}}\"><span class=\"a-button-inner\"><a id=\"{{buttonID}}-announce\" href=\"{{customerReffedURL}}\" aria-label=\"{{buttonContext}}\" class=\"a-button-text a-text-center\" role=\"button\">\n                                {{data.templateDecisionInfo.buttonText}}\n                            </a></span></span>\n<~                     } else { ~>\n                            <span id=\"{{buttonID}}\" class=\"a-button a-button-span12 a-button-primary {{cssClass}}\"><span class=\"a-button-inner\"><a id=\"{{buttonID}}-announce\" href=\"{{customerReffedURL}}\" aria-label=\"{{buttonContext}}\" class=\"a-button-text a-text-center\" role=\"button\">\n                                {{data.templateDecisionInfo.buttonText}}\n                            </a></span></span>\n<~                      }   ~>\n                        </span>\n<~\n                    }\n                } else if (templateDecisionInfo.purchaseState === gb.enums.PurchaseStates.LEARN_MORE) {\n                    var customerReffedURL = data.getReffedURL(data.deal.detail.URL, data.customerRefTag);\n~>\n                    <span class=\"a-declarative\" data-action=\"gbdeal-actionrecord\" data-gbdeal-actionrecord=\"{&quot;actionType&quot;:&quot;LEARN_MORE&quot;,&quot;position&quot;:&quot;{{data.position}}&quot;,&quot;widgetID&quot;:&quot;{{data.widgetID}}&quot;,&quot;dealID&quot;:&quot;{{data.deal.dealID}}&quot;}\">\n<~                  if(isTabletButton) {    ~>\n                        <span id=\"{{buttonID}}\" class=\"a-button a-button-span12 a-button-base a-button-small {{cssClass}}\"><span class=\"a-button-inner\"><a id=\"{{buttonID}}-announce\" href=\"{{customerReffedURL}}\" aria-label=\"{{buttonContext}}\" class=\"a-button-text a-text-center\" role=\"button\">\n                            {{data.templateDecisionInfo.buttonText}}\n                        </a></span></span>\n<~                  } else if(data.deal.detail.accessType === gb.enums.DealAccessTypes.APP_ONLY_LD || data.deal.detail.accessType === gb.enums.DealAccessTypes.APP_EARLY_ACCESS) { ~>\n                        <span id=\"{{buttonID}}\" class=\"a-button a-button-span12 a-button-primary {{cssClass}}\"><span class=\"a-button-inner\"><a id=\"{{buttonID}}-announce\" href=\"{{customerReffedURL}}\" aria-label=\"{{buttonContext}}\" class=\"a-button-text a-text-center\" role=\"button\">\n                            {{data.templateDecisionInfo.buttonText}}\n                        </a></span></span>\n<~                  } else {    ~>\n                        <span id=\"{{buttonID}}\" class=\"a-button a-button-span12 a-button-base {{cssClass}}\"><span class=\"a-button-inner\"><a id=\"{{buttonID}}-announce\" href=\"{{customerReffedURL}}\" aria-label=\"{{buttonContext}}\" class=\"a-button-text a-text-center\" role=\"button\">\n                            {{data.templateDecisionInfo.buttonText}}\n                        </a></span></span>\n<~                  }   ~>\n                    </span>\n<~\n                }\n            }\n~>\n    </div>","name":"button"},{"template":"<~\n    var title             = data.deal.detail.title ? data.deal.detail.title : '';\n    var url               = data.getReffedURL(data.deal.detail.URL, gb.metrics.refTags.title);\n    var showShortCellView = gb.controller.schedulingParams[data.widgetID].showShortCellView;\n    var cssClass          = 'dealTitleOneLine unitLineHeight ';\n    var itemType          = data.deal.detail.itemType;\n    var widthCSS          = '';\n    var isDOTDDeal        = gb.utils.isDOTDDeal(data.deal);\n\n    if(data.deal.dealType === gb.enums.DealTypes.BD && itemType != gb.enums.ItemTypes.SINGLE) {\n        cssClass = 'dealTitleThreeLine ';\n    } else if( (!showShortCellView && !isDOTDDeal) ||\n        (data.deal.dealType === gb.enums.DealTypes.LOCAL) ||\n        (isDOTDDeal  && !data.isDoubleCell && !showShortCellView)) {\n        cssClass = 'dealTitleTwoLine ';\n    }\n\n    if(data.deal.auxiliaryData.breaksMAP) {\n        cssClass = 'dealTitleTwoLine ';\n    }\n\n    if(isDOTDDeal && data.isDoubleCell) {\n        widthCSS = 'doubleCellTitle';\n    } else {\n        widthCSS = 'singleCellTitle';\n    }\n\n    var cssStringLink = cssClass + widthCSS;\n\n    if(data.deal.dealState === gb.enums.DealStates.UPCOMING || data.deal.dealState === gb.enums.DealStates.COMINGSOON) {\n        if(data.deal.teaser.teaserLine) {\n            title = data.deal.teaser.teaserLine;\n        }\n        if(data.deal.teaser.teaserURL) {\n            url = data.deal.teaser.teaserURL;\n        } else {\n            url = \"\";\n        }\n    }\n\n    if(url) {\n        if (data.deal.detail.isGiveawayDeal) {\n            url = data.getReffedURL(url, gb.metrics.refTags.giveawayDesktop);\n        } else {\n            url = data.getReffedURL(url, gb.metrics.refTags.title);\n        }\n\n        if (data.sponsoredDealAttr && data.sponsoredDealAttr.isSponsored) {\n            url = gb.utils.getSponsoredDealUrl(data.sponsoredDealAttr, url);\n        }\n~>\n    <a id=\"{{data.viewIDs.TITLE}}\" class=\"a-link-normal gb-size-base {{cssStringLink}}\" href=\"{{url}}\">\n        <span class=\"a-declarative\" data-action=\"gbdeal-actionrecord\" data-gbdeal-actionrecord=\"{&quot;actionType&quot;:&quot;TITLE&quot;,&quot;position&quot;:&quot;{{data.position}}&quot;,&quot;widgetID&quot;:&quot;{{data.widgetID}}&quot;,&quot;dealID&quot;:&quot;{{data.deal.dealID}}&quot;}\">\n            {{title}}\n\n        </span>\n    </a>\n<~\n    } else {\n        print(title);\n    }\n~>","name":"title"},{"template":"<div class=\"a-row unitLineHeight\">\n<~  \n    var appOnlyAccessMessage = gb.resources.getString('gb_to_get_access_to_this_deal');\n    var appDownloadURL = data.templateDecisionInfo.appDownloadUrl;\n    var downloadAppLink = gb.resources.getString('gb_download_app');\n~>\n    <a class=\"a-size-mini a-spacing-none a-spacing-top-none a-link-normal\" href=\"{{appDownloadURL}}\">{{downloadAppLink}}</a>\n    <span class=\"a-size-mini a-color-base\">{{appOnlyAccessMessage}}</span>\n</div>","name":"appOnlyAccess"},{"template":"<~\n    var checkoutTimeID = gb.utils.getDealViewID(data.widgetID, data.position) + gb.enums.dealViewIDs.INCARTCLOCK;\n    var youHaveMsg     = gb.resources.getString('gb_you_have');\n    var leftToMsg      = gb.resources.getString('gb_left_to');\n    var checkOut       = gb.resources.getString('gb_checkout');\n    var dealInCartMsg  = gb.resources.getString('gb_deal_in_your_cart');\n    var cartUrl        = decodeURIComponent(gb.enums.MiscLinks.CART_URL);\n    var textSize       = data.widgetViewConfig.purchaseStateTextSize || \"base\";\n\n    if (data.incartTimeString) {\n~>\n        <div class=\"a-row a-size-{{textSize}}\">\n            <div class=\"a-box a-alert-inline a-alert-inline-success a-spacing-none\"><div class=\"a-box-inner a-alert-container\"><i class=\"a-icon a-icon-alert\"></i><div class=\"a-alert-content\">\n                {{dealInCartMsg}}\n            </div></div></div>\n            <br>\n            {{youHaveMsg}}\n            <span id=\"{{checkoutTimeID}}\" class=\"a-text-bold\">\n                {{data.incartTimeString}}\n            </span>\n            {{leftToMsg}}\n            <a class=\"a-link-normal\" href=\"{{cartUrl}}\">\n                {{checkOut}}\n            </a>\n        </div>\n<~\n    }\n~>","name":"incart"},{"template":"<~\n    var percentClaimed = data.deal.status.percentClaimed;\n\n    if (percentClaimed !== null) {\n\n        var percentClaimedMessage = gb.resources.getString('csld-pct_claimed_hero', {percentClaimed : percentClaimed});\n~>\n        <div class=\"a-row unitLineHeight\">\n<~\n            if (data.viewStyleInfo.shouldStyleScarcityMessaging) {\n~>\n                <span class=\"a-size-mini a-color-state inlineBlock unitLineHeight\">\n                    {{percentClaimedMessage}}\n                </span>\n<~\n            } else {\n~>\n                <span class=\"a-size-mini a-color-secondary inlineBlock unitLineHeight\">\n                    {{percentClaimedMessage}}\n                </span>\n<~\n            }\n~>\n        </div>\n<~\n    }\n~>","name":"percentClaimed"},{"template":"<~\n    var couponCountString = gb.resources.getString('csld-number_coupons',{ coupons: data.deal.couponCounts.total });\n~>\n<div class=\"a-row\">\n    <span class=\"a-size-mini a-color-secondary inlineBlock unitLineHeight\">\n        {{couponCountString}}\n    </span>\n</div>","name":"couponCount"},{"template":"<~\n    var percentClaimed = data.deal.status.percentClaimed;\n    var shouldShowPercentClaimed = data.templateDecisionInfo.showPercentClaimed;\n\n    if (shouldShowPercentClaimed && percentClaimed !== null) {\n        var percentClaimedFormatted = percentClaimed + '%';\n        var progbarClass = 'progbar';\n        if (data.deal.dealState === gb.enums.DealStates.EXPIRED || data.deal.dealState === gb.enums.DealStates.SOLDOUT || data.deal.dealState === gb.enums.DealStates.WAITLISTFULL) {\n            progbarClass = 'progbarMissed';\n        }\n~>\n\n        <div class=\"a-row progbarWrapper\">\n        <div class=\"{{progbarClass}}\" style=\"width:{{percentClaimedFormatted}}\"></div>\n        </div>\n<~\n    }\n~>","name":"percentClaimedBar"}]}}

