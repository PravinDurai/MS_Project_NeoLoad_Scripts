(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{"AEu/":function(e,t,n){"use strict";n.r(t),n.d(t,"ConversationHiddenRepliesScreen",(function(){return K}));var r=n("1Pcy"),a=n.n(r),o=n("W/Kd"),i=n.n(o),c=n("KEM+"),l=n.n(c),s=n("ERkP"),u=n("es0u"),d=(n("KqXw"),n("WNMA"),n("oEGd")),p=n("0KEI"),f=n("hqKg"),h=n("8Lfv"),m=n("G6rE"),g=Object(f.createSelector)((function(e,t){return t.match.params.screenName}),(function(e,t){return t.match.params.statusId}),(function(e,t){return"PUSH"===t.history.action}),m.e.selectLoggedInUser,(function(e,t,n,r){return{loggedInScreenName:r?r.screen_name:void 0,screenName:e,statusId:t,isForwardNavigation:n}})),_={createLocalApiErrorHandler:Object(p.d)("HIDDEN_REPLIES_PAGE"),clearTimelineCache:function(e){return Object(h.a)(e)}},w=Object(d.g)(g,_),b=n("7JQg"),v=n("xZXe"),T=n("QIgh"),E=n("8UdT"),y=n("IcAo"),I=n("VrCx"),C=n("yy6l"),S=function(e){return Object(C.a)({component:v.a,createAdditionalProps:function(){return{withUnhideReply:e}},displayBlocked:!0,divider:{top:!0,bottom:!0}})},R=n("WU0f"),x=n("yoO3"),O=n("IG4P"),L=n("fTQJ"),A=n("VS6U"),N=n("t62R"),F=n("FIs5"),j=n("I7xG"),P=n("3XMw"),k=n.n(P),M=k.a.d806aa19,H=k.a.d80c77dc,D=k.a.ef939f4b,q=k.a.f7f2db4f,U=s.createElement(k.a.I18NFormatMessage,{$i18n:"cf1aca58"},s.createElement(N.c,{link:"https://help.twitter.com/using-twitter/mentions-and-replies#hidden-reply"},k.a.a7511618)),B=function(){return s.createElement(F.a,{header:q,message:U})},K=function(e){function t(t){var n;return n=e.call(this,t)||this,l()(a()(n),"_getModule",Object(j.a)(a()(n),(function(e){return e.statusId}),(function(e){return Object(R.a)(e)}))),n._clearTimelineCache(),n}i()(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.history,n=e.location,r=e.loggedInScreenName,a=e.screenName,o=e.statusId;return a&&o?s.createElement(x.a,null,s.createElement(A.a,{backLocation:"/"+a.toLowerCase()+"/status/"+o,history:t,location:n,primaryContent:this._renderPrimaryContent(),sidebarContent:s.createElement(u.a,null),subtitle:a===r?H:D({screenName:a}),title:M})):null},n._renderPrimaryContent=function(){var e,t,n,r,a=this.props,o=a.loggedInScreenName,i=a.screenName;return s.createElement(L.a,{entryConfiguration:(e={withUnhideReply:i===o},r=e.withUnhideReply,Object(y.a)({},T.b,((n={})[E.a.Tweet]={handlers:(t={},t[I.a.Tweet]=S(r),t)},n))),module:this._getModule(),refreshControl:O.a,renderEmptyState:B,title:M})},n._clearTimelineCache=function(e){void 0===e&&(e=this._getModule());var t=this.props,n=t.clearTimelineCache,r=t.createLocalApiErrorHandler;t.isForwardNavigation&&n(e).catch(r({}))},t}(s.Component);t.default=Object(b.c)({page:"tweet",section:"moderated_replies"})(w(K))},DL4F:function(e,t,n){"use strict";n.r(t),n.d(t,"ConversationAnalyticsScreen",(function(){return P}));n("2G9S"),n("ho0z"),n("IAdD");var r=n("1Pcy"),a=n.n(r),o=n("W/Kd"),i=n.n(o),c=n("KEM+"),l=n.n(c),s=n("ERkP"),u=(n("VAZu"),n("KqXw"),n("WNMA"),n("zh9S")),d=n("oEGd"),p=n("0KEI"),f=n("hqKg"),h=n("XOJV"),m=function(e,t){return t.match.params.statusId},g=Object(f.createSelector)((function(e,t){return h.a.selectFetchStatus(e,m(0,t))}),m,(function(e,t){return h.a.selectHydrated(e,m(0,t))}),(function(e,t,n){return{fetchStatus:e,statusId:t,tweet:n}})),_={createLocalApiErrorHandler:Object(p.d)("CONVERSATION_ANALYTICS_SCREEN"),fetchTweetIfNeeded:h.a.fetchOneIfNeeded,scribeAction:u.c},w=Object(d.g)(g,_),b=n("7JQg"),v=n("v//M"),T=n("W5XZ"),E=n("jHSc"),y=n("f004"),I=n("3XMw"),C=n.n(I),S=n("v6aA"),R=n("SrIh"),x=n("Rp9C"),O=n("q9Zt"),L=n("bPFD"),A=n("rHpw"),N=C.a.g9079b93,F=C.a.a57daeb1,j=C.a.deaf5b15,P=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,l()(a()(t),"_handleFetchTweet",(function(){var e=t.props,n=e.createLocalApiErrorHandler;(0,e.fetchTweetIfNeeded)(e.statusId).catch(n(T.a))})),l()(a()(t),"_render",(function(){var e=t.props.tweet,n=e&&Object(y.a)(e)||void 0;if(!n||n&&n.user.id_str!==t.context.loggedInUserId)return s.createElement(O.a,{onRetry:null,title:N});return s.createElement(L.a,{dangerouslyDisableSandbox:!0,onMessage:t._handleIFrameMessage,reportError:R.a,src:"/i/tfb/v1/quick_promote/lite/"+n.id_str,style:k.iframe})})),l()(a()(t),"_setAppBarRef",(function(e){t._appBarRef=e})),l()(a()(t),"_handleIFrameMessage",(function(e){if(e&&"quick_promote"===e.name)if("scribe"===e.type){var n=t.props,r=n.scribeAction,a=n.scribeNamespace,o=n.tweet,i=o&&Object(y.a)(o)||void 0,c=e.scribeData||{},l="string"==typeof c.component?c.component:"quick_promote",s="string"==typeof c.uiEvent?c.uiEvent:"";r(Object.assign({},a,{component:l,action:s}),Object.assign({},c,{items:i?[x.a.getTweetItem(i)]:[]}))}else"close"===e.type&&t._appBarRef&&t._appBarRef.goBack()})),t}i()(t,e);var n=t.prototype;return n.componentDidMount=function(){this._handleFetchTweet()},n.render=function(){var e=this.props,t=e.fetchStatus,n=e.history,r=e.location,a=e.tweet,o=a&&Object(y.a)(a)||void 0;return s.createElement(E.b,{appBarRef:this._setAppBarRef,backLocation:o?o.permalink:"/",history:n,location:r,title:F},s.createElement(v.a,{fetchStatus:t,render:this._render,retryMessage:j}))},t}(s.PureComponent);l()(P,"contextType",S.a);var k=A.a.create((function(e){return{iframe:{flexGrow:1}}}));t.default=Object(b.c)({page:"tweet",section:"analytics"})(w(P))},aH1V:function(e,t,n){"use strict";n.r(t),n.d(t,"QuickPromoteScreen",(function(){return F}));n("2G9S"),n("uFXj");var r=n("1Pcy"),a=n.n(r),o=n("W/Kd"),i=n.n(o),c=n("KEM+"),l=n.n(c),s=n("ERkP"),u=(n("VAZu"),n("KqXw"),n("WNMA"),n("rxPX")),d=n("0KEI"),p=n("XOJV"),f=function(e,t){return t.match.params.statusId},h=function(e,t){return p.a.selectHydrated(e,f(0,t))},m=function(e,t){return p.a.selectFetchStatus(e,f(0,t))},g=Object(u.a)().propsFromState((function(){return{statusId:f,fetchStatus:m,tweet:h}})).propsFromActions((function(){return{createLocalApiErrorHandler:Object(d.d)("QUICK_PROMOTE_SCREEN"),fetchTweetIfNeeded:p.a.fetchOneIfNeeded}})).withAnalytics({page:"quick_promote"}),_=n("v//M"),w=n("W5XZ"),b=n("jHSc"),v=n("f004"),T=n("3XMw"),E=n.n(T),y=n("v6aA"),I="quickPromote",C=n("3xO4"),S=n.n(C),R=n("q9Zt"),x=n("t62R"),O=n("rHpw"),L=E.a.g9079b93,A=E.a.c4c24b0b,N=E.a.deaf5b15,F=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,l()(a()(t),"_getRetweetOrTweet",(function(){var e=t.props.tweet;return e?Object(v.a)(e):e})),l()(a()(t),"_handleFetchTweet",(function(){var e=t.props,n=e.createLocalApiErrorHandler;(0,e.fetchTweetIfNeeded)(e.statusId).catch(n(w.a))})),l()(a()(t),"_setAppBarRef",(function(e){t._appBarRef=e})),l()(a()(t),"_render",(function(){var e=t._getRetweetOrTweet();return!e||e&&e.user.id_str!==t.context.loggedInUserId?s.createElement(R.a,{onRetry:null,title:L}):s.createElement(S.a,{style:j.qpContainer,testID:I},s.createElement(x.c,{align:"center",color:"white",onClick:t._handleScribeDummyClick},"Quick Promote content to go here"))})),l()(a()(t),"_handleScribeDummyClick",(function(){t.props.analytics.scribe({action:"click"})})),t}i()(t,e);var n=t.prototype;return n.componentDidMount=function(){this._handleFetchTweet()},n.render=function(){var e=this.props,t=e.fetchStatus,n=e.history,r=e.location;return s.createElement(b.b,{appBarRef:this._setAppBarRef,hideBackButton:!0,history:n,location:r,title:A},s.createElement(_.a,{fetchStatus:t,render:this._render,retryMessage:N}))},t}(s.PureComponent);l()(F,"contextType",y.a);var j=O.a.create((function(e){return{iframe:{flexGrow:1},qpContainer:{flex:1},tweetContainer:{backgroundColor:e.colors.cellBackground,borderWidth:e.borderWidths.small,borderColor:e.colors.borderColor,borderStyle:"solid",borderRadius:e.borderRadii.large,flexDirection:"row",padding:e.spaces.xxSmall,marginHorizontal:e.componentDimensions.gutterHorizontal,marginVertical:e.componentDimensions.gutterVertical},tweet:{flex:1},typeaheadContainer:{flex:1,position:"relative",paddingVertical:0,paddingHorizontal:e.spaces.small}}})),P=g(F);t.default=P},lPc3:function(e,t,n){"use strict";n("IAdD"),t.__esModule=!0,t.default=void 0;var r=c(n("7DT3")),a=c(n("/uF9")),o=c(n("ERkP")),i=c(n("OkZJ"));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(e){return void 0===e&&(e={}),(0,r.default)("svg",Object.assign({},e,{style:[i.default.root,e.style,a.default.isRTL&&i.default.iconRtl],viewBox:"0 0 48 48"}),o.default.createElement("g",null,o.default.createElement("circle",{fill:"#1DA1F2",cx:"17",cy:"7",r:"7"}),o.default.createElement("circle",{fill:"#FFAD1F",cx:"34",cy:"30",r:"4"}),o.default.createElement("circle",{fill:"#F45D22",cx:"34",cy:"44",r:"4"}),o.default.createElement("path",{fill:"#CCD6DD",d:"M18 16c0-.552-.448-1-1-1s-1 .448-1 1v22c0 3.866 3.134 7 7 7h5c.552 0 1-.448 1-1s-.448-1-1-1h-5c-2.76 0-5-2.24-5-5v-9.1c1.27 1.296 3.04 2.1 5 2.1h5c.552 0 1-.448 1-1s-.448-1-1-1h-5c-2.76 0-5-2.24-5-5v-8z"})))};l.metadata={height:48,width:48};var s=l;t.default=s},z4TA:function(e,t,n){"use strict";n.r(t),n.d(t,"ConversationScreen",(function(){return ze}));n("lTEL"),n("5BYb"),n("ho0z"),n("IAdD"),n("7x/C"),n("KqXw"),n("MvUL"),n("kYxP");var r=n("97Jx"),a=n.n(r),o=n("1Pcy"),i=n.n(o),c=n("W/Kd"),l=n.n(c),s=n("KEM+"),u=n.n(s),d=n("aeN7"),p=n("ERkP"),f=n("pxuL"),h=n("es0u"),m=(n("jQ3i"),n("vrRf"),n("x4t0"),n("WNMA"),n("zh9S")),g=n("oEGd"),_=n("0KEI"),w=n("hqKg"),b=n("8Lfv"),v=n("QK5w"),T=n("pNZL"),E=n("XOJV"),y=n("Mx3A"),I=n("P1r1"),C=function(e,t){return e.location&&e.location.state&&e.location.state[t]},S=function(e,t){var n=C(t,"focal");return n||R(e,t)},R=function(e,t){var n=t.location,r=t.match;return r.params&&r.params.statusId?r.params.statusId:n.query&&n.query.tweet_id&&"string"==typeof n.query.tweet_id?n.query.tweet_id:""},x=Object(w.createSelector)(v.a,(function(e,t){return C(t,"contextTweetId")}),(function(e,t){return E.a.selectFetchStatus(e,S(e,t))}),(function(e,t){return"PUSH"===t.history.action}),(function(e,t){var n=t.location.query,r=Object(v.a)(e,t);return Object(y.c)({query:n,httpReferer:r?"":document.referrer||"",requestUrl:window.location.href}).referral_type===y.a.Web}),(function(e,t){var n=C(t,"referrer"),r=S(e,t);return!!n&&n.includes("/i/topics/tweet/"+r)}),(function(e,t){return C(t,"promotedContent")}),(function(e,t){return t.location.query&&"string"==typeof t.location.query.cxt?t.location.query.cxt:void 0}),(function(e,t){var n=S(e,t),r=E.a.selectHydrated(e,n);return r&&r.conversation_id_str?E.a.selectHydrated(e,r.conversation_id_str):null}),(function(e,t){return E.a.selectHydrated(e,S(e,t))}),(function(e,t){return t.location.pathname.indexOf("/intent/")>-1}),(function(e,t){return t.match.params.screenName}),(function(e,t){return C(t,"socialContext")}),S,R,I.h,(function(e,t){return C(t,"contextualClientEventInfo")}),T.a,(function(e,t,n,r,a,o,i,c,l,s,u,d,p,f,h,m,g,_){return{contextTweetId:t,conversationTreeEnabled:m,initialFetchStatus:n,isForwardNavigation:r,isInitialScreen:!e,isReferralSource:a,isReferredFromExploreTopics:o,promotedContent:i,richLandingContextId:c,rootTweet:l,focalTweet:s,isIntentRoute:u,screenName:d,selectedTweetId:h,socialContext:p,statusId:f,contextualClientEventInfo:g,tweetDetailNav:_}})),O={createLocalApiErrorHandler:Object(_.d)("CONVERSATION_SCREEN"),googleAnalyticsPageView:m.a,scribePageImpression:m.d,clearTimelineCache:function(e,t){return Object(b.a)(e,t)},updateSettings:I.E},L=Object(g.g)(x,O),A=n("ymux"),N=n("rxPX"),F=n("HAhZ"),j=Object(N.a)().propsFromState((function(){return{tips:F.c}})).propsFromActions((function(){return{addTip:F.a}})),P=n("7JQg"),k=n("3XMw"),M=n.n(k),H=n("E8TX"),D=n.n(H),q=n("lPc3"),U=n.n(q),B=n("t62R"),K=n("/yvb"),W=n("feu+"),X=n("rHpw"),V=M.a.j0014cae,G=p.createElement(D.a,null),z=M.a.e68208fb,J=M.a.dcfda40b,Q=M.a.gf2e6430,Z=M.a.ae3f6bc8,Y=M.a.d52de85c,$=M.a.a399ed2f,ee=function(){return p.createElement(B.c,{align:"left"},J,p.createElement("ul",null,p.createElement("li",null,Q),p.createElement("li",null,Z),p.createElement("li",null,Y)))};var te=X.a.create((function(e){return{icon:{height:e.spaces.xxLarge,width:e.spaces.xxLarge}}})),ne=Object(P.c)({page:"tweet",section:"conversation_tree_education"})(j((function(e){var t=e.tips,n=e.addTip,r=e.showImmediately,a=p.useState(!1),o=a[0],i=a[1],c=function(){var e;n(((e={}).conversation_tree_education=!0,e)),i(!1)},l=o||r&&!t.conversation_tree_education;return p.createElement(p.Fragment,null,p.createElement(K.a,{accessibilityLabel:V,icon:G,onPress:function(){i(!0)},type:"text"}),l?p.createElement(W.a,{actionLabel:$,graphic:U.a,graphicDisplayMode:"illustration",graphicStyle:te.icon,headline:z,onAction:c,onClose:c,subtext:p.createElement(ee,null)}):null)}))),re=n("wrlS"),ae=n("3xO4"),oe=n.n(ae),ie=n("CK8+");var ce=X.a.create((function(e){return{conversationNav:{flexDirection:"row",alignItems:"center"}}})),le=function(e){var t=e.conversationTreeEnabled,n=e.onTreeSwitchChange,r=e.showEducationImmediately,a=t?p.createElement(ne,{showImmediately:r}):void 0,o=re.a.isTrue("responsive_web_conversation_tree_toggle")?p.createElement(ie.a,{accessibilityLabel:"Conversation Tree toggle",onValueChange:n,value:t}):void 0;return p.createElement(oe.a,{style:ce.conversationNav},a,o)},se=n("rkhm"),ue=n("I7xG"),de=n("aHKU"),pe=n.n(de),fe=n("8UdT"),he=n("dwig"),me=n("kGix"),ge=n("JyI6"),_e=n("zOCl"),we=n.n(_e),be=M.a.d2c7a41c,ve=M.a.e20404df,Te=M.a.d17df547,Ee=function(e){var t=e.getLocationState,n=e.history;return p.createElement(ge.a,{accessibilityLabel:be,getLocationState:t,history:n,icon:p.createElement(we.a,null),label:Te,scribeComponent:"floating_reply_button",shortLabel:ve})},ye=n("iFPY"),Ie=(n("JtPf"),n("zb92")),Ce=Object(Ie.a)({loader:function(){return Promise.all([n.e(2),n.e(194)]).then(n.bind(null,"uo3S"))},renderPlaceholder:function(e,t){return null}}),Se=n("yoO3"),Re=n("AUxQ"),xe=(n("2G9S"),n("QIgh")),Oe=n("VTxf"),Le=n("SrIh"),Ae=n("fTQJ"),Ne=n("ZNT5"),Fe=function(e){var t=e.richLandingContextId,n=e.statusId,r=t?n+"-"+t:n,a={refsrc_tweet:n,rux_cxt:t};return Object(Ne.a)({timelineId:"rich-tweet-landing-"+r,getEndpoint:function(e){return e.URT.fetchRichTweetLandingTimeline},getEndpointParams:function(e){return Object.assign({},a,e)},context:"FETCH_RICH_TWEET_LANDING",perfKey:"rich-tweet-landing"})},je=(n("aWzz"),n("wgnn")),Pe=function(e){switch(e){case je.a.NOT_FOUND:return p.createElement(Oe.a,null);default:return Object(Le.a)("Unhandled timeline unavailable reason: "+e),null}},ke=function(){return p.createElement(Oe.a,null)},Me=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,u()(i()(t),"_getModule",Object(ue.a)(i()(t),(function(e){return e.statusId}),(function(e){return e.richLandingContextId}),(function(e,t){return Fe({statusId:e,richLandingContextId:t})}))),t}return l()(t,e),t.prototype.render=function(){var e=this.props.title;return p.createElement(Ae.a,{entryConfiguration:xe.b,module:this._getModule(),renderEmptyState:ke,renderUnavailable:Pe,title:e})},t}(p.Component),He=n("Rp9C"),De=n("uArA"),qe=n("VS6U"),Ue=n("oQhu"),Be=n("mN6z"),Ke=M.a.bea869b3,We=M.a.c299a6cf,Xe=M.a.f0c37ddb,Ve={page:"tweet"},Ge={page:"tweet",section:"landing"},ze=function(e){function t(t){var n;return n=e.call(this,t)||this,u()(i()(n),"_handleTreeSwitchChange",(function(e){(0,n.props.updateSettings)({conversationTreeEnabled:e}),e||n.context.setBackgroundClickHandler(null)})),u()(i()(n),"_getFabState",(function(){var e=n.props,t=e.promotedContent;return{inReplyToStatusId:e.statusId,promotedContent:t}})),u()(i()(n),"_isBucketedInRichTweetLandingExperiment",(function(){var e=n.props,t=e.isReferralSource,r=e.isReferredFromExploreTopics;return!(e.richLandingContextId||!t||r)&&re.a.isTrue("responsive_web_rich_tweet_landing_enabled")})),u()(i()(n),"_getNavigationParams",Object(ue.a)(i()(n),(function(e){return e.tweetDetailNav}),(function(e){return e.contextualClientEventInfo}),(function(e,t){var r,a;return n._navigationReferrerParamEnabled?{referrer:e,controller_data:e&&(null==t||null===(r=t.details)||void 0===r||null===(a=r.timelinesDetails)||void 0===a?void 0:a.controllerData)}:void 0}))),u()(i()(n),"_getApiErrorHandlerMap",Object(ue.a)(i()(n),(function(e){return e.screenName}),(function(e){return Object(se.a)(e)}))),u()(i()(n),"_getModule",Object(ue.a)(i()(n),(function(e){return e.statusId}),(function(e){return e.conversationTreeEnabled}),(function(e,t){return Object(A.a)({focalTweetId:e,conversationTreeEnabled:t})}))),u()(i()(n),"_handleEntriesUpdate",(function(e){var t=e.entries,r=e.fetchStatus,a=n.props.recordTTFL;if(r===me.a.FAILED&&(n._shouldRecordTTFL=!1),n._shouldRecordTTFL&&t.length){var o=t.some((function(e){return e.type===fe.a.Tweet}));n._shouldRecordTTFL=!1,o&&a&&a("permalink")}})),u()(i()(n),"_shouldRedirectToCanonical",(function(){var e=n.props,t=e.focalTweet,r=e.screenName;return e.selectedTweetId===e.statusId&&(r&&t&&r.toLowerCase()!==t.user.screen_name.toLowerCase())})),u()(i()(n),"_redirectToCanonical",(function(){var e=n.props,t=e.history,r=e.location;t.replace({pathname:n._getCanonicalPath(),query:r.query,state:r.state})})),u()(i()(n),"_getCanonicalPath",(function(){var e=n.props.focalTweet;return e?"/"+e.user.screen_name+"/status/"+e.id_str:"/"})),u()(i()(n),"_getPathForTweetId",(function(e,t){return"/"+(t||"i")+"/status/"+e})),u()(i()(n),"_getScribeData",Object(Ue.a)((function(e,t){return{items:[He.a.forTweet(e,t)],tweet_id:e}}))),u()(i()(n),"_getScribeNamespace",(function(){return n._shouldRenderRichTweetLandingTimeline()?Ge:Ve})),u()(i()(n),"_setSelectedTweetId",(function(e,t){var r=n.props,a=r.history,o=r.location,i=r.statusId;a.replace(n._getPathForTweetId(e,t),Object.assign({},o.state,{focal:i,lockScroll:!0}))})),u()(i()(n),"_setBackgroundClickHander",(function(){var e,t=n.props,r=t.focalTweet,a=t.rootTweet,o=t.selectedTweetId,i=null===(e=a||r)||void 0===e?void 0:e.conversation_id_str,c=(null==a?void 0:a.user.screen_name)||void 0,l=i&&i!==o?Object(De.a)((function(){n._setSelectedTweetId(i,c)}),'a, button, input, [role="button"], [id="layers"]'):null;n.context.setBackgroundClickHandler(l)})),n._shouldRecordTTFL=t.isInitialScreen,n._navigationReferrerParamEnabled=re.a.isTrue("navigation_stack_referrer_param_enabled"),n._isInlineReplyEnabled=re.a.isTrue("responsive_web_inline_reply_enabled"),n._isInlineReplyWithFabEnabled=re.a.isTrue("responsive_web_inline_reply_with_fab_enabled"),n}l()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e){return!Object(Be.a)(e,this.props)},n.componentDidMount=function(){var e=this.props,t=e.history,n=e.location,r=e.isForwardNavigation;!this._shouldRenderRichTweetLandingTimeline()||n.state&&n.state.isRichTweetLanding||t.replace(n,Object.assign({},n.state,{isRichTweetLanding:!0})),r&&this._clearTimelineCache()},n.componentWillUnmount=function(){this.context.setBackgroundClickHandler(null)},n.componentDidUpdate=function(e){this._shouldRedirectToCanonical()?this._redirectToCanonical():(this.props.statusId!==e.statusId&&this.props.isForwardNavigation&&this._clearTimelineCache(),e.selectedTweetId===this.props.selectedTweetId&&e.rootTweet===this.props.rootTweet||!this.props.conversationTreeEnabled||this._setBackgroundClickHander())},n.render=function(){var e,t=this.props,n=t.conversationTreeEnabled,r=t.focalTweet,o=t.history,i=t.isIntentRoute,c=t.location,l=t.promotedContent,s=t.statusId,u=r?Xe({tweetText:r.text,fullName:r.user.name}):void 0,d={canonical:"https://twitter.com"+(this._getCanonicalPath()||"")},f=this._shouldRenderRichTweetLandingTimeline()?null:p.createElement(le,{conversationTreeEnabled:n,onTreeSwitchChange:this._handleTreeSwitchChange,showEducationImmediately:null===(e=c.state)||void 0===e?void 0:e.fromApp}),h=this._shouldRenderRichTweetLandingTimeline()||!n;return p.createElement(P.b,{data:this._getScribeData(s,l),namespace:this._getScribeNamespace()},p.createElement(Se.a,null,p.createElement(pe.a,a()({extend:!0},d)),p.createElement(qe.a,{backLocation:"/",documentTitle:u,history:o,location:c,primaryContent:this._renderTimeline(),rightControl:f,sidebarContent:this._renderSidebarContent(),title:r&&r.self_thread?We:Ke,withAppBarBorder:h,withPrimaryHeader:!1,withSideBorders:h}),i?p.createElement(ye.a,{history:o,location:c,tweet:r}):null))},n._renderSidebarContent=function(){var e=this.props.focalTweet;return e&&e.user.id_str?p.createElement(h.a,{withWhoToFollow:!1},p.createElement(Ce,{focalTweetId:e.id_str})):null},n._renderTimeline=function(){var e=this.props,t=e.conversationTreeEnabled,n=e.focalTweet,r=e.history,a=e.location,o=e.richLandingContextId,i=e.rootTweet,c=e.selectedTweetId,l=e.statusId,s=e.socialContext,u=e.promotedContent,d=e.contextTweetId,f={selectedTweetId:c,setSelectedTweetId:this._setSelectedTweetId},h=this._isInlineReplyEnabled&&!this._isInlineReplyWithFabEnabled||t?null:p.createElement(Ee,{getLocationState:this._getFabState,history:r});return p.createElement(he.a,{fab:h},this._shouldRenderRichTweetLandingTimeline()?p.createElement(Me,{richLandingContextId:o,statusId:l,title:Ke}):p.createElement(Re.a,{apiErrorHandlerMap:this._getApiErrorHandlerMap(),contextTweetId:d,conversationTreeEnabled:t,fetchOptions:this._getNavigationParams(),focalTweet:n,focalTweetId:l,location:a,module:this._getModule(),onEntriesUpdate:this._handleEntriesUpdate,promotedContent:u,rootTweet:i||void 0,selectedTweet:f,socialContext:s}))},n._shouldRenderRichTweetLandingTimeline=function(){var e=this.props,t=e.isReferredFromExploreTopics;return!!e.richLandingContextId||t||this._isBucketedInRichTweetLandingExperiment()},n._clearTimelineCache=function(e,t){void 0===e&&(e=this._getModule()),void 0===t&&(t=this._getNavigationParams());var n=this.props,r=n.clearTimelineCache,a=n.createLocalApiErrorHandler;r(e,t).catch(a(this._getApiErrorHandlerMap()))},t}(p.Component);u()(ze,"contextType",f.a),u()(ze,"defaultProps",{recordTTFL:d.c});t.default=L(ze)}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/web_legacy/bundle.Conversation.2356edc4.js.map