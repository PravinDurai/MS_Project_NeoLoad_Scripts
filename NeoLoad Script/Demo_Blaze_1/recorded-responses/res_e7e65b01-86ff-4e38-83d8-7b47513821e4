(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"1JIQ":function(e,t,n){"use strict";n.r(t),n.d(t,"DMRichTextComposeContextProvider",(function(){return u}));var o=n("97Jx"),i=n.n(o),r=n("ERkP"),a=n("cOtO"),s=n("RH6X"),c=n("hHEM"),l=n("keCP"),u=function(e){var t={convertEmojiToEntities:c.a.convertEmojiToEntities,element:l.a,initEditorState:c.a.initEditorState,insertTextAtCursor:c.a.insertTextAtCursor};return r.createElement(a.default,i()({},e,{richTextInputContext:t,typeaheadWrapper:s.a}))};t.default=u},H9O4:function(e,t,n){"use strict";n("IAdD"),t.__esModule=!0,t.default=void 0;var o=s(n("7DT3")),i=s(n("/uF9")),r=s(n("ERkP")),a=s(n("OkZJ"));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){return void 0===e&&(e={}),(0,o.default)("svg",Object.assign({},e,{style:[a.default.root,e.style,i.default.isRTL&&a.default.iconRtl],viewBox:"0 0 24 24"}),r.default.createElement("g",null,r.default.createElement("path",{d:"M19.687 22H7.813C6.538 22 5.5 20.962 5.5 19.687v-4.452c0-.414.336-.75.75-.75s.75.335.75.75v4.45c0 .45.365.815.813.815h11.873c.448 0 .813-.365.813-.813V7.813c0-.448-.365-.813-.813-.813h-4.452c-.414 0-.75-.336-.75-.75s.336-.75.75-.75h4.452C20.962 5.5 22 6.538 22 7.813v11.873C22 20.962 20.962 22 19.687 22z"}),r.default.createElement("path",{d:"M11.25 4.045c-.414 0-.75.336-.75.75V9.44L3.064 2.004c-.293-.293-.768-.293-1.06 0s-.294.768 0 1.06L9.438 10.5H4.804c-.414 0-.75.336-.75.75s.336.75.75.75h6.445c.414 0 .75-.336.75-.75V4.795c0-.414-.336-.75-.75-.75z"})))};c.metadata={height:24,width:24};var l=c;t.default=l},M2mT:function(e,t,n){"use strict";n("i4UL");var o=n("LdEA"),i=n.n(o),r=n("W/Kd"),a=n.n(r),s=n("KEM+"),c=n.n(s),l=n("+/5o"),u=n("ERkP"),p=n("HPNB"),d=n("VAZu"),h=n("wiP2"),v=n("3xLC"),m=n("Es6L"),f=(n("IAdD"),n("rHpw")),w=f.a.create((function(e){return{fill:{flex:1,alignSelf:"stretch"},viewportView:Object.assign({},f.a.absoluteFillObject,{overflowY:"auto"}),appBarContainer:{backfaceVisibility:"hidden",position:"sticky",top:0,zIndex:1}}})),C=n("3xO4"),y=n.n(C),b=n("yw4N"),_=n("TnY3"),g=n("cHvH"),O=function(e){function t(){return e.apply(this,arguments)||this}a()(t,e);var n=t.prototype;return n.render=function(){var e=this;return u.createElement(g.a,null,(function(t){var n=t.windowWidth;return p.a.isTwoColumnLayout(n)?e._renderForTwoColumnLayout():e._renderForOneColumnLayout()}))},n._renderForOneColumnLayout=function(){var e=this.props,t=e.children,n=(e.leftControl,e.screenType,e.showSubtitleOnWideDetail,e.withDetailOpen,i()(e,["children","leftControl","screenType","showSubtitleOnWideDetail","withDetailOpen"]));return u.createElement(u.Fragment,null,Object(m.a)()?this._renderInlineNav({isTwoColumnLayout:!1}):u.createElement(h.a.Configure,n),t)},n._renderForTwoColumnLayout=function(){return u.createElement(u.Fragment,null,this._renderInlineNav({isTwoColumnLayout:!0}),this._renderChildren())},n._renderInlineNav=function(e){var t=e.isTwoColumnLayout,n=this.props,o=n.TeamsSwitcher,i=n.TabBar,r=n.backLocation,a=n.documentTitle,s=n.headerless,c=n.history,p=n.leftControl,v=n.location,m=n.onBackClick,f=n.rightControl,C=n.screenType,b=n.searchBoxOptions,_=n.secondaryBar,g=n.showSubtitleOnWideDetail,O=n.subtitle,E=n.title,I=n.titleIconCell,T=n.titleIconCellSize,x=n.withDetailOpen,P=n.withSearchBox,D=n.withTweetButton,k="root"===C,B="secondaryRoot"===C,S="primaryDetail"===C,L=k||S&&t,M=k?l.k:S?l.d:void 0,N=u.createElement(y.a,{style:w.appBarContainer},u.createElement(d.a,{backLocation:r,fixed:!1,hideBackButton:L,history:c,leftControl:p,location:v,onBackClick:m,rightControl:f,subtitle:S&&g?O:void 0,title:E,titleDomId:M,titleIconCell:I,titleIconCellSize:T,withBottomBorder:!_})),A=k||B&&x?null:u.createElement(h.a.Configure,{TabBar:i,TeamsSwitcher:o,backLocation:r,documentTitle:a,headerless:s,onBackClick:m,rightControl:f,searchBoxOptions:b,subtitle:O,title:E,withSearchBox:P,withTweetButton:D});return u.createElement(u.Fragment,null,A,N,_)},n._renderChildren=function(){var e=this.props.children;return this.context.rootDetailPerColumnScroll?u.createElement(y.a,{style:w.fill},u.createElement(b.a,{style:w.viewportView},e)):e},t}(u.Component);c()(O,"contextType",v.a),c()(O,"defaultProps",{screenType:"secondaryDetail",showSubtitleOnWideDetail:!0});t.a=Object(_.a)(O)},cOtO:function(e,t,n){"use strict";n.r(t),n.d(t,"DMConversationScreen",(function(){return ce}));n("z84I"),n("+KXO"),n("KqXw"),n("MvUL"),n("uFXj");var o=n("1Pcy"),i=n.n(o),r=n("W/Kd"),a=n.n(r),s=n("KEM+"),c=n.n(s),l=n("ERkP"),u=n("HPNB"),p=(n("WNMA"),n("zh9S")),d=n("MMRb"),h=n("VnFT"),v=n("RqPI"),m=n("oEGd"),f=n("hqKg"),w=(n("Myq3"),n("AQOc")),C=n("z2Pn"),y=n("pNZL"),b=n("G6rE"),_=n("X/yg"),g=function(e,t){return t.match.params.conversationId},O=Object(f.createSelector)((function(e,t){return d.selectConversation(e,g(0,t))}),d.selectEntries,g,_.b,v.g,_.c,_.d,b.e.selectAll,(function(e,t){return h.j(e,g(0,t))}),(function(e,t){return h.i(e,g(0,t))}),d.selectPoppedOutConversationId,d.selectDrawerVisibility,(function(e,t,n,o,i,r,a,s,c,l,u,p){var d=e&&e.data;return{conversation:d&&Object(w.a)(d,t,s),conversationId:n,isNewGroupConversation:o,isUploading:c,media:l,newConversationParticipants:r,perspective:i,poppedOutConversationId:u,dmDrawerVisibility:p}})),E=function(e){return function(t){return h.c(e,t)}},I=Object(m.d)(O,(function(e){return{cancelUpload:(t=e.match.params.conversationId,function(){return h.b(t)}),googleAnalyticsPageView:p.a,removeMedia:E(e.match.params.conversationId),scribePageImpression:p.d,setLastViewedDmInboxPath:C.h,updateTweetDetailNav:y.b,popOutConversation:d.popOutConversation,setDrawerVisibility:d.setDrawerVisibility};var t})),T=n("7JQg"),x=n("jdj2"),P=n.n(x),D=(n("uB9N"),n("Oi4X")),k=n("aA19"),B=n("SrtL"),S=n("3XMw"),L=n.n(S),M=n("rHpw"),N=n("mw9i"),A=n("FIs5"),V=L.a.a2f8105f,j=L.a.fa91f351,R=L.a.b999caa8,W=L.a.de2c3337,F=M.a.create((function(e){return{root:{alignItems:"center",justifyContent:"center",flex:1,backgroundColor:e.colors.cellBackground}}})),H=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),t.prototype.render=function(){var e=this.props.onButtonPress;return l.createElement(N.a,{style:F.root},l.createElement(B.a,{title:V}),l.createElement(A.a,{buttonText:W,header:j,message:R,onButtonPress:e}))},t}(l.PureComponent),z=n("xPna"),G=n("wrlS"),Q=n("XnpN"),X=n("E8TX"),q=n.n(X),K=n("H9O4"),J=n.n(K),U=n("7myi"),Y=n("M2mT"),Z=(n("AxOO"),n("aITJ")),$=n("3xO4"),ee=n.n($),te=(n("aWzz"),n("/yvb")),ne=n("OhSZ"),oe=L.a.d4986f85,ie=L.a.e3e58b6d,re=L.a.a9ddbb94,ae=l.createElement(q.a,null),se=l.createElement(J.a,null),ce=function(e){function t(t){var n;n=e.call(this,t)||this,c()(i()(n),"_composer",l.createRef()),c()(i()(n),"_handleConversationClose",(function(e){var t=n.props,o=t.conversation,i=t.history;(null==o?void 0:o.trusted)?i.push("/messages"):e()})),c()(i()(n),"_handlePopOutConvo",(function(){var e=n.props,t=e.conversationId;(0,e.popOutConversation)(t)})),c()(i()(n),"_handlePopInConvoFromScreen",(function(){(0,n.props.setDrawerVisibility)(z.a.CLOSED)})),c()(i()(n),"_handleInfoClick",(function(){var e=n.props,t=e.history,o=e.conversationId;o&&t.push("/messages/"+o+"/info")})),c()(i()(n),"_updateLastViewDmInboxPath",(function(){var e=n.props;(0,e.setLastViewedDmInboxPath)(e.location.pathname)}));var o=t.conversationId,r=t.history,a=t.location,s=t.isNewGroupConversation;return o||s||a.pathname!==window.location.pathname||r.replace({pathname:"/messages"}),n._showDMQuickAccess=G.a.isTrue("responsive_web_dm_quick_access_enabled"),n._showDMQuickAccessWithClose=G.a.isTrue("responsive_web_dm_quick_access_with_close_enabled"),n._showDMConversationAvatarInHeader=G.a.isTrue("responsive_web_dm_health_convo_inline_profile_info_enabled"),n}a()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.googleAnalyticsPageView,n=e.scribeNamespace,o=e.scribePageImpression,i=e.updateTweetDetailNav;o(n),i(n),t(n),this._updateLastViewDmInboxPath()},n.componentDidUpdate=function(e){this.props.conversationId!==e.conversationId&&this._updateLastViewDmInboxPath()},n.render=function(){var e=this.props,t=e.conversationId,n=e.dmDrawerVisibility,o=e.history,i=e.location,r=e.poppedOutConversationId,a=e.richTextInputContext,s=e.typeaheadWrapper,c="string"==typeof i.query.text?i.query.text:void 0,u=P.a.get("window").width>=M.a.theme.breakpoints.small,p=this._showDMQuickAccess&&this._showDMQuickAccessWithClose&&t===r&&n!==z.a.CLOSED;return l.createElement(Y.a,this._getNavProps(),p?l.createElement(H,{onButtonPress:this._handlePopInConvoFromScreen}):l.createElement(D.a,{conversationId:t,history:o,isWide:u,location:i,prefillText:c,richTextInputContext:a,typeaheadWrapper:s}))},n._getNavProps=function(){var e=this.props,t=e.conversation,n=e.newConversationParticipants,o=e.perspective,i=t&&Object.keys(t.participants).length?Object(ne.a)({conversation:t,perspective:o}):n?Object(ne.a)({newConversationParticipants:n,perspective:o}):oe,r=t&&Object.keys(t.participants).length?l.createElement(ne.b,{conversation:t,perspective:o,titleWeight:"heavy",withScreenName:!1}):n?l.createElement(ne.b,{newConversationParticipants:n,perspective:o,titleWeight:"heavy",withScreenName:!1}):oe,a=this._showDMConversationAvatarInHeader?"large":void 0,s=o&&this._showDMConversationAvatarInHeader?l.createElement(k.a,{conversation:t,perspective:o,size:a}):void 0,c=t&&t.type===d.CONVERSATION_TYPE.ONE_TO_ONE&&o&&Object(Q.a)(t,o).map((function(e){return e.user.screen_name})),u=c?"@"+c[0]:void 0;return{backLocation:"/messages",onBackClick:this._handleConversationClose,documentTitle:i,rightControl:this._renderRightControl(),title:r,titleIconCell:s,titleIconCellSize:a,subtitle:u,screenType:"primaryDetail",withBottomTabBar:!1,headerless:Z.a.isKaiOS()}},n._renderRightControl=function(){var e=this.props,t=e.conversation,n=e.conversationId,o=(null==t?void 0:t.type)===d.CONVERSATION_TYPE.GROUP;return n?l.createElement(ee.a,{style:le.rightControlStyles},u.a.isTwoColumnLayout(P.a.get("window").width)&&this._showDMQuickAccess&&this._showDMQuickAccessWithClose&&l.createElement(te.a,{icon:se,onPress:this._handlePopOutConvo,pullRight:!0,style:le.infoButton,type:"text"}),l.createElement(te.a,{accessibilityLabel:o?re:ie,icon:ae,key:n,link:"/messages/"+n+"/info",pullRight:!0,style:le.infoButton,type:"text"})):void 0},t}(l.PureComponent);c()(ce,"defaultProps",{isNewGroupConversation:!1,typeaheadWrapper:U.a});var le=M.a.create((function(e){return{root:{flexGrow:1},activity:{flexBasis:"1px",flexGrow:1,height:"100%"},kaiOSFix:{paddingBottom:20},dragDrop:{flexGrow:1},scrollView:{flexGrow:1},infoButton:{marginRight:e.spaces.xxSmall},offsetBottom:{paddingBottom:M.a.iPhoneOffsetBottom},rightControlStyles:{flexDirection:"row"}}}));t.default=Object(T.c)({page:"messages",section:"thread"})(I(ce))}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/web_legacy/bundle.DMRichTextCompose.0c521b74.js.map