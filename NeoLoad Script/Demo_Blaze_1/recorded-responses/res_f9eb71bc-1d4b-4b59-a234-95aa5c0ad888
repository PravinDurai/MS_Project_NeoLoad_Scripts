(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"1JIQ":function(e,t,n){"use strict";n.r(t),n.d(t,"DMRichTextComposeContextProvider",(function(){return p}));var o=n("97Jx"),a=n.n(o),i=n("ERkP"),r=n("cOtO"),s=n("RH6X"),c=n("hHEM"),l=n("keCP"),p=function(e){var t={convertEmojiToEntities:c.a.convertEmojiToEntities,element:l.a,initEditorState:c.a.initEditorState,insertTextAtCursor:c.a.insertTextAtCursor};return i.createElement(r.default,a()({},e,{richTextInputContext:t,typeaheadWrapper:s.a}))};t.default=p},H9O4:function(e,t,n){"use strict";n("IAdD"),t.__esModule=!0,t.default=void 0;var o=s(n("7DT3")),a=s(n("/uF9")),i=s(n("ERkP")),r=s(n("OkZJ"));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){return void 0===e&&(e={}),(0,o.default)("svg",Object.assign({},e,{style:[r.default.root,e.style,a.default.isRTL&&r.default.iconRtl],viewBox:"0 0 24 24"}),i.default.createElement("g",null,i.default.createElement("path",{d:"M19.687 22H7.813C6.538 22 5.5 20.962 5.5 19.687v-4.452c0-.414.336-.75.75-.75s.75.335.75.75v4.45c0 .45.365.815.813.815h11.873c.448 0 .813-.365.813-.813V7.813c0-.448-.365-.813-.813-.813h-4.452c-.414 0-.75-.336-.75-.75s.336-.75.75-.75h4.452C20.962 5.5 22 6.538 22 7.813v11.873C22 20.962 20.962 22 19.687 22z"}),i.default.createElement("path",{d:"M11.25 4.045c-.414 0-.75.336-.75.75V9.44L3.064 2.004c-.293-.293-.768-.293-1.06 0s-.294.768 0 1.06L9.438 10.5H4.804c-.414 0-.75.336-.75.75s.336.75.75.75h6.445c.414 0 .75-.336.75-.75V4.795c0-.414-.336-.75-.75-.75z"})))};c.metadata={height:24,width:24};var l=c;t.default=l},cOtO:function(e,t,n){"use strict";n.r(t),n.d(t,"DMConversationScreen",(function(){return se}));n("z84I"),n("+KXO"),n("KqXw"),n("MvUL"),n("uFXj");var o=n("1Pcy"),a=n.n(o),i=n("W/Kd"),r=n.n(i),s=n("KEM+"),c=n.n(s),l=n("ERkP"),p=n("HPNB"),u=(n("WNMA"),n("zh9S")),d=n("MMRb"),h=n("VnFT"),v=n("RqPI"),m=n("oEGd"),f=n("hqKg"),w=(n("Myq3"),n("AQOc")),C=n("z2Pn"),y=n("pNZL"),g=n("G6rE"),b=n("X/yg"),O=function(e,t){return t.match.params.conversationId},_=Object(f.createSelector)((function(e,t){return d.selectConversation(e,O(0,t))}),d.selectEntries,O,b.b,v.g,b.c,b.d,g.e.selectAll,(function(e,t){return h.j(e,O(0,t))}),(function(e,t){return h.i(e,O(0,t))}),d.selectPoppedOutConversationId,d.selectDrawerVisibility,(function(e,t,n,o,a,i,r,s,c,l,p,u){var d=e&&e.data;return{conversation:d&&Object(w.a)(d,t,s),conversationId:n,isNewGroupConversation:o,isUploading:c,media:l,newConversationParticipants:i,perspective:a,poppedOutConversationId:p,dmDrawerVisibility:u}})),P=function(e){return function(t){return h.c(e,t)}},E=Object(m.d)(_,(function(e){return{cancelUpload:(t=e.match.params.conversationId,function(){return h.b(t)}),googleAnalyticsPageView:u.a,removeMedia:P(e.match.params.conversationId),scribePageImpression:u.d,setLastViewedDmInboxPath:C.h,updateTweetDetailNav:y.b,popOutConversation:d.popOutConversation,setDrawerVisibility:d.setDrawerVisibility};var t})),x=n("7JQg"),I=n("jdj2"),D=n.n(I),T=(n("uB9N"),n("Oi4X")),k=n("SrtL"),M=n("3XMw"),N=n.n(M),S=n("rHpw"),V=n("mw9i"),B=n("FIs5"),R=N.a.a2f8105f,j=N.a.fa91f351,A=N.a.b999caa8,L=N.a.de2c3337,W=S.a.create((function(e){return{root:{alignItems:"center",justifyContent:"center",flex:1,backgroundColor:e.colors.cellBackground}}})),G=function(e){function t(){return e.apply(this,arguments)||this}return r()(t,e),t.prototype.render=function(){var e=this.props.onButtonPress;return l.createElement(V.a,{style:W.root},l.createElement(k.a,{title:R}),l.createElement(B.a,{buttonText:L,header:j,message:A,onButtonPress:e}))},t}(l.PureComponent),Q=n("xPna"),X=n("wrlS"),q=n("XnpN"),H=n("E8TX"),z=n.n(H),F=n("H9O4"),J=n.n(F),K=n("7myi"),U=n("M2mT"),Z=(n("AxOO"),n("aITJ")),Y=n("3xO4"),$=n.n(Y),ee=(n("aWzz"),n("/yvb")),te=n("OhSZ"),ne=N.a.d4986f85,oe=N.a.e3e58b6d,ae=N.a.a9ddbb94,ie=l.createElement(z.a,null),re=l.createElement(J.a,null),se=function(e){function t(t){var n;n=e.call(this,t)||this,c()(a()(n),"_composer",l.createRef()),c()(a()(n),"_handleConversationClose",(function(e){var t=n.props,o=t.conversation,a=t.history;(null==o?void 0:o.trusted)?a.push("/messages"):e()})),c()(a()(n),"_handlePopOutConvo",(function(){var e=n.props,t=e.conversationId;(0,e.popOutConversation)(t)})),c()(a()(n),"_handlePopInConvoFromScreen",(function(){(0,n.props.setDrawerVisibility)(Q.a.CLOSED)})),c()(a()(n),"_handleInfoClick",(function(){var e=n.props,t=e.history,o=e.conversationId;o&&t.push("/messages/"+o+"/info")})),c()(a()(n),"_updateLastViewDmInboxPath",(function(){var e=n.props;(0,e.setLastViewedDmInboxPath)(e.location.pathname)}));var o=t.conversationId,i=t.history,r=t.location,s=t.isNewGroupConversation;return o||s||r.pathname!==window.location.pathname||i.replace({pathname:"/messages"}),n._showDMQuickAccess=X.a.isTrue("responsive_web_dm_quick_access_enabled"),n._showDMQuickAccessWithClose=X.a.isTrue("responsive_web_dm_quick_access_with_close_enabled"),n}r()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.googleAnalyticsPageView,n=e.scribeNamespace,o=e.scribePageImpression,a=e.updateTweetDetailNav;o(n),a(n),t(n),this._updateLastViewDmInboxPath()},n.componentDidUpdate=function(e){this.props.conversationId!==e.conversationId&&this._updateLastViewDmInboxPath()},n.render=function(){var e=this.props,t=e.conversationId,n=e.dmDrawerVisibility,o=e.history,a=e.location,i=e.poppedOutConversationId,r=e.richTextInputContext,s=e.typeaheadWrapper,c="string"==typeof a.query.text?a.query.text:void 0,p=D.a.get("window").width>=S.a.theme.breakpoints.small,u=this._showDMQuickAccess&&this._showDMQuickAccessWithClose&&t===i&&n!==Q.a.CLOSED;return l.createElement(U.a,this._getNavProps(),u?l.createElement(G,{onButtonPress:this._handlePopInConvoFromScreen}):l.createElement(T.a,{conversationId:t,history:o,isWide:p,location:a,prefillText:c,richTextInputContext:r,typeaheadWrapper:s}))},n._getNavProps=function(){var e=this.props,t=e.conversation,n=e.newConversationParticipants,o=e.perspective,a=t&&Object.keys(t.participants).length?Object(te.a)({conversation:t,perspective:o}):n?Object(te.a)({newConversationParticipants:n,perspective:o}):ne,i=t&&Object.keys(t.participants).length?l.createElement(te.b,{conversation:t,perspective:o,titleWeight:"heavy",withScreenName:!1}):n?l.createElement(te.b,{newConversationParticipants:n,perspective:o,titleWeight:"heavy",withScreenName:!1}):ne,r=t&&t.type===d.CONVERSATION_TYPE.ONE_TO_ONE&&o&&Object(q.a)(t,o).map((function(e){return e.user.screen_name})),s=r?"@"+r[0]:void 0;return{backLocation:"/messages",onBackClick:this._handleConversationClose,documentTitle:a,rightControl:this._renderRightControl(),title:i,subtitle:s,screenType:"primaryDetail",withBottomTabBar:!1,headerless:Z.a.isKaiOS()}},n._renderRightControl=function(){var e=this.props,t=e.conversation,n=e.conversationId,o=(null==t?void 0:t.type)===d.CONVERSATION_TYPE.GROUP;return n?l.createElement($.a,{style:ce.rightControlStyles},p.a.isTwoColumnLayout(D.a.get("window").width)&&this._showDMQuickAccess&&this._showDMQuickAccessWithClose&&l.createElement(ee.a,{icon:re,onPress:this._handlePopOutConvo,pullRight:!0,style:ce.infoButton,type:"text"}),l.createElement(ee.a,{accessibilityLabel:o?ae:oe,icon:ie,key:n,link:"/messages/"+n+"/info",pullRight:!0,style:ce.infoButton,type:"text"})):void 0},t}(l.PureComponent);c()(se,"defaultProps",{isNewGroupConversation:!1,typeaheadWrapper:K.a});var ce=S.a.create((function(e){return{root:{flexGrow:1},activity:{flexBasis:"1px",flexGrow:1,height:"100%"},kaiOSFix:{paddingBottom:20},dragDrop:{flexGrow:1},scrollView:{flexGrow:1},infoButton:{marginRight:e.spaces.xxSmall},offsetBottom:{paddingBottom:S.a.iPhoneOffsetBottom},rightControlStyles:{flexDirection:"row"}}}));t.default=Object(x.c)({page:"messages",section:"thread"})(E(se))}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/web_legacy/bundle.DMRichTextCompose.dbdd9364.js.map