(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{okjw:function(e,t,n){"use strict";n.r(t),n.d(t,"LogoutErrorScreen",(function(){return R}));n("2G9S"),n("KqXw"),n("MvUL");var r=n("1Pcy"),o=n.n(r),a=n("W/Kd"),c=n.n(a),i=n("KEM+"),u=n.n(i),l=n("ERkP"),s=n("oEGd"),f=n("0KEI"),h=n("KkUe"),d={createLocalApiErrorHandler:Object(f.d)("LOGOUT_ERROR_SCREEN"),logout:h.a},g=Object(s.b)(d),p=n("7JQg"),E=n("kGix"),b=n("v//M"),L=n("3XMw"),y=n.n(L),O=n("yoO3"),A=n("zCf4"),_=n("BTou"),w=n("feu+"),S=n("sgih"),m=y.a.ae1bbb26,v=y.a.a5077d3d,k=y.a.gc6866f7,C=y.a.c20aaf3d,D=y.a.c55f5c9a,M=function(){return null},R=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,u()(o()(t),"state",{fetchStatus:E.a.LOADED}),u()(o()(t),"_renderError",(function(){return l.createElement(O.a,null,l.createElement(w.a,{actionLabel:v,headline:C,isFullHeightOnMobile:!0,onAction:t._handleRefresh,onClose:t._handleRefresh,onSecondaryAction:t._handleLogout,secondaryActionLabel:m,subtext:D,withCloseButton:!1}))})),u()(o()(t),"_redirectToHome",(function(){return l.createElement(A.a,{to:"/"})})),u()(o()(t),"_handleLogout",(function(){var e=t.props,n=e.createLocalApiErrorHandler,r=e.logout;t.setState({fetchStatus:E.a.LOADING}),r({redirectAfterLogout:"/"}).catch((function(e){return t.setState({fetchStatus:E.a.LOADED}),n({showToast:!0})(e)}))})),u()(o()(t),"_handleRefresh",(function(e){_.a.flushHTMLCache(),window.location.replace("/")})),t}return c()(t,e),t.prototype.render=function(){var e=this.props.location,t=this.state.fetchStatus;return t===E.a.LOADED?e.state&&e.state.error||e.query.testing?this._renderError():this._redirectToHome():l.createElement(S.a,{type:"full"},l.createElement(b.a,{fetchStatus:t,loadingMessage:k,onRequestRetry:this._handleLogout,render:M}))},t}(l.Component);t.default=Object(p.c)({page:"logout_error"})(g(R))},"x/Xu":function(e,t,n){"use strict";n.r(t),n.d(t,"LogoutScreen",(function(){return q}));n("2G9S");var r=n("1Pcy"),o=n.n(r),a=n("W/Kd"),c=n.n(a),i=n("KEM+"),u=n.n(i),l=n("ERkP"),s=n("oEGd"),f=n("0KEI"),h=n("hqKg"),d=n("KkUe"),g=n("G6rE"),p=Object(h.createSelector)(g.e.selectLoggedInUser,(function(e){return{loggedInUser:e}})),E={createLocalApiErrorHandler:Object(f.d)("LOGOUT_SCREEN"),logout:d.a},b=Object(s.g)(p,E),L=n("7JQg"),y=n("kGix"),O=n("v//M"),A=n("3Wr5"),_=n("3XMw"),w=n.n(_),S=n("GQKA"),m=n.n(S),v=n("8jkQ"),k=n("yoO3"),C=n("eb3s"),D=n("sgih"),M=n("rHpw"),R=w.a.a3fad4f2,G=w.a.f12b4db4,j=w.a.ae1bbb26,K=w.a.ia5ff8b6,T=w.a.ea3750c3,H=w.a.gc6866f7,U=function(){return null},I=function(e){var t=e.query.redirect_after_logout;return"string"==typeof t?t:Array.isArray(t)&&"string"==typeof t[0]?t[0]:void 0},q=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,u()(o()(t),"state",{fetchStatus:y.a.LOADED}),u()(o()(t),"_render",(function(){var e=t.props.loggedInUser,n=Object(A.a)().hasMultiAccountCookie;return l.createElement(k.a,null,l.createElement(C.a,{Icon:m.a,allowBackNavigation:!0,confirmButtonLabel:j,confirmButtonType:"primary",enableMaskForDismiss:!0,headline:n&&e?G({screenName:e.screen_name}):R,iconStyle:x.icon,onCancel:t._handleCancel,onConfirm:t._handleLogout,text:n?T:K}))})),u()(o()(t),"_handleLogout",(function(){var e=Object(A.a)().hasMultiAccountCookie,n=t.props,r=n.createLocalApiErrorHandler,o=n.location,a=n.logout;t.setState({fetchStatus:y.a.LOADING}),a({redirectAfterLogout:I(o)||(e?"https://"+window.location.host+"/account/switch":void 0)}).catch((function(e){return t.setState({fetchStatus:y.a.LOADED}),r({showToast:!0})(e)}))})),u()(o()(t),"_handleCancel",(function(){var e=t.props,n=e.history,r=e.location,o=I(r);o&&v.b.isTwitterUrl(o)?v.b.navigateTo(o):n.goBack()})),t}return c()(t,e),t.prototype.render=function(){var e=this.state.fetchStatus;return e===y.a.LOADED?this._render():l.createElement(D.a,{type:"full"},l.createElement(O.a,{fetchStatus:e,loadingMessage:H,onRequestRetry:this._handleLogout,render:U}))},t}(l.Component),x=M.a.create((function(e){return{icon:{color:e.colors.brandColor,height:e.spaces.xLarge}}}));t.default=Object(L.c)({page:"logout"})(b(q))}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/web_legacy/bundle.Logout.69e9fd54.js.map