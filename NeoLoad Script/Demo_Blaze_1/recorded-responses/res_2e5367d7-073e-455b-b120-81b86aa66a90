(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{"1cTF":function(e,t,n){"use strict";n.r(t),n.d(t,"LoginScreen",(function(){return pe})),n.d(t,"styles",(function(){return ue}));n("IAdD"),n("uFXj");var r=n("1Pcy"),a=n.n(r),i=n("W/Kd"),o=n.n(i),c=n("KEM+"),s=n.n(c),l=n("ERkP"),d=n("pxuL"),p=n("zh9S"),u=n("RqPI"),h=n("oEGd"),m=n("hqKg"),g=n("3XMw"),f=n.n(g),b=n("aTAq"),y=n("G6rE"),v={BadSessionLoginVerification:f.a.f8ad0091,ExpiredLoginVerification:f.a.h2c7767e,OverLimitLoginVerificationAttempts:f.a.e83047c2,OfflineCodeSync:f.a.g4b108ee},_=Object(m.createSelector)((function(e,t){return u.d(e)||(Object(b.a)(t.location.query.login_verification_error)?v[t.location.query.login_verification_error]:void 0)}),(function(e,t){return t.location.query&&(Object(b.a)(t.location.query.username_or_email)?t.location.query.username_or_email:void 0)}),u.h,(function(e,t){return!!t.location.pathname&&("/login/check"===t.location.pathname||"/login/check/"===t.location.pathname)}),(function(e,t){return"true"===t.location.query.username_disabled}),(function(e,t){return"true"===t.location.query.email_disabled}),(function(e,t){return"true"===t.location.query.phone_disabled}),y.e.selectLoggedInUser,(function(e,t,n,r,a,i,o,c){return{errorMessage:e,loginId:t,loginReturnPath:n,loggedInUser:c,shouldChallenge:r,shouldDisableUsernameLogin:a,shouldDisableEmailLogin:i,shouldDisablePhoneLogin:o}})),w={scribeAction:p.c,scribePageImpression:p.d},E=Object(h.g)(_,w),S=n("7JQg"),L=(n("2G9S"),n("ho0z"),n("7x/C"),n("KqXw"),n("DZ+c"),n("MvUL"),n("SrtL")),C=n("GQKA"),O=n.n(C),R=n("8jkQ"),x=n("yoO3"),k="LoginPage_Continue_Button",I=n("sgih"),j=n("mw9i"),P=n("t62R"),A=n("oSwX"),D=n("jV+4"),U=n("/yvb"),T=n("Irs7"),F=f.a.d98c140e,V=f.a.e55188f0,M=f.a.d55d8fe1,N=f.a.c3d89aca,q=f.a.g806008e,B=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,s()(a()(t),"_handleContinuePress",(function(){var e=t.props,n=e.analytics,r=e.history,a=e.location.query,i=a&&a.redirect_after_login?a.redirect_after_login.toString():void 0,o=i&&R.b.makeSafeForTwitterRedirect(i);i&&o?(n.scribeAction("redirect"),window.location.assign(o)):(n.scribeAction("redirecthome"),r.replace("/home"))})),s()(a()(t),"_handleSwitchAccountPress",(function(){var e=t.props,n=e.analytics,r=e.history;n.scribeAction("switch"),r.replace("/account/switch")})),t}return o()(t,e),t.prototype.render=function(){var e=this.props.loggedInUser;return l.createElement(x.a,null,l.createElement(L.a,{title:F}),l.createElement(I.a,{type:"full"},l.createElement(j.a,{style:[ue.root,ue.center],withGutter:!0},l.createElement(O.a,{style:ue.icon}),l.createElement(P.c,{accessibilityRole:"heading",align:"center",size:"xLarge",style:ue.heading,weight:"bold"},V),l.createElement(A.default,{size:"jumbo",uri:e.profile_image_url_https}),l.createElement(D.a,{badgeContext:"account",isProtected:e.protected,isVerified:e.verified,name:e.name,screenName:e.screen_name,style:[ue.gutter,ue.center],withStackedLayout:!0}),l.createElement(P.c,{align:"center",style:ue.gutter},M),l.createElement(U.a,{onPress:this._handleContinuePress,style:ue.gutter,testID:k,type:"primary"},N),l.createElement(P.c,{accessibilityRole:"link",align:"center",color:"link",onPress:this._handleSwitchAccountPress,style:ue.gutter},q))))},t}(l.Component),z=Object(T.a)(B,{page:"login",section:"continue"}),H=n("s9SB"),G=n.n(H),W=n("wrlS"),X=n("cnVF"),K=n("2qJZ"),J=n("6oVL"),Q=n("Lam0"),Z=n("mrHL"),$=n("Es6L"),Y=n("pjBI"),ee=n("rHpw"),te=n("XJCT"),ne=f.a.d1091f50,re=f.a.eab9ceb1,ae=f.a.g2b8acd4,ie=f.a.bdc9d8a2,oe=f.a.c2ab20ab,ce=f.a.id312f0a,se=f.a.caac124e,le=f.a.ab77e0b8,de={page:"login"},pe=function(e){function t(t,n){var r,i=t.loginId;return r=e.call(this,t,n)||this,s()(a()(r),"_renderLogin",(function(){var e=r.props,t=e.errorMessage,n=e.loginId,a=e.loginReturnPath,i=e.shouldChallenge,o=e.shouldDisableUsernameLogin,c=e.shouldDisableEmailLogin,s=e.shouldDisablePhoneLogin,d=r.state,p=d.autoSubmit,u=d.recaptchaSuccessToken,h=d.recaptchaTermAccepted,m=d.passwordValue,g=d.usernameValue,f=!!u,b=i&&!f,y=!(i&&h),v=Object(K.c)()&&i;return l.createElement(x.a,null,l.createElement(L.a,{title:ie}),l.createElement(j.a,{style:ue.root,withGutter:!0},l.createElement(O.a,{style:ue.icon}),l.createElement(P.c,{accessibilityRole:"heading",align:"center",size:"xLarge",style:ue.heading,weight:"bold"},ae),t?l.createElement(P.c,{color:"red"},t):null,y?r._renderAlternativeLoginMethodCopy():null,f?l.createElement(P.c,{style:ue.passedChallengeCopy},oe):null,l.createElement(J.a,{autoSubmit:p,deregisterServiceWorkerBeforeSubmit:v,hideSubmitButton:b,loginReturnPath:a,submitButtonDisabled:r._hasMissingFields(),submitButtonSize:"normalLarge",submitButtonStyle:ue.submitButton},l.createElement(te.b,{autoFocus:!n,onChange:r._handleUsernameFieldChange,onSubmitEditing:r._handleSubmitEditing,value:g,withEmailDisabled:c,withPhoneDisabled:s,withUsernameDisabled:o}),b?null:l.createElement(te.a,{autoFocus:!!n,onChange:r._handlePasswordFieldChange,onSubmitEditing:r._handleSubmitEditing,value:m}),i?l.createElement("input",{defaultValue:u,name:"g-recaptcha-response",style:{display:"none"}}):null),i&&!f?r._renderRecaptcha():null,l.createElement(P.c,{align:"center",style:ue.links},l.createElement(Y.a,null,l.createElement(P.c,{link:{pathname:"https://twitter.com/account/begin_password_reset",external:!0,openInSameFrame:!0}},ne),l.createElement(P.c,{link:"/i/flow/signup"},re)))))})),s()(a()(r),"_renderAlternativeLoginMethodCopy",(function(){var e,t=r.props,n=t.shouldDisableUsernameLogin,a=t.shouldDisableEmailLogin,i=t.shouldDisablePhoneLogin;return n?e=ce:i?e=le:a&&(e=se),i||a||n?l.createElement(P.c,{color:"red"},e):null})),s()(a()(r),"_renderRecaptcha",(function(){var e=r.state.usernameValue;return l.createElement(Q.a,{nextButtonDisabled:!e,onChange:r._handleRecaptchaStateChange,onConsent:r._handleRecaptchaTermAccepted,withConsentForm:!0})})),s()(a()(r),"_hasMissingFields",(function(){var e=r.state,t=e.usernameValue,n=e.passwordValue;return!t||!n})),s()(a()(r),"_handlePasswordFieldChange",(function(e){r.setState({passwordValue:e.target.value})})),s()(a()(r),"_handleUsernameFieldChange",(function(e){r.setState({usernameValue:e.target.value})})),s()(a()(r),"_handleSubmitEditing",(function(){r._hasMissingFields()||r.setState({autoSubmit:!0})})),s()(a()(r),"_handleRecaptchaStateChange",(function(e){var t=e?"passed":"expired";(0,r.props.scribeAction)(Object.assign({},de,{section:"recaptcha",action:t})),e&&r.setState({recaptchaSuccessToken:e})})),s()(a()(r),"_handleRecaptchaTermAccepted",(function(){(0,r.props.scribeAction)(Object.assign({},de,{section:"recaptcha",component:"terms",action:"accepted"})),r.setState({recaptchaTermAccepted:!0})})),r._continueEnabled=W.a.isTrue("responsive_web_continue_as_always_enabled")||"true"===t.location.query.showContinuePrompt&&W.a.isTrue("responsive_web_continue_as_param_enabled"),r.state={autoSubmit:!1,recaptchaTermAccepted:!1,usernameValue:i||"",passwordValue:""},r}o()(t,e);var n=t.prototype;return n.UNSAFE_componentWillMount=function(){this._unsetFlashMessage(this.props)},n.componentDidMount=function(){var e=this.props,t=e.errorMessage,n=e.scribeNamespace,r=e.scribePageImpression,a=e.shouldChallenge;Object($.a)()&&this.context.setSideNavSupport(!1),t&&r(Object.assign({},n,{section:"error"})),a&&r(Object.assign({},n,{section:"recaptcha"}))},n.UNSAFE_componentWillUpdate=function(e){this._unsetFlashMessage(e)},n.componentWillUnmount=function(){Object($.a)()&&this.context.setSideNavSupport(!0)},n.render=function(){var e=this.props,t=e.errorMessage,n=e.loggedInUser,r=e.history,a=e.location;return this._continueEnabled&&n&&!t?l.createElement(z,{history:r,location:a,loggedInUser:n}):this._renderLogin()},n._unsetFlashMessage=function(e){e.errorMessage&&Object(Z.b)(G.a.serialize(X.k,"",{expires:new Date(0),path:"/",domain:".twitter.com",secure:!0}))},t}(l.Component);s()(pe,"contextType",d.a);var ue=ee.a.create((function(e){return{root:{marginTop:e.spaces.medium},links:{marginTop:e.spaces.medium},passedChallengeCopy:{marginVertical:e.spaces.small},submitButton:{marginVertical:e.spaces.xSmall,marginHorizontal:e.spaces.xSmall},icon:{color:e.colors.brandColor,height:e.spaces.xLarge},heading:{marginHorizontal:0,marginTop:e.spaces.large,marginBottom:e.spaces.xSmall},center:{flexDirection:"column",alignItems:"center"},gutter:{marginVertical:e.componentDimensions.gutterVertical}}}));t.default=Object(S.c)(de)(E(pe))},"2qJZ":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return c}));var r=n("wrlS"),a=n("8jkQ"),i="twitter.com",o="mobile.twitter.com";function c(){if(r.a.isTrue("responsive_web_fake_root_twitter_domain_for_testing"))return!0;var e=a.b.get();return Boolean(e&&e.hostname===i)}},Lam0:function(e,t,n){"use strict";n.d(t,"a",(function(){return V}));var r=n("1Pcy"),a=n.n(r),i=n("W/Kd"),o=n.n(i),c=n("KEM+"),s=n.n(c),l=n("ERkP"),d=n.n(l),p=n("aWzz"),u=n.n(p);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var g=function(e){var t,n;function r(){var t;return(t=e.call(this)||this).handleExpired=t.handleExpired.bind(m(t)),t.handleErrored=t.handleErrored.bind(m(t)),t.handleRecaptchaRef=t.handleRecaptchaRef.bind(m(t)),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getValue=function(){return this.props.grecaptcha&&void 0!==this._widgetId?this.props.grecaptcha.getResponse(this._widgetId):null},a.getWidgetId=function(){return this.props.grecaptcha&&void 0!==this._widgetId?this._widgetId:null},a.execute=function(){var e=this.props.grecaptcha;if(e&&void 0!==this._widgetId)return e.execute(this._widgetId);this._executeRequested=!0},a.reset=function(){this.props.grecaptcha&&void 0!==this._widgetId&&this.props.grecaptcha.reset(this._widgetId)},a.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.props.onChange&&this.props.onChange(null)},a.handleErrored=function(){this.props.onErrored&&this.props.onErrored()},a.explicitRender=function(){if(this.props.grecaptcha&&this.props.grecaptcha.render&&void 0===this._widgetId){var e=document.createElement("div");this._widgetId=this.props.grecaptcha.render(e,{sitekey:this.props.sitekey,callback:this.props.onChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge}),this.captcha.appendChild(e)}this._executeRequested&&this.props.grecaptcha&&void 0!==this._widgetId&&(this._executeRequested=!1,this.execute())},a.componentDidMount=function(){this.explicitRender()},a.componentDidUpdate=function(){this.explicitRender()},a.componentWillUnmount=function(){void 0!==this._widgetId&&(this.delayOfCaptchaIframeRemoving(),this.reset())},a.delayOfCaptchaIframeRemoving=function(){var e=document.createElement("div");for(document.body.appendChild(e),e.style.display="none";this.captcha.firstChild;)e.appendChild(this.captcha.firstChild);setTimeout((function(){document.body.removeChild(e)}),5e3)},a.handleRecaptchaRef=function(e){this.captcha=e},a.render=function(){var e=this.props,t=(e.sitekey,e.onChange,e.theme,e.type,e.tabindex,e.onExpired,e.onErrored,e.size,e.stoken,e.grecaptcha,e.badge,e.hl,function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl"]));return d.a.createElement("div",h({},t,{ref:this.handleRecaptchaRef}))},r}(d.a.Component);g.displayName="ReCAPTCHA",g.propTypes={sitekey:u.a.string.isRequired,onChange:u.a.func,grecaptcha:u.a.object,theme:u.a.oneOf(["dark","light"]),type:u.a.oneOf(["image","audio"]),tabindex:u.a.number,onExpired:u.a.func,onErrored:u.a.func,size:u.a.oneOf(["compact","normal","invisible"]),stoken:u.a.string,hl:u.a.string,badge:u.a.oneOf(["bottomright","bottomleft","inline"])},g.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var f=n("oXkQ"),b=n.n(f);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var v={},_=0;function w(){return"undefined"!=typeof window&&window.recaptchaOptions||{}}var E,S,L="onloadcallback",C=w(),O=(E=function(){var e=w(),t=e.lang?"&hl="+e.lang:"";return"https://"+(e.useRecaptchaNet?"recaptcha.net":"www.google.com")+"/recaptcha/api.js?onload="+L+"&render=explicit"+t},S=(S={callbackName:L,globalName:"grecaptcha",removeOnUnmount:C.removeOnUnmount||!1})||{},function(e){var t=e.displayName||e.name||"Component",n=function(t){var n,r;function a(e,n){var r;return(r=t.call(this,e,n)||this).state={},r.__scriptURL="",r}r=t,(n=a).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var i=a.prototype;return i.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+_++),this.__scriptLoaderID},i.setupScriptURL=function(){return this.__scriptURL="function"==typeof E?E():E,this.__scriptURL},i.asyncScriptLoaderHandleLoad=function(e){var t=this;this.setState(e,(function(){return t.props.asyncScriptOnLoad&&t.props.asyncScriptOnLoad(t.state)}))},i.asyncScriptLoaderTriggerOnScriptLoaded=function(){var e=v[this.__scriptURL];if(!e||!e.loaded)throw new Error("Script is not loaded.");for(var t in e.observers)e.observers[t](e);delete window[S.callbackName]},i.componentDidMount=function(){var e=this,t=this.setupScriptURL(),n=this.asyncScriptLoaderGetScriptLoaderID(),r=S,a=r.globalName,i=r.callbackName,o=r.scriptId;if(a&&void 0!==window[a]&&(v[t]={loaded:!0,observers:{}}),v[t]){var c=v[t];return c&&(c.loaded||c.errored)?void this.asyncScriptLoaderHandleLoad(c):void(c.observers[n]=function(t){return e.asyncScriptLoaderHandleLoad(t)})}var s={};s[n]=function(t){return e.asyncScriptLoaderHandleLoad(t)},v[t]={loaded:!1,observers:s};var l=document.createElement("script");l.src=t,l.async=!0,o&&(l.id=o);var d=function(e){if(v[t]){var n=v[t].observers;for(var r in n)e(n[r])&&delete n[r]}};i&&"undefined"!=typeof window&&(window[i]=function(){return e.asyncScriptLoaderTriggerOnScriptLoaded()}),l.onload=function(){var e=v[t];e&&(e.loaded=!0,d((function(t){return!i&&(t(e),!0)})))},l.onerror=function(){var e=v[t];e&&(e.errored=!0,d((function(t){return t(e),!0})))},document.body.appendChild(l)},i.componentWillUnmount=function(){var e=this.__scriptURL;if(!0===S.removeOnUnmount)for(var t=document.getElementsByTagName("script"),n=0;n<t.length;n+=1)t[n].src.indexOf(e)>-1&&t[n].parentNode&&t[n].parentNode.removeChild(t[n]);var r=v[e];r&&(delete r.observers[this.asyncScriptLoaderGetScriptLoaderID()],!0===S.removeOnUnmount&&delete v[e])},i.render=function(){var t=S.globalName,n=this.props,r=(n.asyncScriptOnLoad,n.forwardedRef),a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(n,["asyncScriptOnLoad","forwardedRef"]);return t&&"undefined"!=typeof window&&(a[t]=void 0!==window[t]?window[t]:void 0),a.ref=r,Object(l.createElement)(e,a)},a}(l.Component),r=Object(l.forwardRef)((function(e,t){return Object(l.createElement)(n,y({},e,{forwardedRef:t}))}));return r.displayName="AsyncScriptLoader("+t+")",r.propTypes={asyncScriptOnLoad:u.a.func},b()(r,e)})(g),R=n("3xO4"),x=n.n(R),k=n("t62R"),I=n("/yvb"),j=n("rHpw"),P=n("3XMw"),A=n.n(P),D=A.a.c1df579e,U=A.a.b60eba9e,T=A.a.ba939777,F=A.a.bc6efc72,V=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,s()(a()(r),"_handlePass",(function(e){var t=r.props.onChange;t&&setTimeout((function(){return t(e)}),1e3)})),s()(a()(r),"_handleConsent",(function(){var e=r.props.onConsent;r.setState({termsAccepted:!0}),e&&e()})),r.state={termsAccepted:!1},r}o()(t,e);var n=t.prototype;return n._renderConsentForm=function(){var e=this.props.nextButtonDisabled;return l.createElement(x.a,null,l.createElement(k.c,{style:M.guideCopy},U),l.createElement(x.a,{style:M.button},l.createElement(I.a,{disabled:e,onPress:this._handleConsent,size:"normalLarge",type:"secondary"},D)),l.createElement(k.c,{color:"deepGray"},l.createElement(A.a.I18NFormatMessage,{$i18n:"hc37d3ba"},l.createElement(k.c,{link:"https://policies.google.com/privacy"},F))))},n._renderRecaptcha=function(){var e=this.props.withConsentForm;return l.createElement(l.Fragment,null,e?l.createElement(x.a,{style:M.recaptchaTitle},l.createElement(k.c,{style:M.guideCopy},T)):null,l.createElement(x.a,{style:M.container},l.createElement(O,{onChange:this._handlePass,sitekey:"6LfOP30UAAAAAFBC4jbzu890rTdXBXBNHx9eVZEX"})))},n.render=function(){var e=this.props.withConsentForm,t=this.state.termsAccepted;return e&&!t?this._renderConsentForm():this._renderRecaptcha()},t}(l.Component),M=j.a.create((function(e){return{container:{margin:"auto",transitionProperty:"opacity",transitionDelay:"2s"},button:{paddingVertical:e.spaces.medium},guideCopy:{paddingTop:e.spaces.xSmall},recaptchaTitle:{paddingBottom:e.spaces.medium}}}))}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/web_legacy/bundle.Login.bb3b4ad4.js.map